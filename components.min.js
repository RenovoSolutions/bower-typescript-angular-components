this.rl_components=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var i=n(1);n(2),n(4),n(6),n(7),n(8),n(16);var r=n(17);t.behaviors=r;var a=n(20);t.components=a;var o=n(102);t.services=o,t.moduleName="rl.ui",i.module(t.moduleName,["ui.bootstrap","ngSanitize","textAngular",r.moduleName,a.moduleName,o.moduleName])},function(e,t){!function(){e.exports=this.angular}()},function(e,t,n){n(3),e.exports="ui.bootstrap"},function(e,t){angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(e){return{link:function(t,n,i){function r(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(a)}function a(){n.removeClass("collapsing"),n.css({height:"auto"})}function o(){return n.hasClass("collapse")||n.hasClass("in")?(n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),void e.removeClass(n,"in",{to:{height:"0"}}).then(s)):s()}function s(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}t.$watch(i.collapse,function(e){e?o():r()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){var r=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;r&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"}}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){i.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass,e.$watch("isOpen",function(n){t.toggleClass(e.openClass,n),n&&i.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,i){e.$watch(function(){return i[n.accordionTransclude]},function(e){e&&(t.find("span").html(""),t.find("span").append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable=!!t.close,this.close=e.close}]).directive("alert",function(){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,i,r){e(function(){r.close()},parseInt(i.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(e,t){return function(n,i,r){t||e.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),i.addClass("ng-binding").data("$binding",r.bindHtmlUnsafe),n.$watch(r.bindHtmlUnsafe,function(e){i.html(e||"")})}}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(e,t,n,i){var r=i[0],a=i[1];t.find("input").css({display:"none"}),a.$render=function(){t.toggleClass(r.activeClass,angular.equals(a.$modelValue,e.$eval(n.btnRadio)))},t.bind(r.toggleEvent,function(){if(!n.disabled){var i=t.hasClass(r.activeClass);(!i||angular.isDefined(n.uncheckable))&&e.$apply(function(){a.$setViewValue(i?null:e.$eval(n.btnRadio)),a.$render()})}})}}}).directive("btnCheckbox",["$document",function(e){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(t,n,i,r){function a(){return s(i.btnCheckboxTrue,!0)}function o(){return s(i.btnCheckboxFalse,!1)}function s(e,n){var i=t.$eval(e);return angular.isDefined(i)?i:n}var l=r[0],c=r[1];n.find("input").css({display:"none"}),c.$render=function(){n.toggleClass(l.activeClass,angular.equals(c.$modelValue,a()))},n.bind(l.toggleEvent,function(){i.disabled||t.$apply(function(){c.$setViewValue(n.hasClass(l.activeClass)?o():a()),c.$render()})}),n.on("keypress",function(r){i.disabled||32!==r.which||e[0].activeElement!==n[0]||t.$apply(function(){c.$setViewValue(n.hasClass(l.activeClass)?o():a()),c.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function(e,t,n,i){function r(t,n,r){v||(angular.extend(t,{direction:r,active:!0}),angular.extend(d.currentSlide||{},{direction:r,active:!1}),i.enabled()&&!e.noTransition&&!e.$currentTransition&&t.$element&&d.slides.length>1&&(t.$element.data(m,t.direction),d.currentSlide&&d.currentSlide.$element&&d.currentSlide.$element.data(m,t.direction),e.$currentTransition=!0,h?i.on("addClass",t.$element,function(t,n){"close"===n&&(e.$currentTransition=null,i.off("addClass",t))}):t.$element.one("$animate:close",function(){e.$currentTransition=null})),d.currentSlide=t,g=n,o())}function a(e){if(angular.isUndefined(p[e].index))return p[e];var t;p.length;for(t=0;t<p.length;++t)if(p[t].index==e)return p[t]}function o(){s();var t=+e.interval;!isNaN(t)&&t>0&&(c=n(l,t))}function s(){c&&(n.cancel(c),c=null)}function l(){var t=+e.interval;u&&!isNaN(t)&&t>0&&p.length?e.next():e.pause()}var c,u,d=this,p=d.slides=e.slides=[],h=angular.version.minor>=4,f="uib-noTransition",m="uib-slideDirection",g=-1;d.currentSlide=null;var v=!1;d.select=e.select=function(t,n){var i=e.indexOfSlide(t);void 0===n&&(n=i>d.getCurrentIndex()?"next":"prev"),t&&t!==d.currentSlide&&!e.$currentTransition&&r(t,i,n)},e.$on("$destroy",function(){v=!0}),d.getCurrentIndex=function(){return d.currentSlide&&angular.isDefined(d.currentSlide.index)?+d.currentSlide.index:g},e.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:p.indexOf(e)},e.next=function(){var t=(d.getCurrentIndex()+1)%p.length;return 0===t&&e.noWrap()?void e.pause():d.select(a(t),"next")},e.prev=function(){var t=d.getCurrentIndex()-1<0?p.length-1:d.getCurrentIndex()-1;return e.noWrap()&&t===p.length-1?void e.pause():d.select(a(t),"prev")},e.isActive=function(e){return d.currentSlide===e},e.$watch("interval",o),e.$on("$destroy",s),e.play=function(){u||(u=!0,o())},e.pause=function(){e.noPause||(u=!1,s())},d.addSlide=function(t,n){t.$element=n,p.push(t),1===p.length||t.active?(d.select(p[p.length-1]),1==p.length&&e.play()):t.active=!1},d.removeSlide=function(e){angular.isDefined(e.index)&&p.sort(function(e,t){return+e.index>+t.index});var t=p.indexOf(e);p.splice(t,1),p.length>0&&e.active?t>=p.length?d.select(p[t-1]):d.select(p[t]):g>t&&g--,0===p.length&&(d.currentSlide=null)},e.$watch("noTransition",function(e){t.data(f,e)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(e,t,n,i){i.addSlide(e,t),e.$on("$destroy",function(){i.removeSlide(e)}),e.$watch("active",function(t){t&&i.select(e)})}}}).animation(".item",["$injector","$animate",function(e,t){function n(e,t,n){e.removeClass(t),n&&n()}var i="uib-noTransition",r="uib-slideDirection",a=null;return e.has("$animateCss")&&(a=e.get("$animateCss")),{beforeAddClass:function(e,o,s){if("active"==o&&e.parent()&&!e.parent().data(i)){var l=!1,c=e.data(r),u="next"==c?"left":"right",d=n.bind(this,e,u+" "+c,s);return e.addClass(c),a?a(e,{addClass:u}).start().done(d):t.addClass(e,u).then(function(){l||d(),s()}),function(){l=!0}}s()},beforeRemoveClass:function(e,o,s){if("active"===o&&e.parent()&&!e.parent().data(i)){var l=!1,c=e.data(r),u="next"==c?"left":"right",d=n.bind(this,e,u,s);return a?a(e,{addClass:u}).start().done(d):t.addClass(e,u).then(function(){l||d(),s()}),function(){l=!0}}s()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$log","$locale","orderByFilter",function(e,t,n){function i(e){var t=[],i=e.split("");return angular.forEach(o,function(n,r){var a=e.indexOf(r);if(a>-1){e=e.split(""),i[a]="("+n.regex+")",e[a]="$";for(var o=a+1,s=a+r.length;s>o;o++)i[o]="",e[o]="$";e=e.join(""),t.push({index:a,apply:n.apply})}}),{regex:new RegExp("^"+i.join("")+"$"),map:n(t,"index")}}function r(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}var a=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var o={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},hh:{regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},h:{regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},a:{regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}}};this.parse=function(n,o,s){if(!angular.isString(n)||!o)return n;o=t.DATETIME_FORMATS[o]||o,o=o.replace(a,"\\$&"),this.parsers[o]||(this.parsers[o]=i(o));var l=this.parsers[o],c=l.regex,u=l.map,d=n.match(c);if(d&&d.length){var p,h;angular.isDate(s)&&!isNaN(s.getTime())?p={year:s.getFullYear(),month:s.getMonth(),date:s.getDate(),hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds(),milliseconds:s.getMilliseconds()}:(s&&e.warn("dateparser:","baseDate is not a valid date"),p={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var f=1,m=d.length;m>f;f++){var g=u[f-1];g.apply&&g.apply.call(p,d[f])}return r(p.year,p.month,p.date)&&(h=new Date(p.year,p.month,p.date,p.hours,p.minutes,p.seconds,p.milliseconds||0)),h}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function i(e){return"static"===(n(e,"position")||"static")}var r=function(t){for(var n=e[0],r=t.offsetParent||n;r&&r!==n&&i(r);)r=r.offsetParent;return r||n};return{position:function(t){var n=this.offset(t),i={top:0,left:0},a=r(t[0]);a!=e[0]&&(i=this.offset(angular.element(a)),i.top+=a.clientTop-a.scrollTop,i.left+=a.clientLeft-a.scrollLeft);var o=t[0].getBoundingClientRect();return{width:o.width||t.prop("offsetWidth"),height:o.height||t.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:i.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,i){var r,a,o,s,l=n.split("-"),c=l[0],u=l[1]||"center";r=i?this.offset(e):this.position(e),a=t.prop("offsetWidth"),o=t.prop("offsetHeight");var d={center:function(){return r.left+r.width/2-a/2},left:function(){return r.left},right:function(){return r.left+r.width}},p={center:function(){return r.top+r.height/2-o/2},top:function(){return r.top},bottom:function(){return r.top+r.height}};switch(c){case"right":s={top:p[u](),left:d[c]()};break;case"left":s={top:p[u](),left:r.left-a};break;case"bottom":s={top:p[c](),left:d[u]()};break;default:s={top:r.top-o,left:d[u]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig","$datepickerSuppressError",function(e,t,n,i,r,a,o,s){var l=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,r){l[n]=angular.isDefined(t[n])?6>r?i(t[n])(e.$parent):e.$parent.$eval(t[n]):o[n]}),angular.forEach(["minDate","maxDate"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(e){l[i]=e?new Date(e):null,l.refreshView()}):l[i]=o[i]?new Date(o[i]):null}),angular.forEach(["minMode","maxMode"],function(i){t[i]?e.$parent.$watch(n(t[i]),function(n){l[i]=angular.isDefined(n)?n:t[i],e[i]=l[i],("minMode"==i&&l.modes.indexOf(e.datepickerMode)<l.modes.indexOf(l[i])||"maxMode"==i&&l.modes.indexOf(e.datepickerMode)>l.modes.indexOf(l[i]))&&(e.datepickerMode=l[i])}):(l[i]=o[i]||null,e[i]=l[i])}),e.datepickerMode=e.datepickerMode||o.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(l.activeDate=e,l.refreshView())})):this.activeDate=new Date,e.isActive=function(t){return 0===l.compare(t.date,l.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){c=e,c.$render=function(){l.render()}},this.render=function(){if(c.$viewValue){var e=new Date(c.$viewValue),t=!isNaN(e);t?this.activeDate=e:s||r.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:a(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},e.select=function(t){if(e.datepickerMode===l.minMode){var n=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else l.activeDate=t,e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===l.maxMode&&1===t||e.datepickerMode===l.minMode&&-1===t||(e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var u=function(){l.element[0].focus()};e.$on("datepicker.focus",u),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),l.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;e.select(l.activeDate),u()}else!t.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,t),l.refreshView()):(e.toggleMode("up"===n?1:-1),u())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(e,t,n,i){var r=i[0],a=i[1];r.init(a)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,i,r){function a(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?l[t]:29}function o(e,t){for(var n,i=new Array(t),a=new Date(e),o=0;t>o;)n=new Date(a),r.fixTimeZone(n),i[o++]=n,a.setDate(a.getDate()+1);return i}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=r.showWeeks,r.step={months:1},r.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];r._refreshView=function(){var n=r.activeDate.getFullYear(),i=r.activeDate.getMonth(),a=new Date(n,i,1),l=r.startingDay-a.getDay(),c=l>0?7-l:-l,u=new Date(a);c>0&&u.setDate(-c+1);for(var d=o(u,42),p=0;42>p;p++)d[p]=angular.extend(r.createDateObject(d[p],r.formatDay),{secondary:d[p].getMonth()!==i,uid:t.uniqueId+"-"+p});t.labels=new Array(7);for(var h=0;7>h;h++)t.labels[h]={abbr:e(d[h].date,r.formatDayHeader),full:e(d[h].date,"EEEE")};if(t.title=e(r.activeDate,r.formatDayTitle),t.rows=r.split(d,7),t.showWeeks){t.weekNumbers=[];for(var f=(11-r.startingDay)%7,m=t.rows.length,g=0;m>g;g++)t.weekNumbers.push(s(t.rows[g][f].date))}},r.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},r.handleKeyDown=function(e,t){var n=r.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var i=r.activeDate.getMonth()+("pageup"===e?-1:1);r.activeDate.setMonth(i,1),n=Math.min(a(r.activeDate.getFullYear(),r.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=a(r.activeDate.getFullYear(),r.activeDate.getMonth()));r.activeDate.setDate(n)},r.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,i,r){r.step={years:1},r.element=n,r._refreshView=function(){for(var n,i=new Array(12),a=r.activeDate.getFullYear(),o=0;12>o;o++)n=new Date(a,o,1),r.fixTimeZone(n),i[o]=angular.extend(r.createDateObject(n,r.formatMonth),{uid:t.uniqueId+"-"+o});t.title=e(r.activeDate,r.formatMonthTitle),t.rows=r.split(i,3)},r.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},r.handleKeyDown=function(e,t){var n=r.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var i=r.activeDate.getFullYear()+("pageup"===e?-1:1);r.activeDate.setFullYear(i)}else"home"===e?n=0:"end"===e&&(n=11);r.activeDate.setMonth(n)},r.refreshView()}}}]).directive("yearpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,i){function r(e){return parseInt((e-1)/a,10)*a+1}var a=i.yearRange;i.step={years:a},i.element=t,i._refreshView=function(){for(var t,n=new Array(a),o=0,s=r(i.activeDate.getFullYear());a>o;o++)t=new Date(s+o,0,1),i.fixTimeZone(t),n[o]=angular.extend(i.createDateObject(t,i.formatYear),{uid:e.uniqueId+"-"+o});e.title=[n[0].label,n[a-1].label].join(" - "),e.rows=i.split(n,5)},i.compare=function(e,t){return e.getFullYear()-t.getFullYear()},i.handleKeyDown=function(e,t){var n=i.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=5:"right"===e?n+=1:"down"===e?n+=5:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*i.step.years:"home"===e?n=r(i.activeDate.getFullYear()):"end"===e&&(n=r(i.activeDate.getFullYear())+a-1),i.activeDate.setFullYear(n)},i.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).directive("datepickerPopup",["$compile","$parse","$document","$rootScope","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(e,t,n,i,r,a,o,s,l){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(c,u,d,p){function h(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function f(e){if(angular.isNumber(e)&&(e=new Date(e)),e){if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=o.parse(e,g,c.date);return isNaN(t)?void 0:t}return void 0}return null}function m(e,t){var n=e||t;if(!d.ngRequired&&!n)return!0;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var i=o.parse(n,g);return!isNaN(i)}return!1}return!0}var g,v=angular.isDefined(d.closeOnDateSelection)?c.$parent.$eval(d.closeOnDateSelection):s.closeOnDateSelection,b=angular.isDefined(d.datepickerAppendToBody)?c.$parent.$eval(d.datepickerAppendToBody):s.appendToBody,y=angular.isDefined(d.onOpenFocus)?c.$parent.$eval(d.onOpenFocus):s.onOpenFocus,C=angular.isDefined(d.datepickerPopupTemplateUrl)?d.datepickerPopupTemplateUrl:s.datepickerPopupTemplateUrl,w=angular.isDefined(d.datepickerTemplateUrl)?d.datepickerTemplateUrl:s.datepickerTemplateUrl,x={};c.showButtonBar=angular.isDefined(d.showButtonBar)?c.$parent.$eval(d.showButtonBar):s.showButtonBar,c.getText=function(e){return c[e+"Text"]||s[e+"Text"]},c.isDisabled=function(e){return"today"===e&&(e=new Date),c.watchData.minDate&&c.compare(e,x.minDate)<0||c.watchData.maxDate&&c.compare(e,x.maxDate)>0},c.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())};var S=!1;if(s.html5Types[d.type]?(g=s.html5Types[d.type],S=!0):(g=d.datepickerPopup||s.datepickerPopup,d.$observe("datepickerPopup",function(e,t){var n=e||s.datepickerPopup;if(n!==g&&(g=n,p.$modelValue=null,!g))throw new Error("datepickerPopup must have a date format specified.")})),!g)throw new Error("datepickerPopup must have a date format specified.");if(S&&d.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var N=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");N.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":C});var $=angular.element(N.children()[0]);if($.attr("template-url",w),S&&"month"===d.type&&($.attr("datepicker-mode",'"month"'),$.attr("min-mode","month")),d.datepickerOptions){var k=c.$parent.$eval(d.datepickerOptions);k&&k.initDate&&(c.initDate=k.initDate,$.attr("init-date","initDate"),delete k.initDate),angular.forEach(k,function(e,t){$.attr(h(t),e)})}c.watchData={},angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(e){if(d[e]){var n=t(d[e]);if(c.$parent.$watch(n,function(t){c.watchData[e]=t,("minDate"===e||"maxDate"===e)&&(x[e]=new Date(t))}),$.attr(h(e),"watchData."+e),"datepickerMode"===e){var i=n.assign;c.$watch("watchData."+e,function(e,t){angular.isFunction(i)&&e!==t&&i(c.$parent,e)})}}}),d.dateDisabled&&$.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),d.showWeeks&&$.attr("show-weeks",d.showWeeks),d.customClass&&$.attr("custom-class","customClass({ date: date, mode: mode })"),S?p.$formatters.push(function(e){return c.date=e,e}):(p.$$parserName="date",p.$validators.date=m,p.$parsers.unshift(f),p.$formatters.push(function(e){return c.date=e,p.$isEmpty(e)?e:a(e,g)})),c.dateSelection=function(e){angular.isDefined(e)&&(c.date=e);var t=c.date?a(c.date,g):null;u.val(t),p.$setViewValue(t),v&&(c.isOpen=!1,u[0].focus())},p.$viewChangeListeners.push(function(){c.date=o.parse(p.$viewValue,g,c.date)});var E=function(e){!c.isOpen||u[0].contains(e.target)||N[0].contains(e.target)||c.$apply(function(){c.isOpen=!1})},T=function(e){27===e.which&&c.isOpen?(e.preventDefault(),e.stopPropagation(),c.$apply(function(){c.isOpen=!1}),u[0].focus()):40!==e.which||c.isOpen||(e.preventDefault(),e.stopPropagation(),c.$apply(function(){c.isOpen=!0}))};u.bind("keydown",T),c.keydown=function(e){27===e.which&&(c.isOpen=!1,u[0].focus())},c.$watch("isOpen",function(e){e?(c.position=b?r.offset(u):r.position(u),c.position.top=c.position.top+u.prop("offsetHeight"),l(function(){y&&c.$broadcast("datepicker.focus"),n.bind("click",E)},0,!1)):n.unbind("click",E)}),c.select=function(e){if("today"===e){var t=new Date;angular.isDate(c.date)?(e=new Date(c.date),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}c.dateSelection(e)},c.close=function(){c.isOpen=!1,u[0].focus()};var D=e(N)(c);N.remove(),b?n.find("body").append(D):u.after(D),c.$on("$destroy",function(){c.isOpen===!0&&(i.$$phase||c.$apply(function(){c.isOpen=!1})),D.remove(),u.unbind("keydown",T),n.unbind("click",E)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t){n||(e.bind("click",i),e.bind("keydown",r)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.unbind("click",i),e.unbind("keydown",r))};var i=function(e){if(n&&(!e||"disabled"!==n.getAutoClose())){var i=n.getToggleElement();if(!(e&&i&&i[0].contains(e.target))){var r=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&r&&r[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},r=function(e){27===e.which?(n.focusToggleElement(),i()):n.isKeynavEnabled()&&/(38|40)/.test(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(e,t,n,i,r,a,o,s,l,c){var u,d,p=this,h=e.$new(),f=i.openClass,m=angular.noop,g=t.onToggle?n(t.onToggle):angular.noop,v=!1,b=!1,y=s.find("body");this.init=function(i){p.$element=i,t.isOpen&&(d=n(t.isOpen),m=d.assign,e.$watch(d,function(e){h.isOpen=!!e})),v=angular.isDefined(t.dropdownAppendToBody),b=angular.isDefined(t.keyboardNav),v&&p.dropdownMenu&&(y.append(p.dropdownMenu),y.addClass("dropdown"),i.on("$destroy",function(){p.dropdownMenu.remove()}))},this.toggle=function(e){return h.isOpen=arguments.length?!!e:!h.isOpen},this.isOpen=function(){return h.isOpen},h.getToggleElement=function(){return p.toggleElement},h.getAutoClose=function(){return t.autoClose||"always"},h.getElement=function(){return p.$element},h.isKeynavEnabled=function(){return b},h.focusDropdownEntry=function(e){var t=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):angular.element(p.$element).find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(p.selectedOption)?p.selectedOption=p.selectedOption===t.length-1?p.selectedOption:p.selectedOption+1:p.selectedOption=0;break;case 38:angular.isNumber(p.selectedOption)?p.selectedOption=0===p.selectedOption?0:p.selectedOption-1:p.selectedOption=t.length-1}t[p.selectedOption].focus()},h.getDropdownElement=function(){return p.dropdownMenu},h.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},h.$watch("isOpen",function(t,n){if(v&&p.dropdownMenu){var i=o.positionElements(p.$element,p.dropdownMenu,"bottom-left",!0),s={top:i.top+"px",display:t?"block":"none"},d=p.dropdownMenu.hasClass("dropdown-menu-right");d?(s.left="auto",s.right=window.innerWidth-(i.left+p.$element.prop("offsetWidth"))+"px"):(s.left=i.left+"px",s.right="auto"),p.dropdownMenu.css(s)}var b=v?y:p.$element;if(a[t?"addClass":"removeClass"](b,f).then(function(){
angular.isDefined(t)&&t!==n&&g(e,{open:!!t})}),t)p.dropdownMenuTemplateUrl&&c(p.dropdownMenuTemplateUrl).then(function(e){u=h.$new(),l(e.trim())(u,function(e){var t=e;p.dropdownMenu.replaceWith(t),p.dropdownMenu=t})}),h.focusToggleElement(),r.open(h);else{if(p.dropdownMenuTemplateUrl){u&&u.$destroy();var C=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith(C),p.dropdownMenu=C}r.close(h),p.selectedOption=null}angular.isFunction(m)&&m(e,t)}),e.$on("$locationChangeSuccess",function(){"disabled"!==h.getAutoClose()&&(h.isOpen=!1)});var C=e.$on("$destroy",function(){h.$destroy()});h.$on("$destroy",C)}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,i){i.init(t),t.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(e,t,n,i){if(i){var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=t)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(e,t,n,i){t.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=i.dropdownMenu.find("a");switch(e.which){case 40:angular.isNumber(i.selectedOption)?i.selectedOption=i.selectedOption===t.length-1?i.selectedOption:i.selectedOption+1:i.selectedOption=0;break;case 38:angular.isNumber(i.selectedOption)?i.selectedOption=0===i.selectedOption?0:i.selectedOption-1:i.selectedOption=t.length-1}t[i.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,i){if(i){t.addClass("dropdown-toggle"),i.toggleElement=t;var r=function(r){r.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.bind("click",r),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",r)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t==e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var i=e[t];if(i){var r=i.indexOf(n);-1!==r&&i.splice(r,1),i.length||delete e[t]}}}}}}).directive("modalBackdrop",["$animate","$injector","$modalStack",function(e,t,n){function i(t,i,a){a.modalInClass&&(r?r(i,{addClass:a.modalInClass}).start():e.addClass(i,a.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(t,n){var o=n();r?r(i,{removeClass:a.modalInClass}).start().then(o):e.removeClass(i,a.modalInClass).then(o)}))}var r=null;return t.has("$animateCss")&&(r=t.get("$animateCss")),{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),i}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector",function(e,t,n,i){var r=null;return i.has("$animateCss")&&(r=i.get("$animateCss")),{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(i,a,o){a.addClass(o.windowClass||""),i.size=o.size,i.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},i.$isRendered=!0;var s=t.defer();o.$observe("modalRender",function(e){"true"==e&&s.resolve()}),s.promise.then(function(){var s=null;o.modalInClass&&(s=r?r(a,{addClass:o.modalInClass}).start():n.addClass(a,o.modalInClass),i.$on(e.NOW_CLOSING_EVENT,function(e,t){var i=t();r?r(a,{removeClass:o.modalInClass}).start().then(i):n.removeClass(a,o.modalInClass).then(i)})),t.when(s).then(function(){var e=a[0].querySelectorAll("[autofocus]");e.length?e[0].focus():a[0].focus()});var l=e.getTop();l&&e.modalRendered(l.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,i,r){r(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(e,t,n,i,r,a,o,s,l){function c(){for(var e=-1,t=y.keys(),n=0;n<t.length;n++)y.get(t[n]).value.backdrop&&(e=n);return e}function u(e,t){var i=n.find("body").eq(0),r=y.get(e).value;y.remove(e),p(r.modalDomEl,r.modalScope,function(){var t=r.openedClass||b;C.remove(t,e),i.toggleClass(t,C.hasKey(t))}),d(),t&&t.focus?t.focus():i.focus()}function d(){if(m&&-1==c()){var e=g;p(m,g,function(){e=null}),m=void 0,g=void 0}}function p(t,n,i){function r(){r.done||(r.done=!0,f?f(t,{event:"leave"}).start().then(function(){t.remove()}):e.leave(t),n.$destroy(),i&&i())}var o,s=null,l=function(){return o||(o=a.defer(),s=o.promise),function(){o.resolve()}};return n.$broadcast(w.NOW_CLOSING_EVENT,l),a.when(s).then(r)}function h(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var f=null;o.has("$animateCss")&&(f=o.get("$animateCss"));var m,g,v,b="modal-open",y=l.createNew(),C=s.createNew(),w={NOW_CLOSING_EVENT:"modal.stack.now-closing"},x=0,S="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return r.$watch(c,function(e){g&&(g.index=e)}),n.bind("keydown",function(e){if(e.isDefaultPrevented())return e;var t=y.top();if(t&&t.value.keyboard)switch(e.which){case 27:e.preventDefault(),r.$apply(function(){w.dismiss(t.key,"escape key press")});break;case 9:w.loadFocusElementList(t);var n=!1;e.shiftKey?w.isFocusInFirstItem(e)&&(n=w.focusLastFocusableElement()):w.isFocusInLastItem(e)&&(n=w.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}}),w.open=function(e,t){var a=n[0].activeElement,o=t.openedClass||b;y.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass}),C.put(o,e);var s=n.find("body").eq(0),l=c();if(l>=0&&!m){g=r.$new(!0),g.index=l;var u=angular.element('<div modal-backdrop="modal-backdrop"></div>');u.attr("backdrop-class",t.backdropClass),t.animation&&u.attr("modal-animation","true"),m=i(u)(g),s.append(m)}var d=angular.element('<div modal-window="modal-window"></div>');d.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:y.length()-1,animate:"animate"}).html(t.content),t.animation&&d.attr("modal-animation","true");var p=i(d)(t.scope);y.top().value.modalDomEl=p,y.top().value.modalOpener=a,s.append(p),s.addClass(o),w.clearFocusListCache()},w.close=function(e,t){var n=y.get(e);return n&&h(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),u(e,n.value.modalOpener),!0):!n},w.dismiss=function(e,t){var n=y.get(e);return n&&h(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),u(e,n.value.modalOpener),!0):!n},w.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},w.getTop=function(){return y.top()},w.modalRendered=function(e){var t=y.get(e);t&&t.value.renderDeferred.resolve()},w.focusFirstFocusableElement=function(){return v.length>0?(v[0].focus(),!0):!1},w.focusLastFocusableElement=function(){return v.length>0?(v[v.length-1].focus(),!0):!1},w.isFocusInFirstItem=function(e){return v.length>0?(e.target||e.srcElement)==v[0]:!1},w.isFocusInLastItem=function(e){return v.length>0?(e.target||e.srcElement)==v[v.length-1]:!1},w.clearFocusListCache=function(){v=[],x=0},w.loadFocusElementList=function(e){if((void 0===v||!v.length0)&&e){var t=e.value.modalDomEl;t&&t.length&&(v=t[0].querySelectorAll(S))}},w}]).provider("$modal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(t,n,i,r,a,o){function s(e){return e.template?i.when(e.template):r(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function l(e){var n=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?n.push(i.when(t.invoke(e))):angular.isString(e)?n.push(i.when(t.get(e))):n.push(i.when(e))}),n}var c={},u=null;return c.getPromiseChain=function(){return u},c.open=function(t){var r=i.defer(),c=i.defer(),d=i.defer(),p={result:r.promise,opened:c.promise,rendered:d.promise,close:function(e){return o.close(p,e)},dismiss:function(e){return o.dismiss(p,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var h,f=i.all([s(t)].concat(l(t.resolve)));return h=u=i.all([u]).then(function(){return f},function(){return f}).then(function(e){var i=(t.scope||n).$new();i.$close=p.close,i.$dismiss=p.dismiss,i.$on("$destroy",function(){i.$$uibDestructionScheduled||i.$dismiss("$uibUnscheduledDestruction")});var s,l={},u=1;t.controller&&(l.$scope=i,l.$modalInstance=p,angular.forEach(t.resolve,function(t,n){l[n]=e[u++]}),s=a(t.controller,l),t.controllerAs&&(t.bindToController&&angular.extend(s,i),i[t.controllerAs]=s)),o.open(p,{scope:i,deferred:r,renderDeferred:d,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size,openedClass:t.openedClass}),c.resolve(!0)},function(e){c.reject(e),r.reject(e)})["finally"](function(){u===h&&(u=null)}),p},c}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var i=this,r={$setViewValue:angular.noop},a=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(o,s){r=o,this.config=s,r.$render=function(){i.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){i.itemsPerPage=parseInt(t,10),e.totalPages=i.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=i.calculateTotalPages()}),e.$watch("totalPages",function(t){a(e.$parent,t),e.page>t?e.selectPage(t):r.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(r.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault();var i=!e.ngDisabled||!n;i&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),r.$setViewValue(t),r.$render())},e.getText=function(t){return e[t+"Text"]||i.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(n,i,r,a){function o(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],i=1,r=t,a=angular.isDefined(u)&&t>u;a&&(d?(i=Math.max(e-Math.floor(u/2),1),r=i+u-1,r>t&&(r=t,i=r-u+1)):(i=(Math.ceil(e/u)-1)*u+1,r=Math.min(i+u-1,t)));for(var s=i;r>=s;s++){var l=o(s,s,s===e);n.push(l)}if(a&&!d){if(i>1){var c=o(i-1,"...",!1);n.unshift(c)}if(t>r){var p=o(r+1,"...",!1);n.push(p)}}return n}var l=a[0],c=a[1];if(c){var u=angular.isDefined(r.maxSize)?n.$parent.$eval(r.maxSize):t.maxSize,d=angular.isDefined(r.rotate)?n.$parent.$eval(r.rotate):t.rotate;n.boundaryLinks=angular.isDefined(r.boundaryLinks)?n.$parent.$eval(r.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(r.directionLinks)?n.$parent.$eval(r.directionLinks):t.directionLinks,l.init(c,t),r.maxSize&&n.$parent.$watch(e(r.maxSize),function(e){u=parseInt(e,10),l.render()});var p=l.render;l.render=function(){p(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(t,n,i,r){var a=r[0],o=r[1];o&&(t.align=angular.isDefined(i.align)?t.$parent.$eval(i.align):e.align,a.init(o,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate","$rootScope","$parse",function(r,a,o,s,l,c,u,d){return function(r,p,h,f){function m(e){var t=(e||f.trigger||h).split(" "),i=t.map(function(e){return n[e]||e});return{show:t,hide:i}}f=angular.extend({},t,i,f);var g=e(r),v=c.startSymbol(),b=c.endSymbol(),y="<div "+g+'-popup title="'+v+"title"+b+'" '+(f.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+b+'" ')+'placement="'+v+"placement"+b+'" popup-class="'+v+"popupClass"+b+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(e,t){var n=a(y);return function(e,t,i,a){function c(){A.isOpen?g():h()}function h(){(!O||e.$eval(i[p+"Enable"]))&&(w(),A.popupDelay?D||(D=o(v,A.popupDelay,!1)):v())}function g(){b(),u.$$phase||u.$digest()}function v(){return D=null,T&&(o.cancel(T),T=null),(f.useContentExp?A.contentExp():A.content)?(y(),A.isOpen=!0,L&&L.assign(A.origScope,A.isOpen),u.$$phase||A.$apply(),k.css({display:"block"}),void I()):angular.noop}function b(){A.isOpen=!1,L&&L.assign(A.origScope,A.isOpen),o.cancel(D),D=null,o.cancel(_),_=null,A.animation?T||(T=o(C,500)):C()}function y(){k&&C(),E=A.$new(),k=n(E,function(e){M?s.find("body").append(e):t.after(e)}),f.useContentExp&&(E.$watch("contentExp()",function(e){!e&&A.isOpen&&b()}),E.$watch(function(){P||(P=!0,E.$$postDigest(function(){P=!1,A.isOpen&&I()}))}))}function C(){T=null,k&&(k.remove(),k=null),E&&(E.$destroy(),E=null)}function w(){x(),S(),N()}function x(){A.popupClass=i[p+"Class"]}function S(){var e=i[p+"Placement"];A.placement=angular.isDefined(e)?e:f.placement}function N(){var e=i[p+"PopupDelay"],t=parseInt(e,10);A.popupDelay=isNaN(t)?f.popupDelay:t}function $(){var e=i[p+"Trigger"];B(),R=m(e),"none"!==R.show&&R.show.forEach(function(e,n){e===R.hide[n]?t[0].addEventListener(e,c):e&&(t[0].addEventListener(e,h),t[0].addEventListener(R.hide[n],g))})}var k,E,T,D,_,M=angular.isDefined(f.appendToBody)?f.appendToBody:!1,R=m(void 0),O=angular.isDefined(i[p+"Enable"]),A=e.$new(!0),P=!1,L=angular.isDefined(i[p+"IsOpen"])?d(i[p+"IsOpen"]):!1,I=function(){k&&(_||(_=o(function(){k.css({top:0,left:0,width:"auto",height:"auto"});var e=l.position(k),n=l.positionElements(t,k,A.placement,M);n.top+="px",n.left+="px",n.width=e.width+"px",n.height=e.height+"px",k.css(n),_=null},0,!1)))};A.origScope=e,A.isOpen=!1,A.contentExp=function(){return e.$eval(i[r])},f.useContentExp||i.$observe(r,function(e){A.content=e,!e&&A.isOpen?b():I()}),i.$observe("disabled",function(e){D&&e&&(o.cancel(D),D=null),e&&A.isOpen&&b()}),i.$observe(p+"Title",function(e){A.title=e,I()}),i.$observe(p+"Placement",function(){A.isOpen&&(S(),I())}),L&&e.$watch(L,function(e){e!==A.isOpen&&c()});var B=function(){R.show.forEach(function(e){t.unbind(e,h)}),R.hide.forEach(function(e){t.unbind(e,g)})};$();var F=e.$eval(i[p+"Animation"]);A.animation=angular.isDefined(F)?!!F:f.animation;var H=e.$eval(i[p+"AppendToBody"]);M=angular.isDefined(H)?H:M,M&&e.$on("$locationChangeSuccess",function(){A.isOpen&&b()}),e.$on("$destroy",function(){o.cancel(T),o.cancel(D),o.cancel(_),B(),C(),A=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(r,a,o){var s,l,c,u=r.$eval(o.tooltipTemplateTranscludeScope),d=0,p=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),c&&(e.leave(c).then(function(){l=null}),l=c,c=null)};r.$watch(t.parseAsResourceUrl(o.tooltipTemplateTransclude),function(t){var o=++d;t?(i(t,!0).then(function(i){if(o===d){var r=u.$new(),l=i,h=n(l)(r,function(t){p(),e.enter(t,a)});s=r,c=h,s.$emit("$includeContentLoaded",t)}},function(){o===d&&(p(),r.$emit("$includeContentError",t))}),r.$emit("$includeContentRequested",t)):p()}),r.$on("$destroy",p)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(e,t,n){return t||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html"}}).directive("popoverHtml",["$tooltip",function(e){return e("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var i=this,r=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n){r||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){t.percent=+(100*t.value/t.max).toFixed(2);var e=i.bars.reduce(function(e,t){return e+t.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){n=null,i.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},e.$watch("max",function(t){i.bars.forEach(function(t){t.max=e.max,t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("progress",["$log","$progressSuppressWarning",function(e,t){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html",link:function(){t&&e.warn("progress is now deprecated. Use uib-progress instead")}}}]).directive("uibBar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t)}}}).directive("bar",["$log","$progressSuppressWarning",function(e,t){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,i,r,a){t&&e.warn("bar is now deprecated. Use uib-bar instead"),a.addBar(n,i)}}}]).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var i={$setViewValue:angular.noop};this.init=function(r){i=r,i.$render=this.render,i.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var a=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(a)&&a.length>0?a:n.titles;var o=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(i.$setViewValue(i.$viewValue===t?0:t),i.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,i){var r=i[0],a=i[1];r.init(a)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect(),e.selectCalled=!1)}),e.active=!0,e.selectCalled||(e.onSelect(),e.selectCalled=!0)},t.addTab=function(e){n.push(e),1===n.length&&e.active!==!1?e.active=!0:e.active?t.select(e):e.active=!1},t.removeTab=function(e){var r=n.indexOf(e);if(e.active&&n.length>1&&!i){var a=r==n.length-1?r-1:r+1;t.select(n[a])}n.splice(r,1)};var i;e.$on("$destroy",function(){i=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse","$log",function(e,t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(n,i,r,a,o){n.$watch("active",function(e){e&&a.select(n)}),n.disabled=!1,r.disable&&n.$parent.$watch(e(r.disable),function(e){n.disabled=!!e}),r.disabled&&(t.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(e(r.disabled),function(e){n.disabled=!!e})),n.select=function(){n.disabled||(n.active=!0)},a.addTab(n),n.$on("$destroy",function(){a.removeTab(n)}),n.$transcludeFn=o}}}]).directive("tabHeadingTransclude",function(){return{restrict:"A",require:"^tab",link:function(e,t,n,i){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,i){var r=t.$eval(i.tabContentTransclude);r.$transcludeFn(r.$parent,function(t){angular.forEach(t,function(t){e(t)?r.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,i,r,a){function o(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===g[1]&&(t+=12)),t):void 0}function s(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function l(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function c(e){u(),m.$setViewValue(new Date(f)),d(e)}function u(){m.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function d(t){var n=f.getHours(),i=f.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:l(n),"m"!==t&&(e.minutes=l(i)),e.meridian=f.getHours()<12?g[0]:g[1]}function p(e,t){var n=new Date(e.getTime()+6e4*t),i=new Date(e);return i.setHours(n.getHours(),n.getMinutes()),i}function h(e){f=p(f,e),c()}var f=new Date,m={$setViewValue:angular.noop},g=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):a.meridians||r.DATETIME_FORMATS.AMPMS;this.init=function(n,i){m=n,m.$render=this.render,m.$formatters.unshift(function(e){return e?new Date(e):null});var r=i.eq(0),o=i.eq(1),s=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):a.mousewheel;s&&this.setupMousewheelEvents(r,o);var l=angular.isDefined(t.arrowkeys)?e.$parent.$eval(t.arrowkeys):a.arrowkeys;l&&this.setupArrowkeyEvents(r,o),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):a.readonlyInput,this.setupInputEvents(r,o)};var v=a.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){v=parseInt(e,10)});var b=a.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){b=parseInt(e,10)});var y;e.$parent.$watch(n(t.min),function(e){var t=new Date(e);y=isNaN(t)?void 0:t});var C;e.$parent.$watch(n(t.max),function(e){var t=new Date(e);C=isNaN(t)?void 0:t}),e.noIncrementHours=function(){var e=p(f,60*v);return e>C||f>e&&y>e},e.noDecrementHours=function(){var e=p(f,60*-v);return y>e||e>f&&e>C},e.noIncrementMinutes=function(){var e=p(f,b);return e>C||f>e&&y>e},e.noDecrementMinutes=function(){var e=p(f,-b);return y>e||e>f&&e>C},e.noToggleMeridian=function(){return f.getHours()<13?p(f,720)>C:p(f,-720)<y},e.showMeridian=a.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,m.$error.time){var n=o(),i=s();angular.isDefined(n)&&angular.isDefined(i)&&(f.setHours(n),c())}else d()}),this.setupMousewheelEvents=function(t,n){var i=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(i(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n){t.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply())}),n.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply())})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var i=function(t,n){m.$setViewValue(null),m.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=o(),t=s();angular.isDefined(e)&&angular.isDefined(t)?(f.setHours(e),y>f||f>C?i(!0):c("h")):i(!0)},t.bind("blur",function(t){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=l(e.hours)})}),e.updateMinutes=function(){var e=s(),t=o();angular.isDefined(e)&&angular.isDefined(t)?(f.setMinutes(e),y>f||f>C?i(void 0,!0):c("m")):i(void 0,!0)},n.bind("blur",function(t){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=l(e.minutes)})})},this.render=function(){var t=m.$viewValue;isNaN(t)?(m.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(f=t),y>f||f>C?(m.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):u(),d())},e.showSpinners=angular.isDefined(t.showSpinners)?e.$parent.$eval(t.showSpinners):a.showSpinners,e.incrementHours=function(){e.noIncrementHours()||h(60*v)},e.decrementHours=function(){e.noDecrementHours()||h(60*-v)},e.incrementMinutes=function(){e.noIncrementMinutes()||h(b)},e.decrementMinutes=function(){e.noDecrementMinutes()||h(-b)},e.toggleMeridian=function(){e.noToggleMeridian()||h(720*(f.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,i){var r=i[0],a=i[1];a&&r.init(a,t.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(e,t,n,i,r){
function a(e){for(var t in e)if(void 0!==s.style[t])return e[t]}r||i.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var o=function(i,r,a){a=a||{};var s=e.defer(),l=o[a.animation?"animationEndEventName":"transitionEndEventName"],c=function(e){n.$apply(function(){i.unbind(l,c),s.resolve(i)})};return l&&i.bind(l,c),t(function(){angular.isString(r)?i.addClass(r):angular.isFunction(r)?r(i):angular.isObject(r)&&i.css(r),l||s.resolve(i)}),s.promise.cancel=function(){l&&i.unbind(l,c),s.reject("Transition cancelled")},s.promise},s=document.createElement("trans"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},c={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return o.transitionEndEventName=a(l),o.animationEndEventName=a(c),o}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(e,t,n,i,r,a,o,s,l){var c=[9,13,27,38,40],u=200;return{require:["ngModel","^?ngModelOptions"],link:function(d,p,h,f){function m(){L.moveInProgress||(L.moveInProgress=!0,L.$digest()),j&&i.cancel(j),j=i(function(){L.matches.length&&g(),L.moveInProgress=!1,L.$digest()},u)}function g(){L.position=D?s.offset(p):s.position(p),L.position.top+=p.prop("offsetHeight")}var v=f[0],b=f[1],y=d.$eval(h.typeaheadMinLength);y||0===y||(y=1);var C,w,x=d.$eval(h.typeaheadWaitMs)||0,S=d.$eval(h.typeaheadEditable)!==!1,N=t(h.typeaheadLoading).assign||angular.noop,$=t(h.typeaheadOnSelect),k=angular.isDefined(h.typeaheadSelectOnBlur)?d.$eval(h.typeaheadSelectOnBlur):!1,E=t(h.typeaheadNoResults).assign||angular.noop,T=h.typeaheadInputFormatter?t(h.typeaheadInputFormatter):void 0,D=h.typeaheadAppendToBody?d.$eval(h.typeaheadAppendToBody):!1,_=d.$eval(h.typeaheadFocusFirst)!==!1,M=h.typeaheadSelectOnExact?d.$eval(h.typeaheadSelectOnExact):!1,R=t(h.ngModel),O=t(h.ngModel+"($$$p)"),A=function(e,t){return angular.isFunction(R(d))&&b&&b.$options&&b.$options.getterSetter?O(e,{$$$p:t}):R.assign(e,t)},P=l.parse(h.typeahead),L=d.$new(),I=d.$on("$destroy",function(){L.$destroy()});L.$on("$destroy",I);var B="typeahead-"+L.$id+"-"+Math.floor(1e4*Math.random());p.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":B});var F=angular.element("<div typeahead-popup></div>");F.attr({id:B,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(h.typeaheadTemplateUrl)&&F.attr("template-url",h.typeaheadTemplateUrl),angular.isDefined(h.typeaheadPopupTemplateUrl)&&F.attr("popup-template-url",h.typeaheadPopupTemplateUrl);var H=function(){L.matches=[],L.activeIdx=-1,p.attr("aria-expanded",!1)},z=function(e){return B+"-option-"+e};L.$watch("activeIdx",function(e){0>e?p.removeAttr("aria-activedescendant"):p.attr("aria-activedescendant",z(e))});var V=function(e,t){return L.matches.length>t&&e?e.toUpperCase()===L.matches[t].label.toUpperCase():!1},U=function(e){var t={$viewValue:e};N(d,!0),E(d,!1),n.when(P.source(d,t)).then(function(n){var i=e===v.$viewValue;if(i&&C)if(n&&n.length>0){L.activeIdx=_?0:-1,E(d,!1),L.matches.length=0;for(var r=0;r<n.length;r++)t[P.itemName]=n[r],L.matches.push({id:z(r),label:P.viewMapper(L,t),model:n[r]});L.query=e,g(),p.attr("aria-expanded",!0),M&&1===L.matches.length&&V(e,0)&&L.select(0)}else H(),E(d,!0);i&&N(d,!1)},function(){H(),N(d,!1),E(d,!0)})};D&&(angular.element(a).bind("resize",m),r.find("body").bind("scroll",m));var j;L.moveInProgress=!1,H(),L.query=void 0;var q,W=function(e){q=i(function(){U(e)},x)},G=function(){q&&i.cancel(q)};v.$parsers.unshift(function(e){return C=!0,0===y||e&&e.length>=y?x>0?(G(),W(e)):U(e):(N(d,!1),G(),H()),S?e:e?void v.$setValidity("editable",!1):(v.$setValidity("editable",!0),null)}),v.$formatters.push(function(e){var t,n,i={};return S||v.$setValidity("editable",!0),T?(i.$model=e,T(d,i)):(i[P.itemName]=e,t=P.viewMapper(d,i),i[P.itemName]=void 0,n=P.viewMapper(d,i),t!==n?t:e)}),L.select=function(e){var t,n,r={};w=!0,r[P.itemName]=n=L.matches[e].model,t=P.modelMapper(d,r),A(d,t),v.$setValidity("editable",!0),v.$setValidity("parse",!0),$(d,{$item:n,$model:t,$label:P.viewMapper(d,r)}),H(),L.$eval(h.typeaheadFocusOnSelect)!==!1&&i(function(){p[0].focus()},0,!1)},p.bind("keydown",function(e){if(0!==L.matches.length&&-1!==c.indexOf(e.which)){if(-1===L.activeIdx&&(9===e.which||13===e.which))return H(),void L.$digest();e.preventDefault(),40===e.which?(L.activeIdx=(L.activeIdx+1)%L.matches.length,L.$digest()):38===e.which?(L.activeIdx=(L.activeIdx>0?L.activeIdx:L.matches.length)-1,L.$digest()):13===e.which||9===e.which?L.$apply(function(){L.select(L.activeIdx)}):27===e.which&&(e.stopPropagation(),H(),L.$digest())}}),p.bind("blur",function(){k&&L.matches.length&&-1!==L.activeIdx&&!w&&(w=!0,L.$apply(function(){L.select(L.activeIdx)})),C=!1,w=!1});var K=function(e){p[0]!==e.target&&3!==e.which&&0!==L.matches.length&&(H(),o.$$phase||L.$digest())};r.bind("click",K),d.$on("$destroy",function(){r.unbind("click",K),D&&Y.remove(),F.remove()});var Y=e(F)(L);D?r.find("body").append(Y):p.after(Y)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,r,a){var o=n(a.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";e(o).then(function(e){t(e.trim())(i,function(e){r.replaceWith(e)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function i(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function r(e){return/<.*>/g.test(e)}var a;return a=t.has("$sanitize"),function(t,o){return!a&&r(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=o?(""+t).replace(new RegExp(i(o),"gi"),"<strong>$&</strong>"):t,a||(t=e.trustAsHtml(t)),t}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n	ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" ></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>')},function(e,t,n){n(5),e.exports="ngSanitize"},function(e,t){/**
	 * @license AngularJS v1.4.7
	 * (c) 2010-2015 Google, Inc. http://angularjs.org
	 * License: MIT
	 */
!function(e,t,n){"use strict";function i(){this.$get=["$$sanitizeUri",function(e){return function(t){var n=[];return o(t,c(n,function(t,n){return!/^unsafe/.test(e(t,n))})),n.join("")}}]}function r(e){var n=[],i=c(n,t.noop);return i.chars(e),n.join("")}function a(e,n){var i,r={},a=e.split(",");for(i=0;i<a.length;i++)r[n?t.lowercase(a[i]):a[i]]=!0;return r}function o(e,n){function i(e,i,a,o){if(i=t.lowercase(i),$[i])for(;y.last()&&k[y.last()];)r("",y.last());N[i]&&y.last()==i&&r("",i),o=w[i]||!!o,o||y.push(i);var l={};a.replace(h,function(e,t,n,i,r){var a=n||i||r||"";l[t]=s(a)}),n.start&&n.start(i,l,o)}function r(e,i){var r,a=0;if(i=t.lowercase(i))for(a=y.length-1;a>=0&&y[a]!=i;a--);if(a>=0){for(r=y.length-1;r>=a;r--)n.end&&n.end(y[r]);y.length=a}}"string"!=typeof e&&(e=null===e||"undefined"==typeof e?"":""+e);var a,o,l,c,y=[],C=e;for(y.last=function(){return y[y.length-1]};e;){if(c="",o=!0,y.last()&&T[y.last()]?(e=e.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+y.last()+"[^>]*>","i"),function(e,t){return t=t.replace(g,"$1").replace(b,"$1"),n.chars&&n.chars(s(t)),""}),r("",y.last())):(0===e.indexOf("<!--")?(a=e.indexOf("--",4),a>=0&&e.lastIndexOf("-->",a)===a&&(n.comment&&n.comment(e.substring(4,a)),e=e.substring(a+3),o=!1)):v.test(e)?(l=e.match(v),l&&(e=e.replace(l[0],""),o=!1)):m.test(e)?(l=e.match(p),l&&(e=e.substring(l[0].length),l[0].replace(p,r),o=!1)):f.test(e)&&(l=e.match(d),l?(l[4]&&(e=e.substring(l[0].length),l[0].replace(d,i)),o=!1):(c+="<",e=e.substring(1))),o&&(a=e.indexOf("<"),c+=0>a?e:e.substring(0,a),e=0>a?"":e.substring(a),n.chars&&n.chars(s(c)))),e==C)throw u("badparse","The sanitizer was unable to parse the following block of html: {0}",e);C=e}r()}function s(e){return e?(A.innerHTML=e.replace(/</g,"&lt;"),A.textContent):""}function l(e){return e.replace(/&/g,"&amp;").replace(y,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(C,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function c(e,n){var i=!1,r=t.bind(e,e.push);return{start:function(e,a,o){e=t.lowercase(e),!i&&T[e]&&(i=e),i||D[e]!==!0||(r("<"),r(e),t.forEach(a,function(i,a){var o=t.lowercase(a),s="img"===e&&"src"===o||"background"===o;O[o]!==!0||_[o]===!0&&!n(i,s)||(r(" "),r(a),r('="'),r(l(i)),r('"'))}),r(o?"/>":">"))},end:function(e){e=t.lowercase(e),i||D[e]!==!0||(r("</"),r(e),r(">")),e==i&&(i=!1)},chars:function(e){i||r(l(e))}}}var u=t.$$minErr("$sanitize"),d=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,p=/^<\/\s*([\w:-]+)[^>]*>/,h=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,f=/^</,m=/^<\//,g=/<!--(.*?)-->/g,v=/<!DOCTYPE([^>]*?)>/i,b=/<!\[CDATA\[(.*?)]]>/g,y=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,C=/([^\#-~| |!])/g,w=a("area,br,col,hr,img,wbr"),x=a("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),S=a("rp,rt"),N=t.extend({},S,x),$=t.extend({},x,a("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),k=t.extend({},S,a("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),E=a("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),T=a("script,style"),D=t.extend({},w,$,k,N,E),_=a("background,cite,href,longdesc,src,usemap,xlink:href"),M=a("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),R=a("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),O=t.extend({},_,R,M),A=document.createElement("pre");t.module("ngSanitize",[]).provider("$sanitize",i),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i;return function(a,o){function s(e){e&&h.push(r(e))}function l(e,n){h.push("<a "),t.isDefined(o)&&h.push('target="',o,'" '),h.push('href="',e.replace(/"/g,"&quot;"),'">'),s(n),h.push("</a>")}if(!a)return a;for(var c,u,d,p=a,h=[];c=p.match(n);)u=c[0],c[2]||c[4]||(u=(c[3]?"http://":"mailto:")+u),d=c.index,s(p.substr(0,d)),l(u,c[0].replace(i,"")),p=p.substring(d+c[0].length);return s(p),e(h.join(""))}}])}(window,window.angular)},function(e,t,n){var i,r;!function(a,o){i=a,r="function"==typeof i?i.call(t,n,t,e):i,!(void 0!==r&&(e.exports=r))}(function(){function e(e,t){var n=typeof e[t];return n==C||!(n!=y||!e[t])||"unknown"==n}function t(e,t){return!(typeof e[t]!=y||!e[t])}function n(e,t){return typeof e[t]!=w}function i(e){return function(t,n){for(var i=n.length;i--;)if(!e(t,n[i]))return!1;return!0}}function r(e){return e&&k(e,$)&&T(e,N)}function a(e){return t(e,"body")?e.body:e.getElementsByTagName("body")[0]}function o(t){typeof console!=w&&e(console,"log")&&console.log(t)}function s(e,t){M&&t?alert(e):o(e)}function l(e){O.initialized=!0,O.supported=!1,s("Rangy is not supported in this environment. Reason: "+e,O.config.alertOnFail)}function c(e){s("Rangy warning: "+e,O.config.alertOnWarn)}function u(e){return e.message||e.description||String(e)}function d(){if(M&&!O.initialized){var t,n=!1,i=!1;e(document,"createRange")&&(t=document.createRange(),k(t,S)&&T(t,x)&&(n=!0));var s=a(document);if(!s||"body"!=s.nodeName.toLowerCase())return void l("No body element found");if(s&&e(s,"createTextRange")&&(t=s.createTextRange(),r(t)&&(i=!0)),!n&&!i)return void l("Neither Range nor TextRange are available");O.initialized=!0,O.features={implementsDomRange:n,implementsTextRange:i};var c,d;for(var p in _)(c=_[p])instanceof m&&c.init(c,O);for(var h=0,f=L.length;f>h;++h)try{L[h](O)}catch(g){d="Rangy init listener threw an exception. Continuing. Detail: "+u(g),o(d)}}}function p(e,t,n){n&&(e+=" in module "+n.name),O.warn("DEPRECATED: "+e+" is deprecated. Please use "+t+" instead.")}function h(e,t,n,i){e[t]=function(){return p(t,n,i),e[n].apply(e,R.toArray(arguments))}}function f(e){e=e||window,d();for(var t=0,n=I.length;n>t;++t)I[t](e)}function m(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function g(e,t,n){var i=new m(e,t,function(t){if(!t.initialized){t.initialized=!0;try{n(O,t),t.supported=!0}catch(i){var r="Module '"+e+"' failed to load: "+u(i);o(r),i.stack&&o(i.stack)}}});return _[e]=i,i}function v(){}function b(){}var y="object",C="function",w="undefined",x=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],S=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],N=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],$=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],k=i(e),E=i(t),T=i(n),D=[].forEach?function(e,t){e.forEach(t)}:function(e,t){for(var n=0,i=e.length;i>n;++n)t(e[n],n)},_={},M=typeof window!=w&&typeof document!=w,R={isHostMethod:e,isHostObject:t,isHostProperty:n,areHostMethods:k,areHostObjects:E,areHostProperties:T,isTextRange:r,getBody:a,forEach:D},O={version:"1.3.0",initialized:!1,isBrowser:M,supported:!0,util:R,features:{},modules:_,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==w?!0:rangyAutoInitialize}};O.fail=l,O.warn=c;var A;({}).hasOwnProperty?(R.extend=A=function(e,t,n){var i,r;for(var a in t)t.hasOwnProperty(a)&&(i=e[a],r=t[a],n&&null!==i&&"object"==typeof i&&null!==r&&"object"==typeof r&&A(i,r,!0),e[a]=r);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e},R.createOptions=function(e,t){var n={};return A(n,t),e&&A(n,e),n}):l("hasOwnProperty not supported"),M||l("Rangy can only run in a browser"),function(){var e;if(M){var t=document.createElement("div");t.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(t.childNodes,0)[0].nodeType&&(e=function(e){return n.call(e,0)})}catch(i){}}e||(e=function(e){for(var t=[],n=0,i=e.length;i>n;++n)t[n]=e[n];return t}),R.toArray=e}();var P;M&&(e(document,"addEventListener")?P=function(e,t,n){e.addEventListener(t,n,!1)}:e(document,"attachEvent")?P=function(e,t,n){e.attachEvent("on"+t,n)}:l("Document does not have required addEventListener or attachEvent method"),R.addListener=P);var L=[];R.deprecationNotice=p,R.createAliasForDeprecatedMethod=h,O.init=d,O.addInitListener=function(e){O.initialized?e(O):L.push(e)};var I=[];O.addShimListener=function(e){I.push(e)},M&&(O.shim=O.createMissingNativeApi=f,h(O,"createMissingNativeApi","shim")),m.prototype={init:function(){for(var e,t,n=this.dependencies||[],i=0,r=n.length;r>i;++i){if(t=n[i],e=_[t],!(e&&e instanceof m))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error(e)},warn:function(e){O.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){O.warn("DEPRECATED: "+e+" in module "+this.name+" is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},O.createModule=function(e){var t,n;2==arguments.length?(t=arguments[1],n=[]):(t=arguments[2],n=arguments[1]);var i=g(e,n,t);O.initialized&&O.supported&&i.init()},O.createCoreModule=function(e,t,n){g(e,t,n)},O.RangePrototype=v,O.rangePrototype=new v,O.selectionPrototype=new b,O.createCoreModule("DomUtil",[],function(e,t){function n(e){var t;return typeof e.namespaceURI==M||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function i(e){var t=e.parentNode;return 1==t.nodeType?t:null}function r(e){for(var t=0;e=e.previousSibling;)++t;return t}function a(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}}function o(e,t){var n,i=[];for(n=e;n;n=n.parentNode)i.push(n);for(n=t;n;n=n.parentNode)if(L(i,n))return n;return null}function s(e,t,n){for(var i=n?t:t.parentNode;i;){if(i===e)return!0;i=i.parentNode}return!1}function l(e,t){return s(e,t,!0)}function c(e,t,n){for(var i,r=n?e:e.parentNode;r;){if(i=r.parentNode,i===t)return r;r=i}return null}function u(e){var t=e.nodeType;return 3==t||4==t||8==t}function d(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t}function p(e,t){var n=t.nextSibling,i=t.parentNode;return n?i.insertBefore(e,n):i.appendChild(e),e}function h(e,t,n){var i=e.cloneNode(!1);if(i.deleteData(0,t),e.deleteData(t,e.length-t),p(i,e),n)for(var a,o=0;a=n[o++];)a.node==e&&a.offset>t?(a.node=i,a.offset-=t):a.node==e.parentNode&&a.offset>r(e)&&++a.offset;return i}function f(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=M)return e.ownerDocument;if(typeof e.document!=M)return e.document;if(e.parentNode)return f(e.parentNode);throw t.createError("getDocument: no document found for node")}function m(e){var n=f(e);if(typeof n.defaultView!=M)return n.defaultView;if(typeof n.parentWindow!=M)return n.parentWindow;throw t.createError("Cannot get a window object for node")}function g(e){if(typeof e.contentDocument!=M)return e.contentDocument;if(typeof e.contentWindow!=M)return e.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element")}function v(e){if(typeof e.contentWindow!=M)return e.contentWindow;if(typeof e.contentDocument!=M)return e.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element")}function b(e){return e&&R.isHostMethod(e,"setTimeout")&&R.isHostObject(e,"document")}function y(e,t,n){var i;if(e?R.isHostProperty(e,"nodeType")?i=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?g(e):f(e):b(e)&&(i=e.document):i=document,!i)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return i}function C(e){for(var t;t=e.parentNode;)e=t;return e}function w(e,n,i,a){var s,l,u,d,p;if(e==i)return n===a?0:a>n?-1:1;if(s=c(i,e,!0))return n<=r(s)?-1:1;if(s=c(e,i,!0))return r(s)<a?-1:1;if(l=o(e,i),!l)throw new Error("comparePoints error: nodes have no common ancestor");if(u=e===l?l:c(e,l,!0),d=i===l?l:c(i,l,!0),u===d)throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(p=l.firstChild;p;){if(p===u)return-1;if(p===d)return 1;p=p.nextSibling}}function x(e){var t;try{return t=e.parentNode,!1}catch(n){return!0}}function S(e){if(!e)return"[No node]";if(I&&x(e))return"[Broken node]";if(u(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+r(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function N(e){for(var t,n=f(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n}function $(e,t,n){var i=O(e),r=e.createElement("div");r.contentEditable=""+!!n,t&&(r.innerHTML=t);var a=i.firstChild;return a?i.insertBefore(r,a):i.appendChild(r),r}function k(e){return e.parentNode.removeChild(e)}function E(e){this.root=e,this._next=e}function T(e){return new E(e)}function D(e,t){this.node=e,this.offset=t}function _(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var M="undefined",R=e.util,O=R.getBody;R.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),R.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var A=document.createElement("div");R.areHostMethods(A,["insertBefore","appendChild","cloneNode"]||!R.areHostObjects(A,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),R.isHostProperty(A,"innerHTML")||t.fail("Element is missing innerHTML property");var P=document.createTextNode("test");R.areHostMethods(P,["splitText","deleteData","insertData","appendData","cloneNode"]||!R.areHostObjects(A,["previousSibling","nextSibling","childNodes","parentNode"])||!R.areHostProperties(P,["data"]))||t.fail("Incomplete Text Node implementation");var L=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},I=!1;!function(){var t=document.createElement("b");t.innerHTML="1";var n=t.firstChild;t.innerHTML="<br />",I=x(n),e.features.crashyTextNodes=I}();var B;typeof window.getComputedStyle!=M?B=function(e,t){return m(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=M?B=function(e,t){return e.currentStyle?e.currentStyle[t]:""}:t.fail("No means of obtaining computed style properties found"),E.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},D.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+S(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},_.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},_.prototype.toString=function(){return this.message},e.dom={arrayContains:L,isHtmlNamespace:n,parentElement:i,getNodeIndex:r,getNodeLength:a,getCommonAncestor:o,isAncestorOf:s,isOrIsAncestorOf:l,getClosestAncestorIn:c,isCharacterDataNode:u,isTextOrCommentNode:d,insertAfter:p,splitDataNode:h,getDocument:f,getWindow:m,getIframeWindow:v,getIframeDocument:g,getBody:O,isWindow:b,getContentDocument:y,getRootContainer:C,comparePoints:w,isBrokenNode:x,inspectNode:S,getComputedStyleProperty:B,createTestElement:$,removeNode:k,fragmentFromNodeChildren:N,createIterator:T,DomPosition:D},e.DOMException=_}),O.createCoreModule("DomRange",["DomUtil"],function(e,t){function n(e,t){return 3!=e.nodeType&&(z(e,t.startContainer)||z(e,t.endContainer))}function i(e){return e.document||V(e.startContainer)}function r(e){return K(e.startContainer)}function a(e){return new I(e.parentNode,H(e))}function o(e){return new I(e.parentNode,H(e)+1)}function s(e,t,n){var i=11==e.nodeType?e.firstChild:e;return F(t)?n==t.length?P.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:j(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),i}function l(e,t,n){if($(e),$(t),i(t)!=i(e))throw new B("WRONG_DOCUMENT_ERR");var r=U(e.startContainer,e.startOffset,t.endContainer,t.endOffset),a=U(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return n?0>=r&&a>=0:0>r&&a>0}function c(e){for(var t,n,r,a=i(e.range).createDocumentFragment();n=e.next();){if(t=e.isPartiallySelectedSubtree(),n=n.cloneNode(!t),t&&(r=e.getSubtreeIterator(),n.appendChild(c(r)),r.detach()),10==n.nodeType)throw new B("HIERARCHY_REQUEST_ERR");a.appendChild(n)}return a}function u(e,t,n){var i,r;n=n||{stop:!1};for(var a,o;a=e.next();)if(e.isPartiallySelectedSubtree()){if(t(a)===!1)return void(n.stop=!0);if(o=e.getSubtreeIterator(),u(o,t,n),o.detach(),n.stop)return}else for(i=P.createIterator(a);r=i.next();)if(t(r)===!1)return void(n.stop=!0)}function d(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),d(t),t.detach()):e.remove()}function p(e){for(var t,n,r=i(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(p(n)),n.detach()):e.remove(),10==t.nodeType)throw new B("HIERARCHY_REQUEST_ERR");r.appendChild(t)}return r}function h(e,t,n){var i,r=!(!t||!t.length),a=!!n;r&&(i=new RegExp("^("+t.join("|")+")$"));var o=[];return u(new m(e,!1),function(t){if((!r||i.test(t.nodeType))&&(!a||n(t))){var s=e.startContainer;if(t!=s||!F(s)||e.startOffset!=s.length){var l=e.endContainer;t==l&&F(l)&&0==e.endOffset||o.push(t)}}}),o}function f(e){var t="undefined"==typeof e.getName?"Range":e.getName();return"["+t+"("+P.inspectNode(e.startContainer)+":"+e.startOffset+", "+P.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function m(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&F(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||F(this.sc)?q(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||F(this.ec)?q(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function g(e){return function(t,n){for(var i,r=n?t:t.parentNode;r;){if(i=r.nodeType,G(e,i))return r;r=r.parentNode}return null}}function v(e,t){if(re(e,t))throw new B("INVALID_NODE_TYPE_ERR")}function b(e,t){if(!G(t,e.nodeType))throw new B("INVALID_NODE_TYPE_ERR")}function y(e,t){if(0>t||t>(F(e)?e.length:e.childNodes.length))throw new B("INDEX_SIZE_ERR")}function C(e,t){if(ne(e,!0)!==ne(t,!0))throw new B("WRONG_DOCUMENT_ERR")}function w(e){if(ie(e,!0))throw new B("NO_MODIFICATION_ALLOWED_ERR")}function x(e,t){if(!e)throw new B(t)}function S(e,t){return t<=(F(e)?e.length:e.childNodes.length)}function N(e){return!!e.startContainer&&!!e.endContainer&&!(Y&&(P.isBrokenNode(e.startContainer)||P.isBrokenNode(e.endContainer)))&&K(e.startContainer)==K(e.endContainer)&&S(e.startContainer,e.startOffset)&&S(e.endContainer,e.endOffset)}function $(e){if(!N(e))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+e.inspect()+")")}function k(e,t){$(e);var n=e.startContainer,i=e.startOffset,r=e.endContainer,a=e.endOffset,o=n===r;F(r)&&a>0&&a<r.length&&j(r,a,t),F(n)&&i>0&&i<n.length&&(n=j(n,i,t),o?(a-=i,r=n):r==n.parentNode&&a>=H(n)&&a++,i=0),e.setStartAndEnd(n,i,r,a)}function E(e){$(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}function T(e){e.START_TO_START=ue,e.START_TO_END=de,e.END_TO_END=pe,e.END_TO_START=he,e.NODE_BEFORE=fe,e.NODE_AFTER=me,e.NODE_BEFORE_AND_AFTER=ge,e.NODE_INSIDE=ve}function D(e){T(e),T(e.prototype)}function _(e,t){return function(){$(this);var n,i,r=this.startContainer,a=this.startOffset,s=this.commonAncestorContainer,l=new m(this,!0);r!==s&&(n=q(r,s,!0),i=o(n),r=i.node,a=i.offset),u(l,w),l.reset();var c=e(l);return l.detach(),t(this,r,a,r,a),c}}function M(t,i){function r(e,t){return function(n){b(n,Q),b(K(n),Z);var i=(e?a:o)(n);(t?s:l)(this,i.node,i.offset)}}function s(e,t,n){var r=e.endContainer,a=e.endOffset;(t!==e.startContainer||n!==e.startOffset)&&((K(t)!=K(r)||1==U(t,n,r,a))&&(r=t,a=n),i(e,t,n,r,a))}function l(e,t,n){var r=e.startContainer,a=e.startOffset;(t!==e.endContainer||n!==e.endOffset)&&((K(t)!=K(r)||-1==U(t,n,r,a))&&(r=t,a=n),i(e,r,a,t,n))}var c=function(){};c.prototype=e.rangePrototype,t.prototype=new c,L.extend(t.prototype,{setStart:function(e,t){v(e,!0),y(e,t),s(this,e,t)},setEnd:function(e,t){v(e,!0),y(e,t),l(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],r=t,a=n;switch(e.length){case 3:a=e[2];break;case 4:r=e[2],a=e[3]}i(this,t,n,r,a)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:r(!0,!0),setStartAfter:r(!1,!0),setEndBefore:r(!0,!1),setEndAfter:r(!1,!1),collapse:function(e){$(this),e?i(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):i(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){v(e,!0),i(this,e,0,e,W(e))},selectNode:function(e){v(e,!1),b(e,Q);var t=a(e),n=o(e);i(this,t.node,t.offset,n.node,n.offset)},extractContents:_(p,i),deleteContents:_(d,i),canSurroundContents:function(){$(this),w(this.startContainer),w(this.endContainer);var e=new m(this,!0),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},splitBoundaries:function(){k(this)},splitBoundariesPreservingPositions:function(e){k(this,e)},normalizeBoundaries:function(){$(this);var e,t=this.startContainer,n=this.startOffset,r=this.endContainer,a=this.endOffset,o=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(r=e,a=e.length,e.appendData(t.data),X(t))},s=function(e){var i=e.previousSibling;if(i&&i.nodeType==e.nodeType){t=e;var o=e.length;if(n=i.length,e.insertData(0,i.data),X(i),t==r)a+=n,r=t;else if(r==e.parentNode){var s=H(e);a==s?(r=e,a=o):a>s&&a--}}},l=!0;if(F(r))a==r.length?o(r):0==a&&(e=r.previousSibling,e&&e.nodeType==r.nodeType&&(a=e.length,t==r&&(l=!1),e.appendData(r.data),X(r),r=e));else{if(a>0){var c=r.childNodes[a-1];c&&F(c)&&o(c)}l=!this.collapsed}if(l){if(F(t))0==n?s(t):n==t.length&&(e=t.nextSibling,e&&e.nodeType==t.nodeType&&(r==e&&(r=t,a+=t.length),t.appendData(e.data),X(e)));else if(n<t.childNodes.length){var u=t.childNodes[n];u&&F(u)&&s(u)}}else t=r,n=a;i(this,t,n,r,a)},collapseToPoint:function(e,t){v(e,!0),y(e,t),this.setStartAndEnd(e,t)}}),D(t)}function R(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:P.getCommonAncestor(e.startContainer,e.endContainer)}function O(e,t,n,i,r){e.startContainer=t,e.startOffset=n,e.endContainer=i,e.endOffset=r,e.document=P.getDocument(t),R(e)}function A(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,R(this)}var P=e.dom,L=e.util,I=P.DomPosition,B=e.DOMException,F=P.isCharacterDataNode,H=P.getNodeIndex,z=P.isOrIsAncestorOf,V=P.getDocument,U=P.comparePoints,j=P.splitDataNode,q=P.getClosestAncestorIn,W=P.getNodeLength,G=P.arrayContains,K=P.getRootContainer,Y=e.features.crashyTextNodes,X=P.removeNode;m.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,F(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!F(n)||n!==this.sc&&n!==this.ec?n.parentNode&&X(n):(e=n===this.sc?this.so:0,t=n===this.ec?this.eo:n.length,e!=t&&n.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){var e=this._current;return n(e,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)e=this.range.cloneRange(),e.collapse(!1);else{e=new A(i(this.range));var t=this._current,n=t,r=0,a=t,o=W(t);z(t,this.sc)&&(n=this.sc,r=this.so),z(t,this.ec)&&(a=this.ec,o=this.eo),O(e,n,r,a,o)}return new m(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Q=[1,3,4,5,7,8,10],Z=[2,9,11],J=[5,6,10,12],ee=[1,3,4,5,7,8,10,11],te=[1,3,4,5,7,8],ne=g([9,11]),ie=g(J),re=g([6,10,12]),ae=document.createElement("style"),oe=!1;try{ae.innerHTML="<b>x</b>",oe=3==ae.firstChild.nodeType}catch(se){}e.features.htmlParsingConforms=oe;var le=oe?function(e){var t=this.startContainer,n=V(t);if(!t)throw new B("INVALID_STATE_ERR");var i=null;return 1==t.nodeType?i=t:F(t)&&(i=P.parentElement(t)),i=null===i||"HTML"==i.nodeName&&P.isHtmlNamespace(V(i).documentElement)&&P.isHtmlNamespace(i)?n.createElement("body"):i.cloneNode(!1),i.innerHTML=e,P.fragmentFromNodeChildren(i)}:function(e){var t=i(this),n=t.createElement("body");return n.innerHTML=e,P.fragmentFromNodeChildren(n)},ce=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],ue=0,de=1,pe=2,he=3,fe=0,me=1,ge=2,ve=3;L.extend(e.rangePrototype,{compareBoundaryPoints:function(e,t){$(this),C(this.startContainer,t.startContainer);var n,i,r,a,o=e==he||e==ue?"start":"end",s=e==de||e==ue?"start":"end";return n=this[o+"Container"],i=this[o+"Offset"],r=t[s+"Container"],a=t[s+"Offset"],U(n,i,r,a)},insertNode:function(e){if($(this),b(e,ee),w(this.startContainer),z(e,this.startContainer))throw new B("HIERARCHY_REQUEST_ERR");var t=s(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){$(this);var e,t;if(this.collapsed)return i(this).createDocumentFragment();if(this.startContainer===this.endContainer&&F(this.startContainer))return e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=i(this).createDocumentFragment(),t.appendChild(e),t;var n=new m(this,!0);return e=c(n),n.detach(),e},canSurroundContents:function(){$(this),w(this.startContainer),w(this.endContainer);var e=new m(this,!0),t=e._first&&n(e._first,this)||e._last&&n(e._last,this);return e.detach(),!t},surroundContents:function(e){if(b(e,te),!this.canSurroundContents())throw new B("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);s(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){$(this);for(var e,t=new A(i(this)),n=ce.length;n--;)e=ce[n],t[e]=this[e];return t},toString:function(){$(this);var e=this.startContainer;if(e===this.endContainer&&F(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new m(this,!0);return u(n,function(e){(3==e.nodeType||4==e.nodeType)&&t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){$(this);var t=e.parentNode,n=H(e);if(!t)throw new B("NOT_FOUND_ERR");var i=this.comparePoint(t,n),r=this.comparePoint(t,n+1);return 0>i?r>0?ge:fe:r>0?me:ve},comparePoint:function(e,t){return $(this),x(e,"HIERARCHY_REQUEST_ERR"),C(e,this.startContainer),U(e,t,this.startContainer,this.startOffset)<0?-1:U(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:le,toHtml:function(){return E(this)},intersectsNode:function(e,t){if($(this),K(e)!=r(this))return!1;var n=e.parentNode,i=H(e);if(!n)return!0;var a=U(n,i,this.endContainer,this.endOffset),o=U(n,i+1,this.startContainer,this.startOffset);return t?0>=a&&o>=0:0>a&&o>0},isPointInRange:function(e,t){return $(this),x(e,"HIERARCHY_REQUEST_ERR"),C(e,this.startContainer),U(e,t,this.startContainer,this.startOffset)>=0&&U(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return l(this,e,!1)},intersectsOrTouchesRange:function(e){return l(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=U(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=U(this.endContainer,this.endOffset,e.endContainer,e.endOffset),i=this.cloneRange();return-1==t&&i.setStart(e.startContainer,e.startOffset),1==n&&i.setEnd(e.endContainer,e.endOffset),i}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==U(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==U(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new B("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==ve},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,W(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var i=n.pop();return t.setEnd(i,i.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return $(this),h(this,e,t)},getDocument:function(){return i(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(t){var n=i(this),r=e.createRange(n);t=t||P.getBody(n),r.selectNodeContents(t);var a=this.intersection(r),o=0,s=0;return a&&(r.setEnd(a.startContainer,a.startOffset),o=r.toString().length,s=o+a.toString().length),{start:o,end:s,containerNode:t}},moveToBookmark:function(e){var t=e.containerNode,n=0;this.setStart(t,0),this.collapse(!0);for(var i,r,a,o,s=[t],l=!1,c=!1;!c&&(i=s.pop());)if(3==i.nodeType)r=n+i.length,!l&&e.start>=n&&e.start<=r&&(this.setStart(i,e.start-n),l=!0),l&&e.end>=n&&e.end<=r&&(this.setEnd(i,e.end-n),
c=!0),n=r;else for(o=i.childNodes,a=o.length;a--;)s.push(o[a])},getName:function(){return"DomRange"},equals:function(e){return A.rangesEqual(this,e)},isValid:function(){return N(this)},inspect:function(){return f(this)},detach:function(){}}),M(A,O),L.extend(A,{rangeProperties:ce,RangeIterator:m,copyComparisonConstants:D,createPrototypeRange:M,inspect:f,toHtml:E,getRangeDocument:i,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),e.DomRange=A}),O.createCoreModule("WrappedRange",["DomRange"],function(e,t){var n,i,r=e.dom,a=e.util,o=r.DomPosition,s=e.DomRange,l=r.getBody,c=r.getContentDocument,u=r.isCharacterDataNode;if(e.features.implementsDomRange&&!function(){function i(e){for(var t,n=p.length;n--;)t=p[n],e[t]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}function o(e,t,n,i,r){var a=e.startContainer!==t||e.startOffset!=n,o=e.endContainer!==i||e.endOffset!=r,s=!e.equals(e.nativeRange);(a||o||s)&&(e.setEnd(i,r),e.setStart(t,n))}var u,d,p=s.rangeProperties;n=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,i(this)},s.createPrototypeRange(n,o),u=n.prototype,u.selectNode=function(e){this.nativeRange.selectNode(e),i(this)},u.cloneContents=function(){return this.nativeRange.cloneContents()},u.surroundContents=function(e){this.nativeRange.surroundContents(e),i(this)},u.collapse=function(e){this.nativeRange.collapse(e),i(this)},u.cloneRange=function(){return new n(this.nativeRange.cloneRange())},u.refresh=function(){i(this)},u.toString=function(){return this.nativeRange.toString()};var h=document.createTextNode("test");l(document).appendChild(h);var f=document.createRange();f.setStart(h,0),f.setEnd(h,0);try{f.setStart(h,1),u.setStart=function(e,t){this.nativeRange.setStart(e,t),i(this)},u.setEnd=function(e,t){this.nativeRange.setEnd(e,t),i(this)},d=function(e){return function(t){this.nativeRange[e](t),i(this)}}}catch(m){u.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(n){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}i(this)},u.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(n){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}i(this)},d=function(e,t){return function(n){try{this.nativeRange[e](n)}catch(r){this.nativeRange[t](n),this.nativeRange[e](n)}i(this)}}}u.setStartBefore=d("setStartBefore","setEndBefore"),u.setStartAfter=d("setStartAfter","setEndAfter"),u.setEndBefore=d("setEndBefore","setStartBefore"),u.setEndAfter=d("setEndAfter","setStartAfter"),u.selectNodeContents=function(e){this.setStartAndEnd(e,0,r.getNodeLength(e))},f.selectNodeContents(h),f.setEnd(h,3);var g=document.createRange();g.selectNodeContents(h),g.setEnd(h,4),g.setStart(h,2),-1==f.compareBoundaryPoints(f.START_TO_END,g)&&1==f.compareBoundaryPoints(f.END_TO_START,g)?u.compareBoundaryPoints=function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:u.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var v=document.createElement("div");v.innerHTML="123";var b=v.firstChild,y=l(document);y.appendChild(v),f.setStart(b,1),f.setEnd(b,2),f.deleteContents(),"13"==b.data&&(u.deleteContents=function(){this.nativeRange.deleteContents(),i(this)},u.extractContents=function(){var e=this.nativeRange.extractContents();return i(this),e}),y.removeChild(v),y=null,a.isHostMethod(f,"createContextualFragment")&&(u.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),l(document).removeChild(h),u.getName=function(){return"WrappedRange"},e.WrappedRange=n,e.createNativeRange=function(e){return e=c(e,t,"createNativeRange"),e.createRange()}}(),e.features.implementsTextRange){var d=function(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var i=n.parentElement();n=e.duplicate(),n.collapse(!1);var a=n.parentElement(),o=i==a?i:r.getCommonAncestor(i,a);return o==t?o:r.getCommonAncestor(t,o)},p=function(e){return 0==e.compareEndPoints("StartToEnd",e)},h=function(e,t,n,i,a){var s=e.duplicate();s.collapse(n);var l=s.parentElement();if(r.isOrIsAncestorOf(t,l)||(l=t),!l.canHaveHTML){var c=new o(l.parentNode,r.getNodeIndex(l));return{boundaryPosition:c,nodeInfo:{nodeIndex:c.offset,containerElement:c.node}}}var d=r.getDocument(l).createElement("span");d.parentNode&&r.removeNode(d);for(var p,h,f,m,g,v=n?"StartToStart":"StartToEnd",b=a&&a.containerElement==l?a.nodeIndex:0,y=l.childNodes.length,C=y,w=C;;){if(w==y?l.appendChild(d):l.insertBefore(d,l.childNodes[w]),s.moveToElementText(d),p=s.compareEndPoints(v,e),0==p||b==C)break;if(-1==p){if(C==b+1)break;b=w}else C=C==b+1?b:w;w=Math.floor((b+C)/2),l.removeChild(d)}if(g=d.nextSibling,-1==p&&g&&u(g)){s.setEndPoint(n?"EndToStart":"EndToEnd",e);var x;if(/[\r\n]/.test(g.data)){var S=s.duplicate(),N=S.text.replace(/\r\n/g,"\r").length;for(x=S.moveStart("character",N);-1==(p=S.compareEndPoints("StartToEnd",S));)x++,S.moveStart("character",1)}else x=s.text.length;m=new o(g,x)}else h=(i||!n)&&d.previousSibling,f=(i||n)&&d.nextSibling,m=f&&u(f)?new o(f,0):h&&u(h)?new o(h,h.data.length):new o(l,r.getNodeIndex(d));return r.removeNode(d),{boundaryPosition:m,nodeInfo:{nodeIndex:w,containerElement:l}}},f=function(e,t){var n,i,a,o,s=e.offset,c=r.getDocument(e.node),d=l(c).createTextRange(),p=u(e.node);return p?(n=e.node,i=n.parentNode):(o=e.node.childNodes,n=s<o.length?o[s]:null,i=e.node),a=c.createElement("span"),a.innerHTML="&#feff;",n?i.insertBefore(a,n):i.appendChild(a),d.moveToElementText(a),d.collapse(!t),i.removeChild(a),p&&d[t?"moveStart":"moveEnd"]("character",s),d};i=function(e){this.textRange=e,this.refresh()},i.prototype=new s(document),i.prototype.refresh=function(){var e,t,n,i=d(this.textRange);p(this.textRange)?t=e=h(this.textRange,i,!0,!0).boundaryPosition:(n=h(this.textRange,i,!0,!1),e=n.boundaryPosition,t=h(this.textRange,i,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},i.prototype.getName=function(){return"WrappedTextRange"},s.copyComparisonConstants(i);var m=function(e){if(e.collapsed)return f(new o(e.startContainer,e.startOffset),!0);var t=f(new o(e.startContainer,e.startOffset),!0),n=f(new o(e.endContainer,e.endOffset),!1),i=l(s.getRangeDocument(e)).createTextRange();return i.setEndPoint("StartToStart",t),i.setEndPoint("EndToEnd",n),i};if(i.rangeToTextRange=m,i.prototype.toTextRange=function(){return m(this)},e.WrappedTextRange=i,!e.features.implementsDomRange||e.config.preferTextRange){var g=function(e){return e("return this;")()}(Function);"undefined"==typeof g.Range&&(g.Range=i),e.createNativeRange=function(e){return e=c(e,t,"createNativeRange"),l(e).createTextRange()},e.WrappedRange=i}}e.createRange=function(n){return n=c(n,t,"createRange"),new e.WrappedRange(e.createNativeRange(n))},e.createRangyRange=function(e){return e=c(e,t,"createRangyRange"),new s(e)},a.createAliasForDeprecatedMethod(e,"createIframeRange","createRange"),a.createAliasForDeprecatedMethod(e,"createIframeRangyRange","createRangyRange"),e.addShimListener(function(t){var n=t.document;"undefined"==typeof n.createRange&&(n.createRange=function(){return e.createRange(n)}),n=t=null})}),O.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(e,t){function n(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function i(e,n){if(e){if(T.isWindow(e))return e;if(e instanceof v)return e.win;var i=T.getContentDocument(e,t,n);return T.getWindow(i)}return window}function r(e){return i(e,"getWinSelection").getSelection()}function a(e){return i(e,"getDocSelection").document.selection}function o(e){var t=!1;return e.anchorNode&&(t=1==T.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}function s(e,t,n){var i=n?"end":"start",r=n?"start":"end";e.anchorNode=t[i+"Container"],e.anchorOffset=t[i+"Offset"],e.focusNode=t[r+"Container"],e.focusOffset=t[r+"Offset"]}function l(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function c(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function u(t){var n;return t instanceof M?(n=e.createNativeRange(t.getDocument()),n.setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset)):t instanceof R?n=t.nativeRange:P.implementsDomRange&&t instanceof T.getWindow(t.startContainer).Range&&(n=t),n}function d(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;n>t;++t)if(!T.isAncestorOf(e[0],e[t]))return!1;return!0}function p(e){var n=e.getNodes();if(!d(n))throw t.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return n[0]}function h(e){return!!e&&"undefined"!=typeof e.text}function f(e,t){var n=new R(t);e._ranges=[n],s(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function m(t){if(t._ranges.length=0,"None"==t.docSelection.type)c(t);else{var n=t.docSelection.createRange();if(h(n))f(t,n);else{t.rangeCount=n.length;for(var i,r=I(n.item(0)),a=0;a<t.rangeCount;++a)i=e.createRange(r),i.selectNode(n.item(a)),t._ranges.push(i);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,s(t,t._ranges[t.rangeCount-1],!1)}}}function g(e,n){for(var i=e.docSelection.createRange(),r=p(n),a=I(i.item(0)),o=B(a).createControlRange(),s=0,l=i.length;l>s;++s)o.add(i.item(s));try{o.add(r)}catch(c){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}o.select(),m(e)}function v(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function b(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}function y(e,t){for(var n,i,r=te.length;r--;)if(n=te[r],i=n.selection,"deleteAll"==t)b(i);else if(n.win==e)return"delete"==t?(te.splice(r,1),!0):i;return"deleteAll"==t&&(te.length=0),null}function C(e,n){for(var i,r=I(n[0].startContainer),a=B(r).createControlRange(),o=0,s=n.length;s>o;++o){i=p(n[o]);try{a.add(i)}catch(l){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}a.select(),m(e)}function w(e,t){if(e.win.document!=I(t))throw new O("WRONG_DOCUMENT_ERR")}function x(t){return function(n,i){var r;this.rangeCount?(r=this.getRangeAt(0),r["set"+(t?"Start":"End")](n,i)):(r=e.createRange(this.win.document),r.setStartAndEnd(n,i)),this.setSingleRange(r,this.isBackward())}}function S(e){var t=[],n=new A(e.anchorNode,e.anchorOffset),i=new A(e.focusNode,e.focusOffset),r="function"==typeof e.getName?e.getName():"Selection";if("undefined"!=typeof e.rangeCount)for(var a=0,o=e.rangeCount;o>a;++a)t[a]=M.inspect(e.getRangeAt(a));return"["+r+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+i.inspect()+"]"}e.config.checkSelectionRanges=!0;var N,$,k="boolean",E="number",T=e.dom,D=e.util,_=D.isHostMethod,M=e.DomRange,R=e.WrappedRange,O=e.DOMException,A=T.DomPosition,P=e.features,L="Control",I=T.getDocument,B=T.getBody,F=M.rangesEqual,H=_(window,"getSelection"),z=D.isHostObject(document,"selection");P.implementsWinGetSelection=H,P.implementsDocSelection=z;var V=z&&(!H||e.config.preferTextRange);if(V)N=a,e.isSelectionValid=function(e){var t=i(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||I(n.createRange().parentElement())==t};else{if(!H)return t.fail("Neither document.selection or window.getSelection() detected."),!1;N=r,e.isSelectionValid=function(){return!0}}e.getNativeSelection=N;var U=N();if(!U)return t.fail("Native selection was null (possibly issue 138?)"),!1;var j=e.createNativeRange(document),q=B(document),W=D.areHostProperties(U,["anchorNode","focusNode","anchorOffset","focusOffset"]);P.selectionHasAnchorAndFocus=W;var G=_(U,"extend");P.selectionHasExtend=G;var K=typeof U.rangeCount==E;P.selectionHasRangeCount=K;var Y=!1,X=!0,Q=G?function(t,n){var i=M.getRangeDocument(n),r=e.createRange(i);r.collapseToPoint(n.endContainer,n.endOffset),t.addRange(u(r)),t.extend(n.startContainer,n.startOffset)}:null;D.areHostMethods(U,["addRange","getRangeAt","removeAllRanges"])&&typeof U.rangeCount==E&&P.implementsDomRange&&!function(){var t=window.getSelection();if(t){for(var n=t.rangeCount,i=n>1,r=[],a=o(t),s=0;n>s;++s)r[s]=t.getRangeAt(s);var l=T.createTestElement(document,"",!1),c=l.appendChild(document.createTextNode("   ")),u=document.createRange();if(u.setStart(c,1),u.collapse(!0),t.removeAllRanges(),t.addRange(u),X=1==t.rangeCount,t.removeAllRanges(),!i){var d=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(d&&parseInt(d[1])>=36)Y=!1;else{var p=u.cloneRange();u.setStart(c,0),p.setEnd(c,3),p.setStart(c,2),t.addRange(u),t.addRange(p),Y=2==t.rangeCount}}for(T.removeNode(l),t.removeAllRanges(),s=0;n>s;++s)0==s&&a?Q?Q(t,r[s]):(e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(r[s])):t.addRange(r[s])}}(),P.selectionSupportsMultipleRanges=Y,P.collapsedNonEditableSelectionsSupported=X;var Z,J=!1;q&&_(q,"createControlRange")&&(Z=q.createControlRange(),D.areHostProperties(Z,["item","add"])&&(J=!0)),P.implementsControlRange=J,$=W?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return e.rangeCount?e.getRangeAt(e.rangeCount-1).collapsed:!1};var ee;_(U,"getRangeAt")?ee=function(e,t){try{return e.getRangeAt(t)}catch(n){return null}}:W&&(ee=function(t){var n=I(t.anchorNode),i=e.createRange(n);return i.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),i.collapsed!==this.isCollapsed&&i.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),i}),v.prototype=e.selectionPrototype;var te=[],ne=function(e){if(e&&e instanceof v)return e.refresh(),e;e=i(e,"getNativeSelection");var t=y(e),n=N(e),r=z?a(e):null;return t?(t.nativeSelection=n,t.docSelection=r,t.refresh()):(t=new v(n,r,e),te.push({win:e,selection:t})),t};e.getSelection=ne,D.createAliasForDeprecatedMethod(e,"getIframeSelection","getSelection");var ie=v.prototype;if(!V&&W&&D.areHostMethods(U,["removeAllRanges","addRange"])){ie.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),c(this)};var re=function(e,t){Q(e.nativeSelection,t),e.refresh()};K?ie.addRange=function(t,i){if(J&&z&&this.docSelection.type==L)g(this,t);else if(n(i)&&G)re(this,t);else{var r;Y?r=this.rangeCount:(this.removeAllRanges(),r=0);var a=u(t).cloneRange();try{this.nativeSelection.addRange(a)}catch(o){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==r+1){if(e.config.checkSelectionRanges){var l=ee(this.nativeSelection,this.rangeCount-1);l&&!F(l,t)&&(t=new R(l))}this._ranges[this.rangeCount-1]=t,s(this,t,se(this.nativeSelection)),this.isCollapsed=$(this)}else this.refresh()}}:ie.addRange=function(e,t){n(t)&&G?re(this,e):(this.nativeSelection.addRange(u(e)),this.refresh())},ie.setRanges=function(e){if(J&&z&&e.length>1)C(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;n>t;++t)this.addRange(e[t])}}}else{if(!(_(U,"empty")&&_(j,"select")&&J&&V))return t.fail("No means of selecting a Range or TextRange was found"),!1;ie.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=I(this.anchorNode);else if(this.docSelection.type==L){var t=this.docSelection.createRange();t.length&&(e=I(t.item(0)))}if(e){var n=B(e).createTextRange();n.select(),this.docSelection.empty()}}}catch(i){}c(this)},ie.addRange=function(t){this.docSelection.type==L?g(this,t):(e.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,s(this,t,!1))},ie.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?C(this,e):t&&this.addRange(e[0])}}ie.getRangeAt=function(e){if(0>e||e>=this.rangeCount)throw new O("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()};var ae;if(V)ae=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=B(t.win.document).createTextRange(),n.collapse(!0)),t.docSelection.type==L?m(t):h(n)?f(t,n):c(t)};else if(_(U,"getRangeAt")&&typeof U.rangeCount==E)ae=function(t){if(J&&z&&t.docSelection.type==L)m(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,i=t.rangeCount;i>n;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));s(t,t._ranges[t.rangeCount-1],se(t.nativeSelection)),t.isCollapsed=$(t)}else c(t)};else{if(!W||typeof U.isCollapsed!=k||typeof j.collapsed!=k||!P.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;ae=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=ee(n,0),e._ranges=[t],e.rangeCount=1,l(e),e.isCollapsed=$(e)):c(e)}}ie.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,i=this.anchorOffset;if(ae(this),e){var r=t.length;if(r!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=i)return!0;for(;r--;)if(!F(t[r],this._ranges[r]))return!0;return!1}};var oe=function(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var i=0,r=n.length;r>i;++i)F(t,n[i])||e.addRange(n[i]);e.rangeCount||c(e)};J&&z?ie.removeRange=function(e){if(this.docSelection.type==L){for(var t,n=this.docSelection.createRange(),i=p(e),r=I(n.item(0)),a=B(r).createControlRange(),o=!1,s=0,l=n.length;l>s;++s)t=n.item(s),t!==i||o?a.add(n.item(s)):o=!0;a.select(),m(this)}else oe(this,e)}:ie.removeRange=function(e){oe(this,e)};var se;!V&&W&&P.implementsDomRange?(se=o,ie.isBackward=function(){return se(this)}):se=ie.isBackward=function(){return!1},ie.isBackwards=ie.isBackward,ie.toString=function(){for(var e=[],t=0,n=this.rangeCount;n>t;++t)e[t]=""+this._ranges[t];return e.join("")},ie.collapse=function(t,n){w(this,t);var i=e.createRange(t);i.collapseToPoint(t,n),this.setSingleRange(i),this.isCollapsed=!0},ie.collapseToStart=function(){if(!this.rangeCount)throw new O("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},ie.collapseToEnd=function(){if(!this.rangeCount)throw new O("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},ie.selectAllChildren=function(t){w(this,t);var n=e.createRange(t);n.selectNodeContents(t),this.setSingleRange(n)},ie.deleteFromDocument=function(){if(J&&z&&this.docSelection.type==L){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),T.removeNode(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var i=0,r=n.length;r>i;++i)n[i].deleteContents();this.addRange(n[r-1])}}},ie.eachRange=function(e,t){for(var n=0,i=this._ranges.length;i>n;++n)if(e(this.getRangeAt(n)))return t},ie.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},ie.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},ie.callMethodOnEachRange=function(e,t){var n=[];return this.eachRange(function(i){n.push(i[e].apply(i,t||[]))}),n},ie.setStart=x(!0),ie.setEnd=x(!1),e.rangePrototype.select=function(e){ne(this.getDocument()).setSingleRange(this,e)},ie.changeEachRange=function(e){var t=[],n=this.isBackward();this.eachRange(function(n){e(n),t.push(n)}),this.removeAllRanges(),n&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},ie.containsNode=function(e,t){return this.eachRange(function(n){return n.containsNode(e,t)},!0)||!1},ie.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},ie.moveToBookmark=function(t){for(var n,i,r=[],a=0;n=t.rangeBookmarks[a++];)i=e.createRange(this.win),i.moveToBookmark(n),r.push(i);t.backward?this.setSingleRange(r[0],"backward"):this.setRanges(r)},ie.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},ie.restoreRanges=function(e){this.removeAllRanges();for(var t,n=0;t=e.ranges[n];++n)this.addRange(t,e.backward&&0==n)},ie.toHtml=function(){var e=[];return this.eachRange(function(t){e.push(M.toHtml(t))}),e.join("")},P.implementsTextRange&&(ie.getNativeTextRange=function(){var n;if(n=this.docSelection){var i=n.createRange();if(h(i))return i;throw t.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range")}),ie.getName=function(){return"WrappedSelection"},ie.inspect=function(){return S(this)},ie.detach=function(){y(this.win,"delete"),b(this)},v.detachAll=function(){y(null,"deleteAll")},v.inspect=S,v.isDirectionBackward=n,e.Selection=v,e.selectionPrototype=ie,e.addShimListener(function(e){"undefined"==typeof e.getSelection&&(e.getSelection=function(){return ne(e)}),e=null})});var B=!1,F=function(e){B||(B=!0,!O.initialized&&O.config.autoInitialize&&d())};return M&&("complete"==document.readyState?F():(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",F,!1),P(window,"load",F))),O},this)},function(e,t,n){var i;!function(r,a){function o(e){try{return 0!==angular.element(e).length}catch(t){return!1}}function s(e,t){if(!e||""===e||l.hasOwnProperty(e))throw"textAngular Error: A unique name is required for a Tool Definition";if(t.display&&(""===t.display||!o(t.display))||!t.display&&!t.buttontext&&!t.iconclass)throw'textAngular Error: Tool Definition for "'+e+'" does not have a valid display/iconclass/buttontext value';l[e]=t}a["true"]=r;var l={};angular.module("textAngularSetup",[]).constant("taRegisterTool",s).value("taTools",l).value("taOptions",{forceTextAngularSanitize:!0,keyMappings:[],toolbar:[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","strikeThrough","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["html","insertImage","insertLink","insertVideo","wordcount","charcount"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},defaultTagAttributes:{a:{target:""}},setup:{textEditorSetup:function(e){},htmlEditorSetup:function(e){}},defaultFileDropHandler:function(e,t){var n=new FileReader;return"image"===e.type.substring(0,5)?(n.onload=function(){""!==n.result&&t("insertImage",n.result,!0)},n.readAsDataURL(e),!0):!1}}).value("taSelectableElements",["a","img"]).value("taCustomRenderers",[{selector:"img",customAttribute:"ta-insert-video",renderLogic:function(e){var t=angular.element("<iframe></iframe>"),n=e.prop("attributes");angular.forEach(n,function(e){t.attr(e.name,e.value)}),t.attr("src",t.attr("ta-insert-video")),e.replaceWith(t)}}]).value("taTranslations",{html:{tooltip:"Toggle html / Rich Text"},heading:{tooltip:"Heading "},p:{tooltip:"Paragraph"},pre:{tooltip:"Preformatted text"},ul:{tooltip:"Unordered List"},ol:{tooltip:"Ordered List"},quote:{tooltip:"Quote/unquote selection or paragraph"},undo:{tooltip:"Undo"},redo:{tooltip:"Redo"},bold:{tooltip:"Bold"},italic:{tooltip:"Italic"},underline:{tooltip:"Underline"},strikeThrough:{tooltip:"Strikethrough"},justifyLeft:{tooltip:"Align text left"},justifyRight:{tooltip:"Align text right"},justifyFull:{tooltip:"Justify text"},justifyCenter:{tooltip:"Center"},indent:{tooltip:"Increase indent"},outdent:{tooltip:"Decrease indent"},clear:{tooltip:"Clear formatting"},insertImage:{dialogPrompt:"Please enter an image URL to insert",tooltip:"Insert image",hotkey:"the - possibly language dependent hotkey ... for some future implementation"},insertVideo:{tooltip:"Insert video",dialogPrompt:"Please enter a youtube URL to embed"},insertLink:{tooltip:"Insert / edit link",dialogPrompt:"Please enter a URL to insert"},editLink:{reLinkButton:{tooltip:"Relink"},unLinkButton:{tooltip:"Unlink"},targetToggle:{buttontext:"Open in New Window"}},wordcount:{tooltip:"Display words Count"},charcount:{tooltip:"Display characters Count"}}).factory("taToolFunctions",["$window","taTranslations",function(e,t){return{imgOnSelectAction:function(e,t,n){var i=function(){n.updateTaBindtaTextElement(),n.hidePopover()};e.preventDefault(),n.displayElements.popover.css("width","375px");var r=n.displayElements.popoverContainer;r.empty();var a=angular.element('<div class="btn-group" style="padding-right: 6px;">'),o=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">100% </button>');o.on("click",function(e){e.preventDefault(),t.css({width:"100%",height:""}),i()});var s=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">50% </button>');s.on("click",function(e){e.preventDefault(),t.css({width:"50%",height:""}),i()});var l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">25% </button>');l.on("click",function(e){e.preventDefault(),t.css({width:"25%",height:""}),i()});var c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">Reset</button>');c.on("click",function(e){e.preventDefault(),t.css({width:"",height:""}),i()}),a.append(o),a.append(s),a.append(l),a.append(c),r.append(a),a=angular.element('<div class="btn-group" style="padding-right: 6px;">');var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-left"></i></button>');u.on("click",function(e){e.preventDefault(),t.css("float","left"),t.css("cssFloat","left"),t.css("styleFloat","left"),i()});var d=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-right"></i></button>');d.on("click",function(e){e.preventDefault(),t.css("float","right"),t.css("cssFloat","right"),t.css("styleFloat","right"),i()});var p=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-justify"></i></button>');p.on("click",function(e){e.preventDefault(),t.css("float",""),t.css("cssFloat",""),t.css("styleFloat",""),i()}),a.append(u),a.append(p),a.append(d),r.append(a),a=angular.element('<div class="btn-group">');var h=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-trash-o"></i></button>');h.on("click",function(e){e.preventDefault(),t.remove(),i()}),a.append(h),r.append(a),n.showPopover(t),n.showResizeOverlay(t)},aOnSelectAction:function(n,i,r){n.preventDefault(),r.displayElements.popover.css("width","436px");var a=r.displayElements.popoverContainer;a.empty(),a.css("line-height","28px");var o=angular.element('<a href="'+i.attr("href")+'" target="_blank">'+i.attr("href")+"</a>");o.css({display:"inline-block","max-width":"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"}),a.append(o);var s=angular.element('<div class="btn-group pull-right">'),l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+t.editLink.reLinkButton.tooltip+'"><i class="fa fa-edit icon-edit"></i></button>');l.on("click",function(n){n.preventDefault();var a=e.prompt(t.insertLink.dialogPrompt,i.attr("href"));a&&""!==a&&"http://"!==a&&(i.attr("href",a),r.updateTaBindtaTextElement()),r.hidePopover()}),s.append(l);var c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+t.editLink.unLinkButton.tooltip+'"><i class="fa fa-unlink icon-unlink"></i></button>');c.on("click",function(e){e.preventDefault(),i.replaceWith(i.contents()),r.updateTaBindtaTextElement(),r.hidePopover()}),s.append(c);var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on">'+t.editLink.targetToggle.buttontext+"</button>");"_blank"===i.attr("target")&&u.addClass("active"),u.on("click",function(e){e.preventDefault(),i.attr("target","_blank"===i.attr("target")?"":"_blank"),u.toggleClass("active"),r.updateTaBindtaTextElement()}),s.append(u),a.append(s),r.showPopover(i)},extractYoutubeVideoId:function(e){var t=/(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/i,n=e.match(t);return n&&n[1]||null}}}]).run(["taRegisterTool","$window","taTranslations","taSelection","taToolFunctions","$sanitize","taOptions",function(e,t,n,i,r,a,o){var s={};if(a("",s),o.forceTextAngularSanitize===!0&&"taSanitize"!==s.version)throw angular.$$minErr("textAngular")("textAngularSetup","The textAngular-sanitize provider has been replaced by another -- have you included angular-sanitize by mistake?");e("html",{iconclass:"fa fa-code",tooltiptext:n.html.tooltip,action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});var l=function(e){return function(){return this.$editor().queryFormatBlockState(e)}},c=function(){return this.$editor().wrapSelection("formatBlock","<"+this.name.toUpperCase()+">")};angular.forEach(["h1","h2","h3","h4","h5","h6"],function(t){e(t.toLowerCase(),{buttontext:t.toUpperCase(),tooltiptext:n.heading.tooltip+t.charAt(1),action:c,activeState:l(t.toLowerCase())})}),e("p",{buttontext:"P",tooltiptext:n.p.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<P>")},activeState:function(){return this.$editor().queryFormatBlockState("p")}}),e("pre",{buttontext:"pre",tooltiptext:n.pre.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<PRE>")},activeState:function(){return this.$editor().queryFormatBlockState("pre")}}),e("ul",{iconclass:"fa fa-list-ul",tooltiptext:n.ul.tooltip,action:function(){return this.$editor().wrapSelection("insertUnorderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertUnorderedList")}}),e("ol",{iconclass:"fa fa-list-ol",tooltiptext:n.ol.tooltip,action:function(){return this.$editor().wrapSelection("insertOrderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertOrderedList")}}),e("quote",{iconclass:"fa fa-quote-right",tooltiptext:n.quote.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),e("undo",{iconclass:"fa fa-undo",tooltiptext:n.undo.tooltip,action:function(){return this.$editor().wrapSelection("undo",null)}}),e("redo",{iconclass:"fa fa-repeat",tooltiptext:n.redo.tooltip,action:function(){return this.$editor().wrapSelection("redo",null)}}),e("bold",{iconclass:"fa fa-bold",tooltiptext:n.bold.tooltip,action:function(){return this.$editor().wrapSelection("bold",null)},activeState:function(){return this.$editor().queryCommandState("bold")},commandKeyCode:98}),e("justifyLeft",{iconclass:"fa fa-align-left",tooltiptext:n.justifyLeft.tooltip,action:function(){return this.$editor().wrapSelection("justifyLeft",null)},activeState:function(e){if(e&&"#document"===e.nodeName)return!1;var t=!1;return e&&(t="left"===e.css("text-align")||"left"===e.attr("align")||"right"!==e.css("text-align")&&"center"!==e.css("text-align")&&"justify"!==e.css("text-align")&&!this.$editor().queryCommandState("justifyRight")&&!this.$editor().queryCommandState("justifyCenter")&&!this.$editor().queryCommandState("justifyFull")),t=t||this.$editor().queryCommandState("justifyLeft")}}),e("justifyRight",{iconclass:"fa fa-align-right",tooltiptext:n.justifyRight.tooltip,action:function(){return this.$editor().wrapSelection("justifyRight",null);
},activeState:function(e){if(e&&"#document"===e.nodeName)return!1;var t=!1;return e&&(t="right"===e.css("text-align")),t=t||this.$editor().queryCommandState("justifyRight")}}),e("justifyFull",{iconclass:"fa fa-align-justify",tooltiptext:n.justifyFull.tooltip,action:function(){return this.$editor().wrapSelection("justifyFull",null)},activeState:function(e){var t=!1;return e&&(t="justify"===e.css("text-align")),t=t||this.$editor().queryCommandState("justifyFull")}}),e("justifyCenter",{iconclass:"fa fa-align-center",tooltiptext:n.justifyCenter.tooltip,action:function(){return this.$editor().wrapSelection("justifyCenter",null)},activeState:function(e){if(e&&"#document"===e.nodeName)return!1;var t=!1;return e&&(t="center"===e.css("text-align")),t=t||this.$editor().queryCommandState("justifyCenter")}}),e("indent",{iconclass:"fa fa-indent",tooltiptext:n.indent.tooltip,action:function(){return this.$editor().wrapSelection("indent",null)},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")},commandKeyCode:"TabKey"}),e("outdent",{iconclass:"fa fa-outdent",tooltiptext:n.outdent.tooltip,action:function(){return this.$editor().wrapSelection("outdent",null)},activeState:function(){return!1},commandKeyCode:"ShiftTabKey"}),e("italics",{iconclass:"fa fa-italic",tooltiptext:n.italic.tooltip,action:function(){return this.$editor().wrapSelection("italic",null)},activeState:function(){return this.$editor().queryCommandState("italic")},commandKeyCode:105}),e("underline",{iconclass:"fa fa-underline",tooltiptext:n.underline.tooltip,action:function(){return this.$editor().wrapSelection("underline",null)},activeState:function(){return this.$editor().queryCommandState("underline")},commandKeyCode:117}),e("strikeThrough",{iconclass:"fa fa-strikethrough",tooltiptext:n.strikeThrough.tooltip,action:function(){return this.$editor().wrapSelection("strikeThrough",null)},activeState:function(){return document.queryCommandState("strikeThrough")}}),e("clear",{iconclass:"fa fa-ban",tooltiptext:n.clear.tooltip,action:function(e,t){var n;this.$editor().wrapSelection("removeFormat",null);var r=angular.element(i.getSelectionElement()),a=function(e){e=angular.element(e);var t=e;angular.forEach(e.children(),function(e){var n=angular.element("<p></p>");n.html(angular.element(e).html()),t.after(n),t=n}),e.remove()};if(angular.forEach(r.find("ul"),a),angular.forEach(r.find("ol"),a),"li"===r[0].tagName.toLowerCase()){var o=r[0].parentNode.childNodes,s=[],l=[],c=!1;for(n=0;n<o.length;n++)o[n]===r[0]?c=!0:c?l.push(o[n]):s.push(o[n]);var u=angular.element(r[0].parentNode),d=angular.element("<p></p>");if(d.html(angular.element(r[0]).html()),0===s.length||0===l.length)0===l.length?u.after(d):u[0].parentNode.insertBefore(d[0],u[0]),0===s.length&&0===l.length?u.remove():angular.element(r[0]).remove();else{var p=angular.element("<"+u[0].tagName+"></"+u[0].tagName+">"),h=angular.element("<"+u[0].tagName+"></"+u[0].tagName+">");for(n=0;n<s.length;n++)p.append(angular.element(s[n]));for(n=0;n<l.length;n++)h.append(angular.element(l[n]));u.after(h),u.after(d),u.after(p),u.remove()}i.setSelectionToElementEnd(d[0])}var f=this.$editor(),m=function(e){e=angular.element(e),e[0]!==f.displayElements.text[0]&&e.removeAttr("class"),angular.forEach(e.children(),m)};angular.forEach(r,m),"li"!==r[0].tagName.toLowerCase()&&"ol"!==r[0].tagName.toLowerCase()&&"ul"!==r[0].tagName.toLowerCase()&&this.$editor().wrapSelection("formatBlock","default"),t()}}),e("insertImage",{iconclass:"fa fa-picture-o",tooltiptext:n.insertImage.tooltip,action:function(){var e;return e=t.prompt(n.insertImage.dialogPrompt,"http://"),e&&""!==e&&"http://"!==e?this.$editor().wrapSelection("insertImage",e,!0):void 0},onElementSelect:{element:"img",action:r.imgOnSelectAction}}),e("insertVideo",{iconclass:"fa fa-youtube-play",tooltiptext:n.insertVideo.tooltip,action:function(){var e;if(e=t.prompt(n.insertVideo.dialogPrompt,"https://"),e&&""!==e&&"https://"!==e&&(videoId=r.extractYoutubeVideoId(e),videoId)){var i="https://www.youtube.com/embed/"+videoId,a='<img class="ta-insert-video" src="https://img.youtube.com/vi/'+videoId+'/hqdefault.jpg" ta-insert-video="'+i+'" contenteditable="false" allowfullscreen="true" frameborder="0" />';return this.$editor().wrapSelection("insertHTML",a,!0)}},onElementSelect:{element:"img",onlyWithAttrs:["ta-insert-video"],action:r.imgOnSelectAction}}),e("insertLink",{tooltiptext:n.insertLink.tooltip,iconclass:"fa fa-link",action:function(){var e;return e=t.prompt(n.insertLink.dialogPrompt,"http://"),e&&""!==e&&"http://"!==e?this.$editor().wrapSelection("createLink",e,!0):void 0},activeState:function(e){return e?"A"===e[0].tagName:!1},onElementSelect:{element:"a",action:r.aOnSelectAction}}),e("wordcount",{display:'<div id="toolbarWC" style="display:block; min-width:100px;">Words: <span ng-bind="wordcount"></span></div>',disabled:!0,wordcount:0,activeState:function(){var e=this.$editor().displayElements.text,t=e[0].innerHTML||"",n=0;return""!==t.replace(/\s*<[^>]*?>\s*/g,"")&&(n=t.replace(/<\/?(b|i|em|strong|span|u|strikethrough|a|img|small|sub|sup|label)( [^>*?])?>/gi,"").replace(/(<[^>]*?>\s*<[^>]*?>)/gi," ").replace(/(<[^>]*?>)/gi,"").replace(/\s+/gi," ").match(/\S+/g).length),this.wordcount=n,this.$editor().wordcount=n,!1}}),e("charcount",{display:'<div id="toolbarCC" style="display:block; min-width:120px;">Characters: <span ng-bind="charcount"></span></div>',disabled:!0,charcount:0,activeState:function(){var e=this.$editor().displayElements.text,t=e[0].innerText||e[0].textContent,n=t.replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+/g," ").replace(/\s+$/g," ").length;return this.charcount=n,this.$editor().charcount=n,!1}})}]),/*
	@license textAngular
	Author : Austin Anderson
	License : 2013 MIT
	Version 1.4.6
	
	See README.md or https://github.com/fraywing/textAngular/wiki for requirements and use.
	*/
"undefined"!=typeof e&&"undefined"!=typeof r&&e.exports===r&&(e.exports="textAngular"),function(){"use strict";var r={ie:function(){for(var e,t=3,n=document.createElement("div"),i=n.getElementsByTagName("i");n.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->",i[0];);return t>4?t:e}(),webkit:/AppleWebKit\/([\d.]+)/i.test(navigator.userAgent)},a=!1;r.webkit&&(document.addEventListener("mousedown",function(e){var t=e||window.event,n=t.target;if(a&&null!==n){for(var i=!1,r=n;null!==r&&"html"!==r.tagName.toLowerCase()&&!i;)i="true"===r.contentEditable,r=r.parentNode;i||(document.getElementById("textAngular-editableFix-010203040506070809").setSelectionRange(0,0),n.focus(),n.select&&n.select())}a=!1},!1),angular.element(document).ready(function(){angular.element(document.body).append(angular.element('<input id="textAngular-editableFix-010203040506070809" class="ta-hidden-input" aria-hidden="true" unselectable="on" tabIndex="-1">'))}));var o=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/i,s=/^(ul|li|ol)$/i,c=/^(address|article|aside|audio|blockquote|canvas|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video|li)$/i;String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var u,d,p,h,f,m;if(r.ie>8||void 0===r.ie){for(var g=document.styleSheets,v=0;v<g.length;v++)if((0===g[v].media.length||g[v].media.mediaText.match(/(all|screen)/gi))&&g[v].href&&g[v].href.match(/textangular\.(min\.|)css/gi)){u=g[v];break}u||(u=function(){var e=document.createElement("style");return r.webkit&&e.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(e),e.sheet}()),d=function(e,t){return h(u,e,t)},h=function(e,t,n){var i,r;return e.cssRules?i=Math.max(e.cssRules.length-1,0):e.rules&&(i=Math.max(e.rules.length-1,0)),e.insertRule?e.insertRule(t+"{"+n+"}",i):e.addRule(t,n,i),u.rules?r=u.rules[i]:u.cssRules&&(r=u.cssRules[i]),r},m=function(e,t){var n,i;for(n=0;n<t.length;n++)if(t[n].cssText===e.cssText){i=n;break}return i},p=function(e){f(u,e)},f=function(e,t){var n=e.cssRules||e.rules;if(n&&0!==n.length){var i=m(t,n);e.removeRule?e.removeRule(i):e.deleteRule(i)}}}angular.module("textAngular.factories",[]).factory("taBrowserTag",[function(){return function(e){return e?""===e?void 0===r.ie?"div":r.ie<=8?"P":"p":r.ie<=8?e.toUpperCase():e:r.ie<=8?"P":"p"}}]).factory("taApplyCustomRenderers",["taCustomRenderers","taDOM",function(e,t){return function(n){var i=angular.element("<div></div>");return i[0].innerHTML=n,angular.forEach(e,function(e){var n=[];e.selector&&""!==e.selector?n=i.find(e.selector):e.customAttribute&&""!==e.customAttribute&&(n=t.getByAttribute(i,e.customAttribute)),angular.forEach(n,function(t){t=angular.element(t),e.selector&&""!==e.selector&&e.customAttribute&&""!==e.customAttribute?void 0!==t.attr(e.customAttribute)&&e.renderLogic(t):e.renderLogic(t)})}),i[0].innerHTML}}]).factory("taFixChrome",function(){var e=function(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var t,n,i,r=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,a="",o=0;t=r.exec(e);)n=t[3]||t[4],n&&n.match(/line-height: 1.[0-9]{3,12};|color: inherit; line-height: 1.1;/i)&&(n=n.replace(/( |)font-family: inherit;|( |)line-height: 1.[0-9]{3,12};|( |)color: inherit;/gi,""),i="<"+t[1].trim(),n.trim().length>0&&(i+=" style="+t[2].substring(0,1)+n+t[2].substring(0,1)),i+=t[5].trim()+">",a+=e.substring(o,t.index)+i,o=t.index+t[0].length);return a+=e.substring(o),o>0?a.replace(/<span\s?>(.*?)<\/span>(<br(\/|)>|)/gi,"$1"):e};return e}).factory("taSanitize",["$sanitize",function(e){function t(e,t){for(var n,i=0,r=0,a=/<[^>]*>/gi;n=a.exec(e);)if(r=n.index,"/"===n[0].substr(1,1)){if(0===i)break;i--}else i++;return t+e.substring(0,r)+angular.element(t)[0].outerHTML.substring(t.length)+e.substring(r)}function n(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var i,a,o,s,l,u,d=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,p="",h="",f=0;a=d.exec(e);){s=a[3]||a[4];var m=new RegExp(c,"i");if(angular.isString(s)&&m.test(s)){l="";for(var g=new RegExp(c,"ig");o=g.exec(s);)for(i=0;i<r.length;i++)o[2*i+2]&&(l+="<"+r[i].tag+">");u=n(e.substring(f,a.index)),h+=p.length>0?t(u,p):u,s=s.replace(new RegExp(c,"ig"),""),h+="<"+a[1].trim(),s.length>0&&(h+=' style="'+s+'"'),h+=a[5]+">",f=a.index+a[0].length,p=l}}return h+=p.length>0?t(e.substring(f),p):e.substring(f)}function i(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var t,n=/<([^>\/]+?)align=("([^"]+)"|'([^']+)')([^>]*)>/gi,i="",r=0;t=n.exec(e);){i+=e.substring(r,t.index),r=t.index+t[0].length;var a="<"+t[1]+t[5];/style=("([^"]+)"|'([^']+)')/gi.test(a)?a=a.replace(/style=("([^"]+)"|'([^']+)')/i,'style="$2$3 text-align:'+(t[3]||t[4])+';"'):a+=' style="text-align:'+(t[3]||t[4])+';"',a+=">",i+=a}return i+e.substring(r)}for(var r=[{property:"font-weight",values:["bold"],tag:"b"},{property:"font-style",values:["italic"],tag:"i"}],a=[],o=0;o<r.length;o++){for(var s="("+r[o].property+":\\s*(",l=0;l<r[o].values.length;l++)l>0&&(s+="|"),s+=r[o].values[l];s+=");)",a.push(s)}var c="("+a.join("|")+")";return function(t,r,a){if(!a)try{t=n(t)}catch(o){}t=i(t);var s;try{s=e(t),a&&(s=t)}catch(o){s=r||""}var l,c=s.match(/(<pre[^>]*>.*?<\/pre[^>]*>)/gi),u=s.replace(/(&#(9|10);)*/gi,""),d=/<pre[^>]*>.*?<\/pre[^>]*>/gi,p=0,h=0;for(s="";null!==(l=d.exec(u))&&p<c.length;)s+=u.substring(h,l.index)+c[p],h=l.index+l[0].length,p++;return s+u.substring(h)}}]).factory("taToolExecuteAction",["$q","$log",function(e,t){return function(n){void 0!==n&&(this.$editor=function(){return n});var i,r=e.defer(),a=r.promise,o=this.$editor();try{i=this.action(r,o.startAction()),a["finally"](function(){o.endAction.call(o)})}catch(s){t.error(s)}(i||void 0===i)&&r.resolve()}}]),angular.module("textAngular.DOM",["textAngular.factories"]).factory("taExecCommand",["taSelection","taBrowserTag","$document",function(e,t,n){var i=function(t,n){var i,r,a=t.find("li");for(r=a.length-1;r>=0;r--)i=angular.element("<"+n+">"+a[r].innerHTML+"</"+n+">"),t.after(i);t.remove(),e.setSelectionToElementEnd(i[0])},r=function(t){/(<br(|\/)>)$/i.test(t.innerHTML.trim())?e.setSelectionBeforeElement(angular.element(t).find("br")[0]):e.setSelectionToElementEnd(t)},a=function(e,t){var n=angular.element("<"+t+">"+e[0].innerHTML+"</"+t+">");e.after(n),e.remove(),r(n.find("li")[0])},l=function(e,n,i){for(var a="",o=0;o<e.length;o++)a+="<"+t("li")+">"+e[o].innerHTML+"</"+t("li")+">";var s=angular.element("<"+i+">"+a+"</"+i+">");n.after(s),n.remove(),r(s.find("li")[0])};return function(r,c){return r=t(r),function(u,d,p,h){var f,m,g,v,b,y,C,w=angular.element("<"+r+">");try{C=e.getSelectionElement()}catch(x){}var S=angular.element(C);if(void 0!==C){var N=C.tagName.toLowerCase();if("insertorderedlist"===u.toLowerCase()||"insertunorderedlist"===u.toLowerCase()){var $=t("insertorderedlist"===u.toLowerCase()?"ol":"ul");if(N===$)return i(S,r);if("li"===N&&S.parent()[0].tagName.toLowerCase()===$&&1===S.parent().children().length)return i(S.parent(),r);if("li"===N&&S.parent()[0].tagName.toLowerCase()!==$&&1===S.parent().children().length)return a(S.parent(),$);if(N.match(o)&&!S.hasClass("ta-bind")){if("ol"===N||"ul"===N)return a(S,$);var k=!1;return angular.forEach(S.children(),function(e){e.tagName.match(o)&&(k=!0)}),k?l(S.children(),S,$):l([angular.element("<div>"+C.innerHTML+"</div>")[0]],S,$)}if(N.match(o)){if(v=e.getOnlySelectedElements(),0===v.length)m=angular.element("<"+$+"><li>"+C.innerHTML+"</li></"+$+">"),S.html(""),S.append(m);else{if(1===v.length&&("ol"===v[0].tagName.toLowerCase()||"ul"===v[0].tagName.toLowerCase()))return v[0].tagName.toLowerCase()===$?i(angular.element(v[0]),r):a(angular.element(v[0]),$);g="";var E=[];for(f=0;f<v.length;f++)if(3!==v[f].nodeType){var T=angular.element(v[f]);if("li"===v[f].tagName.toLowerCase())continue;g+="ol"===v[f].tagName.toLowerCase()||"ul"===v[f].tagName.toLowerCase()?T[0].innerHTML:"span"!==v[f].tagName.toLowerCase()||"ol"!==v[f].childNodes[0].tagName.toLowerCase()&&"ul"!==v[f].childNodes[0].tagName.toLowerCase()?"<"+t("li")+">"+T[0].innerHTML+"</"+t("li")+">":T[0].childNodes[0].innerHTML,E.unshift(T)}m=angular.element("<"+$+">"+g+"</"+$+">"),E.pop().replaceWith(m),angular.forEach(E,function(e){e.remove()})}return void e.setSelectionToElementEnd(m[0])}}else{if("formatblock"===u.toLowerCase()){for(y=p.toLowerCase().replace(/[<>]/gi,""),"default"===y.trim()&&(y=r,p="<"+r+">"),m="li"===N?S.parent():S;!m[0].tagName||!m[0].tagName.match(o)&&!m.parent().attr("contenteditable");)m=m.parent(),N=(m[0].tagName||"").toLowerCase();if(N===y){v=m.children();var D=!1;for(f=0;f<v.length;f++)D=D||v[f].tagName.match(o);D?(m.after(v),b=m.next(),m.remove(),m=b):(w.append(m[0].childNodes),m.after(w),m.remove(),m=w)}else if(m.parent()[0].tagName.toLowerCase()!==y||m.parent().hasClass("ta-bind"))if(N.match(s))m.wrap(p);else{for(v=e.getOnlySelectedElements(),0===v.length&&(v=[m[0]]),f=0;f<v.length;f++)if(3===v[f].nodeType||!v[f].tagName.match(o))for(;3===v[f].nodeType||!v[f].tagName||!v[f].tagName.match(o);)v[f]=v[f].parentNode;if(angular.element(v[0]).hasClass("ta-bind"))m=angular.element(p),m[0].innerHTML=v[0].innerHTML,v[0].innerHTML=m[0].outerHTML;else if("blockquote"===y){for(g="",f=0;f<v.length;f++)g+=v[f].outerHTML;for(m=angular.element(p),m[0].innerHTML=g,v[0].parentNode.insertBefore(m[0],v[0]),f=v.length-1;f>=0;f--)v[f].parentNode&&v[f].parentNode.removeChild(v[f])}else for(f=0;f<v.length;f++)m=angular.element(p),m[0].innerHTML=v[f].innerHTML,v[f].parentNode.insertBefore(m[0],v[f]),v[f].parentNode.removeChild(v[f])}else{var _=m.parent(),M=_.contents();for(f=0;f<M.length;f++)_.parent().hasClass("ta-bind")&&3===M[f].nodeType&&(w=angular.element("<"+r+">"),w[0].innerHTML=M[f].outerHTML,M[f]=w[0]),_.parent()[0].insertBefore(M[f],_[0]);_.remove()}return void e.setSelectionToElementEnd(m[0])}if("createlink"===u.toLowerCase()){var R='<a href="'+p+'" target="'+(h.a.target?h.a.target:"")+'">',O="</a>",A=e.getSelection();if(A.collapsed)e.insertHtml(R+p+O,c);else if(rangy.getSelection().getRangeAt(0).canSurroundContents()){var P=angular.element(R+O)[0];rangy.getSelection().getRangeAt(0).surroundContents(P)}return}if("inserthtml"===u.toLowerCase())return void e.insertHtml(p,c)}}try{n[0].execCommand(u,d,p)}catch(x){}}}}]).service("taSelection",["$window","$document","taDOM",function(e,t,n){var i=t[0],r=e.rangy,a=function(e,t){return e.tagName&&e.tagName.match(/^br$/i)&&0===t&&!e.previousSibling?{element:e.parentNode,offset:0}:{element:e,offset:t}},s={getSelection:function(){var e=r.getSelection().getRangeAt(0),t=e.commonAncestorContainer,n={start:a(e.startContainer,e.startOffset),end:a(e.endContainer,e.endOffset),collapsed:e.collapsed};return t=3===t.nodeType?t.parentNode:t,t.parentNode===n.start.element||t.parentNode===n.end.element?n.container=t.parentNode:n.container=t,n},getOnlySelectedElements:function(){var e=r.getSelection().getRangeAt(0),t=e.commonAncestorContainer;return t=3===t.nodeType?t.parentNode:t,e.getNodes([1],function(e){return e.parentNode===t})},getSelectionElement:function(){return s.getSelection().container},setSelection:function(e,t,n){var i=r.createRange();i.setStart(e,t),i.setEnd(e,n),r.getSelection().setSingleRange(i)},setSelectionBeforeElement:function(e){var t=r.createRange();t.selectNode(e),t.collapse(!0),r.getSelection().setSingleRange(t)},setSelectionAfterElement:function(e){var t=r.createRange();t.selectNode(e),t.collapse(!1),r.getSelection().setSingleRange(t)},setSelectionToElementStart:function(e){var t=r.createRange();t.selectNodeContents(e),t.collapse(!0),r.getSelection().setSingleRange(t)},setSelectionToElementEnd:function(e){var t=r.createRange();t.selectNodeContents(e),t.collapse(!1),e.childNodes&&e.childNodes[e.childNodes.length-1]&&"br"===e.childNodes[e.childNodes.length-1].nodeName&&(t.startOffset=t.endOffset=t.startOffset-1),r.getSelection().setSingleRange(t)},insertHtml:function(e,t){var a,l,u,d,p,h,f,m=angular.element("<div>"+e+"</div>"),g=r.getSelection().getRangeAt(0),v=i.createDocumentFragment(),b=m[0].childNodes,y=!0;if(b.length>0){for(d=[],u=0;u<b.length;u++)"p"===b[u].nodeName.toLowerCase()&&""===b[u].innerHTML.trim()||3===b[u].nodeType&&""===b[u].nodeValue.trim()||(y=y&&!o.test(b[u].nodeName),d.push(b[u]));for(var C=0;C<d.length;C++)h=v.appendChild(d[C]);!y&&g.collapsed&&/^(|<br(|\/)>)$/i.test(g.startContainer.innerHTML)&&g.selectNode(g.startContainer)}else y=!0,h=v=i.createTextNode(e);if(y)g.deleteContents();else if(g.collapsed&&g.startContainer!==t)if(g.startContainer.innerHTML&&g.startContainer.innerHTML.match(/^<[^>]*>$/i))a=g.startContainer,1===g.startOffset?(g.setStartAfter(a),g.setEndAfter(a)):(g.setStartBefore(a),g.setEndBefore(a));else{if(3===g.startContainer.nodeType&&g.startContainer.parentNode!==t)for(a=g.startContainer.parentNode,l=a.cloneNode(),n.splitNodes(a.childNodes,a,l,g.startContainer,g.startOffset);!c.test(a.nodeName);){angular.element(a).after(l),a=a.parentNode;var w=l;l=a.cloneNode(),n.splitNodes(a.childNodes,a,l,w)}else a=g.startContainer,l=a.cloneNode(),n.splitNodes(a.childNodes,a,l,void 0,void 0,g.startOffset);if(angular.element(a).after(l),g.setStartAfter(a),g.setEndAfter(a),/^(|<br(|\/)>)$/i.test(a.innerHTML.trim())&&(g.setStartBefore(a),g.setEndBefore(a),angular.element(a).remove()),/^(|<br(|\/)>)$/i.test(l.innerHTML.trim())&&angular.element(l).remove(),"li"===a.nodeName.toLowerCase()){for(f=i.createDocumentFragment(),p=0;p<v.childNodes.length;p++)m=angular.element("<li>"),n.transferChildNodes(v.childNodes[p],m[0]),n.transferNodeAttributes(v.childNodes[p],m[0]),f.appendChild(m[0]);v=f,h&&(h=v.childNodes[v.childNodes.length-1],h=h.childNodes[h.childNodes.length-1])}}else g.deleteContents();g.insertNode(v),h&&s.setSelectionToElementEnd(h)}};return s}]).service("taDOM",function(){var e={getByAttribute:function(t,n){var i=[],r=t.children();return r.length&&angular.forEach(r,function(t){i=i.concat(e.getByAttribute(angular.element(t),n))}),void 0!==t.attr(n)&&i.push(t),i},transferChildNodes:function(e,t){for(t.innerHTML="";e.childNodes.length>0;)t.appendChild(e.childNodes[0]);return t},splitNodes:function(t,n,i,r,a,o){if(!r&&isNaN(o))throw new Error("taDOM.splitNodes requires a splitNode or splitIndex");for(var s=document.createDocumentFragment(),l=document.createDocumentFragment(),c=0;t.length>0&&(isNaN(o)||o!==c)&&t[0]!==r;)s.appendChild(t[0]),c++;for(!isNaN(a)&&a>=0&&t[0]&&(s.appendChild(document.createTextNode(t[0].nodeValue.substring(0,a))),t[0].nodeValue=t[0].nodeValue.substring(a));t.length>0;)l.appendChild(t[0]);e.transferChildNodes(s,n),e.transferChildNodes(l,i)},transferNodeAttributes:function(e,t){for(var n=0;n<e.attributes.length;n++)t.setAttribute(e.attributes[n].name,e.attributes[n].value);return t}};return e}),angular.module("textAngular.validators",[]).directive("taMaxText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var r=parseInt(e.$eval(n.taMaxText));if(isNaN(r))throw"Max text must be an integer";n.$observe("taMaxText",function(e){if(r=parseInt(e),isNaN(r))throw"Max text must be an integer";i.$dirty&&i.$validate()}),i.$validators.taMaxText=function(e){var t=angular.element("<div/>");return t.html(e),t.text().length<=r}}}}).directive("taMinText",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,i){var r=parseInt(e.$eval(n.taMinText));if(isNaN(r))throw"Min text must be an integer";n.$observe("taMinText",function(e){if(r=parseInt(e),isNaN(r))throw"Min text must be an integer";i.$dirty&&i.$validate()}),i.$validators.taMinText=function(e){var t=angular.element("<div/>");return t.html(e),!t.text().length||t.text().length>=r}}}}),angular.module("textAngular.taBind",["textAngular.factories","textAngular.DOM"]).service("_taBlankTest",[function(){var e=/<(a|abbr|acronym|bdi|bdo|big|cite|code|del|dfn|img|ins|kbd|label|map|mark|q|ruby|rp|rt|s|samp|time|tt|var)[^>]*(>|$)/i;return function(t){return function(n){if(!n)return!0;var i,r=/(^[^<]|>)[^<]/i.exec(n);return r?i=r.index:(n=n.toString().replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,"").replace(/="[^"]*"/i,""),i=n.indexOf(">")),n=n.trim().substring(i,i+100),/^[^<>]+$/i.test(n)?!1:0===n.length||n===t||/^>(\s|&nbsp;)*<\/[^>]+>$/gi.test(n)?!0:/>\s*[^\s<]/i.test(n)||e.test(n)?!1:!0}}}]).directive("taButton",[function(){return{link:function(e,t,n){t.attr("unselectable","on"),t.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),!1})}}}]).directive("taBind",["taSanitize","$timeout","$window","$document","taFixChrome","taBrowserTag","taSelection","taSelectableElements","taApplyCustomRenderers","taOptions","_taBlankTest","$parse","taDOM","textAngularManager",function(e,t,n,i,s,l,u,h,f,m,g,v,y,C){return{priority:2,require:["ngModel","?ngModelOptions"],link:function(l,w,x,S){function N(e){var t;return U.forEach(function(n){if(n.keyCode===e.keyCode){var i=(e.metaKey?H:0)+(e.ctrlKey?F:0)+(e.shiftKey?V:0)+(e.altKey?z:0);if(n.forbiddenModifiers&i)return;n.mustHaveModifiers.every(function(e){return i&e})&&(t=n.specialKey)}}),t}var $,k,E,T,D=S[0],_=S[1]||{},M=void 0!==w.attr("contenteditable")&&w.attr("contenteditable"),R=M||"textarea"===w[0].tagName.toLowerCase()||"input"===w[0].tagName.toLowerCase(),O=!1,A=!1,P=!1,L=x.taUnsafeSanitizer||m.disableSanitizer,I=/^(9|19|20|27|33|34|35|36|37|38|39|40|45|112|113|114|115|116|117|118|119|120|121|122|123|144|145)$/i,B=/^(8|13|32|46|59|61|107|109|173|186|187|188|189|190|191|192|219|220|221|222)$/i,F=1,H=2,z=4,V=8,U=[{specialKey:"UndoKey",forbiddenModifiers:z+V,mustHaveModifiers:[H+F],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:z,mustHaveModifiers:[H+F,V],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:z+V,mustHaveModifiers:[H+F],keyCode:89},{specialKey:"TabKey",forbiddenModifiers:H+V+z+F,mustHaveModifiers:[],keyCode:9},{specialKey:"ShiftTabKey",forbiddenModifiers:H+z+F,mustHaveModifiers:[V],keyCode:9}];void 0===x.taDefaultWrap&&(x.taDefaultWrap="p"),""===x.taDefaultWrap?(E="",T=void 0===r.ie?"<div><br></div>":r.ie>=11?"<p><br></p>":r.ie<=8?"<P>&nbsp;</P>":"<p>&nbsp;</p>"):(E=void 0===r.ie||r.ie>=11?"<"+x.taDefaultWrap+"><br></"+x.taDefaultWrap+">":r.ie<=8?"<"+x.taDefaultWrap.toUpperCase()+"></"+x.taDefaultWrap.toUpperCase()+">":"<"+x.taDefaultWrap+"></"+x.taDefaultWrap+">",T=void 0===r.ie||r.ie>=11?"<"+x.taDefaultWrap+"><br></"+x.taDefaultWrap+">":r.ie<=8?"<"+x.taDefaultWrap.toUpperCase()+">&nbsp;</"+x.taDefaultWrap.toUpperCase()+">":"<"+x.taDefaultWrap+">&nbsp;</"+x.taDefaultWrap+">"),_.$options||(_.$options={});var j=g(T),q=function(e){if(j(e))return e;var t=angular.element("<div>"+e+"</div>");if(0===t.children().length)e="<"+x.taDefaultWrap+">"+e+"</"+x.taDefaultWrap+">";else{var n,i=t[0].childNodes,r=!1;for(n=0;n<i.length&&!(r=i[n].nodeName.toLowerCase().match(o));n++);if(r)for(e="",n=0;n<i.length;n++){var a=i[n],s=a.nodeName.toLowerCase();if("#comment"===s)e+="<!--"+a.nodeValue+"-->";else if("#text"===s){var l=a.textContent;e+=l.trim()?"<"+x.taDefaultWrap+">"+l+"</"+x.taDefaultWrap+">":l}else if(s.match(o))e+=a.outerHTML;else{var c=a.outerHTML||a.nodeValue;e+=""!==c.trim()?"<"+x.taDefaultWrap+">"+c+"</"+x.taDefaultWrap+">":c}}else e="<"+x.taDefaultWrap+">"+e+"</"+x.taDefaultWrap+">"}return e};x.taPaste&&(k=v(x.taPaste)),w.addClass("ta-bind");var W;l["$undoManager"+(x.id||"")]=D.$undoManager={_stack:[],_index:0,_max:1e3,push:function(e){return"undefined"==typeof e||null===e||"undefined"!=typeof this.current()&&null!==this.current()&&e===this.current()?e:(this._index<this._stack.length-1&&(this._stack=this._stack.slice(0,this._index+1)),this._stack.push(e),W&&t.cancel(W),this._stack.length>this._max&&this._stack.shift(),this._index=this._stack.length-1,e)},undo:function(){return this.setToIndex(this._index-1)},redo:function(){return this.setToIndex(this._index+1)},setToIndex:function(e){return 0>e||e>this._stack.length-1?void 0:(this._index=e,this.current())},current:function(){return this._stack[this._index]}};var G,K=l["$undoTaBind"+(x.id||"")]=function(){if(!O&&M){var e=D.$undoManager.undo();"undefined"!=typeof e&&null!==e&&(ue(e),Q(e,!1),G&&t.cancel(G),G=t(function(){w[0].focus(),u.setSelectionToElementEnd(w[0])},1))}},Y=l["$redoTaBind"+(x.id||"")]=function(){if(!O&&M){var e=D.$undoManager.redo();"undefined"!=typeof e&&null!==e&&(ue(e),Q(e,!1),G&&t.cancel(G),G=t(function(){w[0].focus(),u.setSelectionToElementEnd(w[0])},1))}},X=function(){if(M)return w[0].innerHTML;if(R)return w.val();throw"textAngular Error: attempting to update non-editable taBind"},Q=function(e,t,n){P=n||!1,("undefined"==typeof t||null===t)&&(t=M),("undefined"==typeof e||null===e)&&(e=X()),j(e)?(""!==D.$viewValue&&D.$setViewValue(""),t&&""!==D.$undoManager.current()&&D.$undoManager.push("")):(ce(),D.$viewValue!==e&&(D.$setViewValue(e),t&&D.$undoManager.push(e))),D.$render()};l["updateTaBind"+(x.id||"")]=function(){O||Q(void 0,void 0,!0)};var Z=function(t){return D.$oldViewValue=e(s(t),D.$oldViewValue,L)};if(w.attr("required")&&(D.$validators.required=function(e,t){return!j(e||t)}),D.$parsers.push(Z),D.$parsers.unshift(q),D.$formatters.push(Z),D.$formatters.unshift(q),D.$formatters.unshift(function(e){return D.$undoManager.push(e||"")}),R)if(l.events={},M){var J=!1,ee=function(n){if(n&&n.trim().length){if(n.match(/class=["']*Mso(Normal|List)/i)){var i=n.match(/<!--StartFragment-->([\s\S]*?)<!--EndFragment-->/i);i=i?i[1]:n,i=i.replace(/<o:p>[\s\S]*?<\/o:p>/gi,"").replace(/class=(["']|)MsoNormal(["']|)/gi,"");var r=angular.element("<div>"+i+"</div>"),a=angular.element("<div></div>"),o={element:null,lastIndent:[],lastLi:null,isUl:!1};o.lastIndent.peek=function(){var e=this.length;return e>0?this[e-1]:void 0};for(var s=function(e){o.isUl=e,o.element=angular.element(e?"<ul>":"<ol>"),o.lastIndent=[],o.lastIndent.peek=function(){var e=this.length;return e>0?this[e-1]:void 0},o.lastLevelMatch=null},c=0;c<=r[0].childNodes.length;c++)if(r[0].childNodes[c]&&"#text"!==r[0].childNodes[c].nodeName&&"p"===r[0].childNodes[c].tagName.toLowerCase()){var d=angular.element(r[0].childNodes[c]),p=(d.attr("class")||"").match(/MsoList(Bullet|Number|Paragraph)(CxSp(First|Middle|Last)|)/i);if(p){if(d[0].childNodes.length<2||d[0].childNodes[1].childNodes.length<1)continue;var h="bullet"===p[1].toLowerCase()||"number"!==p[1].toLowerCase()&&!(/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(d[0].childNodes[1].innerHTML)||/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(d[0].childNodes[1].childNodes[0].innerHTML)),f=(d.attr("style")||"").match(/margin-left:([\-\.0-9]*)/i),m=parseFloat(f?f[1]:0),g=(d.attr("style")||"").match(/mso-list:l([0-9]+) level([0-9]+) lfo[0-9+]($|;)/i);if(g&&g[2]&&(m=parseInt(g[2])),g&&(!o.lastLevelMatch||g[1]!==o.lastLevelMatch[1])||!p[3]||"first"===p[3].toLowerCase()||null===o.lastIndent.peek()||o.isUl!==h&&o.lastIndent.peek()===m)s(h),a.append(o.element);else if(null!=o.lastIndent.peek()&&o.lastIndent.peek()<m)o.element=angular.element(h?"<ul>":"<ol>"),o.lastLi.append(o.element);else if(null!=o.lastIndent.peek()&&o.lastIndent.peek()>m){for(;null!=o.lastIndent.peek()&&o.lastIndent.peek()>m;)if("li"!==o.element.parent()[0].tagName.toLowerCase()){if(!/[uo]l/i.test(o.element.parent()[0].tagName.toLowerCase()))break;o.element=o.element.parent(),o.lastIndent.pop()}else o.element=o.element.parent();o.isUl="ul"===o.element[0].tagName.toLowerCase(),h!==o.isUl&&(s(h),a.append(o.element))}o.lastLevelMatch=g,m!==o.lastIndent.peek()&&o.lastIndent.push(m),o.lastLi=angular.element("<li>"),o.element.append(o.lastLi),o.lastLi.html(d.html().replace(/<!(--|)\[if !supportLists\](--|)>[\s\S]*?<!(--|)\[endif\](--|)>/gi,"")),d.remove()}else s(!1),a.append(d)}var v=function(e){e=angular.element(e);for(var t=e[0].childNodes.length-1;t>=0;t--)e.after(e[0].childNodes[t]);e.remove()};angular.forEach(a.find("span"),function(e){e.removeAttribute("lang"),e.attributes.length<=0&&v(e)}),angular.forEach(a.find("font"),v),n=a.html()}else{if(n=n.replace(/<(|\/)meta[^>]*?>/gi,""),n.match(/<[^>]*?(ta-bind)[^>]*?>/)){if(n.match(/<[^>]*?(text-angular)[^>]*?>/)){var b=angular.element("<div>"+n+"</div>");b.find("textarea").remove();for(var C=y.getByAttribute(b,"ta-bind"),x=0;x<C.length;x++){for(var S=C[x][0].parentNode.parentNode,N=0;N<C[x][0].childNodes.length;N++)S.parentNode.insertBefore(C[x][0].childNodes[N],S);S.parentNode.removeChild(S)}n=b.html().replace('<br class="Apple-interchange-newline">',"")}}else n.match(/^<span/)&&(n.match(/<span class=(\"Apple-converted-space\"|\'Apple-converted-space\')>.<\/span>/gi)||(n=n.replace(/<(|\/)span[^>]*?>/gi,"")));n=n.replace(/<br class="Apple-interchange-newline"[^>]*?>/gi,"").replace(/<span class="Apple-converted-space">( |&nbsp;)<\/span>/gi,"&nbsp;")}/<li(\s.*)?>/i.test(n)&&/(<ul(\s.*)?>|<ol(\s.*)?>).*<li(\s.*)?>/i.test(n)===!1&&(n=n.replace(/<li(\s.*)?>.*<\/li(\s.*)?>/i,"<ul>$&</ul>")),n=n.replace(/^[ |\u00A0]+/gm,function(e){for(var t="",n=0;n<e.length;n++)t+="&nbsp;";return t}).replace(/\n|\r\n|\r/g,"<br />").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"),k&&(n=k(l,{$html:n})||n),n=e(n,"",L),u.insertHtml(n,w[0]),t(function(){D.$setViewValue(X()),J=!1,w.removeClass("processing-paste")},0)}else J=!1,w.removeClass("processing-paste")};w.on("paste",l.events.paste=function(e,r){if(r&&angular.extend(e,r),O||J)return e.stopPropagation(),e.preventDefault(),!1;J=!0,w.addClass("processing-paste");var a,o=(e.originalEvent||e).clipboardData;if(o&&o.getData&&o.types.length>0){for(var s="",l=0;l<o.types.length;l++)s+=" "+o.types[l];return/text\/html/i.test(s)?a=o.getData("text/html"):/text\/plain/i.test(s)&&(a=o.getData("text/plain")),ee(a),e.stopPropagation(),e.preventDefault(),!1}var c=n.rangy.saveSelection(),u=angular.element('<div class="ta-hidden-input" contenteditable="true"></div>');i.find("body").append(u),u[0].focus(),t(function(){n.rangy.restoreSelection(c),ee(u[0].innerHTML),w[0].focus(),u.remove()},0)}),w.on("cut",l.events.cut=function(e){O?e.preventDefault():t(function(){D.$setViewValue(X())},0)}),w.on("keydown",l.events.keydown=function(e,t){t&&angular.extend(e,t),e.specialKey=N(e);var n;if(m.keyMappings.forEach(function(t){e.specialKey===t.commandKeyCode&&(e.specialKey=void 0),t.testForKey(e)&&(n=t.commandKeyCode),("UndoKey"===t.commandKeyCode||"RedoKey"===t.commandKeyCode)&&(t.enablePropagation||e.preventDefault())}),"undefined"!=typeof n&&(e.specialKey=n),"undefined"==typeof e.specialKey||"UndoKey"===e.specialKey&&"RedoKey"===e.specialKey||(e.preventDefault(),C.sendKeyCommand(l,e)),!O&&("UndoKey"===e.specialKey&&(K(),e.preventDefault()),"RedoKey"===e.specialKey&&(Y(),e.preventDefault()),13===e.keyCode&&!e.shiftKey)){var i,r=u.getSelectionElement();if(!r.tagName.match(c))return;var a=angular.element(E);if(/^<br(|\/)>$/i.test(r.innerHTML.trim())&&"blockquote"===r.parentNode.tagName.toLowerCase()&&!r.nextSibling){i=angular.element(r);var o=i.parent();o.after(a),i.remove(),0===o.children().length&&o.remove(),u.setSelectionToElementStart(a[0]),e.preventDefault()}else/^<[^>]+><br(|\/)><\/[^>]+>$/i.test(r.innerHTML.trim())&&"blockquote"===r.tagName.toLowerCase()&&(i=angular.element(r),i.after(a),i.remove(),u.setSelectionToElementStart(a[0]),e.preventDefault())}});var te;if(w.on("keyup",l.events.keyup=function(e,n){if(n&&angular.extend(e,n),9===e.keyCode){var i=u.getSelection();return void(i.start.element===w[0]&&w.children().length&&u.setSelectionToElementStart(w.children()[0]))}if(W&&t.cancel(W),!O&&!I.test(e.keyCode)){if(""!==E&&13===e.keyCode&&!e.shiftKey){for(var r=u.getSelectionElement();!r.tagName.match(c)&&r!==w[0];)r=r.parentNode;if(r.tagName.toLowerCase()!==x.taDefaultWrap&&"li"!==r.tagName.toLowerCase()&&(""===r.innerHTML.trim()||"<br>"===r.innerHTML.trim())){var a=angular.element(E);angular.element(r).replaceWith(a),u.setSelectionToElementStart(a[0])}}var o=X();""!==E&&""===o.trim()?(ue(E),u.setSelectionToElementStart(w.children()[0])):"<"!==o.substring(0,1)&&""!==x.taDefaultWrap;var s=$!==e.keyCode&&B.test(e.keyCode);te&&t.cancel(te),te=t(function(){Q(o,s,!0)},_.$options.debounce||400),s||(W=t(function(){D.$undoManager.push(o)},250)),$=e.keyCode}}),w.on("blur",l.events.blur=function(){A=!1,O?(P=!0,D.$render()):Q(void 0,void 0,!0)}),x.placeholder&&(r.ie>8||void 0===r.ie)){var ne;if(!x.id)throw"textAngular Error: An unique ID is required for placeholders to work";ne=d("#"+x.id+".placeholder-text:before",'content: "'+x.placeholder+'"'),l.$on("$destroy",function(){p(ne)})}w.on("focus",l.events.focus=function(){A=!0,w.removeClass("placeholder-text"),ce()}),w.on("mouseup",l.events.mouseup=function(){var e=u.getSelection();e.start.element===w[0]&&w.children().length&&u.setSelectionToElementStart(w.children()[0])}),w.on("mousedown",l.events.mousedown=function(e,t){t&&angular.extend(e,t),e.stopPropagation()})}else{w.on("change blur",l.events.change=l.events.blur=function(){O||D.$setViewValue(X())}),w.on("keydown",l.events.keydown=function(e,t){if(t&&angular.extend(e,t),9===e.keyCode){var n=this.selectionStart,i=this.selectionEnd,r=w.val();if(e.shiftKey){var a=r.lastIndexOf("\n",n),o=r.lastIndexOf("	",n);-1!==o&&o>=a&&(w.val(r.substring(0,o)+r.substring(o+1)),this.selectionStart=this.selectionEnd=n-1)}else w.val(r.substring(0,n)+"	"+r.substring(i)),this.selectionStart=this.selectionEnd=n+1;e.preventDefault()}});var ie=function(e,t){for(var n="",i=0;t>i;i++)n+=e;return n},re=function(e,t,n){for(var i=0;i<e.length;i++)t.call(n,i,e[i])},ae=function(e,t){var n="",i=e.childNodes;return t++,n+=ie("	",t-1)+e.outerHTML.substring(0,4),re(i,function(e,i){var r=i.nodeName.toLowerCase();return"#comment"===r?void(n+="<!--"+i.nodeValue+"-->"):"#text"===r?void(n+=i.textContent):void(i.outerHTML&&(n+="ul"===r||"ol"===r?"\n"+ae(i,t):"\n"+ie("	",t)+i.outerHTML))}),n+="\n"+ie("	",t-1)+e.outerHTML.substring(e.outerHTML.lastIndexOf("<"))};D.$formatters.unshift(function(e){var t=angular.element("<div>"+e+"</div>")[0].childNodes;return t.length>0&&(e="",re(t,function(t,n){var i=n.nodeName.toLowerCase();return"#comment"===i?void(e+="<!--"+n.nodeValue+"-->"):"#text"===i?void(e+=n.textContent):void(n.outerHTML&&(e.length>0&&(e+="\n"),e+="ul"===i||"ol"===i?""+ae(n,0):""+n.outerHTML))})),e})}var oe,se=function(e){return l.$emit("ta-element-select",this),e.preventDefault(),!1},le=function(e,n){if(n&&angular.extend(e,n),!b&&!O){b=!0;var i;i=e.originalEvent?e.originalEvent.dataTransfer:e.dataTransfer,l.$emit("ta-drop-event",this,e,i),t(function(){b=!1,Q(void 0,void 0,!0)},100)}},ce=l["reApplyOnSelectorHandlers"+(x.id||"")]=function(){O||angular.forEach(h,function(e){w.find(e).off("click",se).on("click",se)})},ue=function(e){w[0].innerHTML=e},de=!1;D.$render=function(){if(!de){de=!0;var e=D.$viewValue||"";P||(M&&A&&(w.removeClass("placeholder-text"),oe&&t.cancel(oe),oe=t(function(){A||(w[0].focus(),u.setSelectionToElementEnd(w.children()[w.children().length-1])),oe=void 0},1)),M?(ue(x.placeholder?""===e?E:e:""===e?E:e),O?w.off("drop",le):(ce(),w.on("drop",le))):"textarea"!==w[0].tagName.toLowerCase()&&"input"!==w[0].tagName.toLowerCase()?ue(f(e)):w.val(e)),M&&x.placeholder&&(""===e?A?w.removeClass("placeholder-text"):w.addClass("placeholder-text"):w.removeClass("placeholder-text")),de=P=!1}},x.taReadonly&&(O=l.$eval(x.taReadonly),O?(w.addClass("ta-readonly"),("textarea"===w[0].tagName.toLowerCase()||"input"===w[0].tagName.toLowerCase())&&w.attr("disabled","disabled"),void 0!==w.attr("contenteditable")&&w.attr("contenteditable")&&w.removeAttr("contenteditable")):(w.removeClass("ta-readonly"),"textarea"===w[0].tagName.toLowerCase()||"input"===w[0].tagName.toLowerCase()?w.removeAttr("disabled"):M&&w.attr("contenteditable","true")),l.$watch(x.taReadonly,function(e,t){t!==e&&(e?(w.addClass("ta-readonly"),("textarea"===w[0].tagName.toLowerCase()||"input"===w[0].tagName.toLowerCase())&&w.attr("disabled","disabled"),void 0!==w.attr("contenteditable")&&w.attr("contenteditable")&&w.removeAttr("contenteditable"),angular.forEach(h,function(e){
w.find(e).on("click",se)}),w.off("drop",le)):(w.removeClass("ta-readonly"),"textarea"===w[0].tagName.toLowerCase()||"input"===w[0].tagName.toLowerCase()?w.removeAttr("disabled"):M&&w.attr("contenteditable","true"),angular.forEach(h,function(e){w.find(e).off("click",se)}),w.on("drop",le)),O=e)})),M&&!O&&(angular.forEach(h,function(e){w.find(e).on("click",se)}),w.on("drop",le),w.on("blur",function(){r.webkit&&(a=!0)}))}}}]);var b=!1,y=angular.module("textAngular",["ngSanitize","textAngularSetup","textAngular.factories","textAngular.DOM","textAngular.validators","textAngular.taBind"]);y.config([function(){angular.forEach(l,function(e,t){delete l[t]})}]),y.run([function(){i=function(e){window.rangy=e("rangy"),window.rangy.saveSelection=e("rangy/lib/rangy-selectionsaverestore")}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}]),y.directive("textAngular",["$compile","$timeout","taOptions","taSelection","taExecCommand","textAngularManager","$window","$document","$animate","$log","$q","$parse",function(e,t,n,i,r,a,o,s,l,c,u,d){return{require:"?ngModel",scope:{},restrict:"EA",priority:2,link:function(p,h,f,m){var g,v,b,y,C,w,x,S,N,$,k,E=f.serial?f.serial:Math.floor(1e16*Math.random());p._name=f.name?f.name:"textAngularEditor"+E;var T=function(e,n,i){t(function(){var t=function(){e.off(n,t),i.apply(this,arguments)};e.on(n,t)},100)};if(N=r(f.taDefaultWrap),angular.extend(p,angular.copy(n),{wrapSelection:function(e,t,n){"undo"===e.toLowerCase()?p["$undoTaBindtaTextElement"+E]():"redo"===e.toLowerCase()?p["$redoTaBindtaTextElement"+E]():(N(e,!1,t,p.defaultTagAttributes),n&&p["reApplyOnSelectorHandlerstaTextElement"+E](),p.displayElements.text[0].focus())},showHtml:p.$eval(f.taShowHtml)||!1}),f.taFocussedClass&&(p.classes.focussed=f.taFocussedClass),f.taTextEditorClass&&(p.classes.textEditor=f.taTextEditorClass),f.taHtmlEditorClass&&(p.classes.htmlEditor=f.taHtmlEditorClass),f.taDefaultTagAttributes)try{angular.extend(p.defaultTagAttributes,angular.fromJson(f.taDefaultTagAttributes))}catch(D){c.error(D)}f.taTextEditorSetup&&(p.setup.textEditorSetup=p.$parent.$eval(f.taTextEditorSetup)),f.taHtmlEditorSetup&&(p.setup.htmlEditorSetup=p.$parent.$eval(f.taHtmlEditorSetup)),f.taFileDrop?p.fileDropHandler=p.$parent.$eval(f.taFileDrop):p.fileDropHandler=p.defaultFileDropHandler,x=h[0].innerHTML,h[0].innerHTML="",p.displayElements={forminput:angular.element("<input type='hidden' tabindex='-1' style='display: none;'>"),html:angular.element("<textarea></textarea>"),text:angular.element("<div></div>"),scrollWindow:angular.element("<div class='ta-scroll-window'></div>"),popover:angular.element('<div class="popover fade bottom" style="max-width: none; width: 305px;"></div>'),popoverArrow:angular.element('<div class="arrow"></div>'),popoverContainer:angular.element('<div class="popover-content"></div>'),resize:{overlay:angular.element('<div class="ta-resizer-handle-overlay"></div>'),background:angular.element('<div class="ta-resizer-handle-background"></div>'),anchors:[angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tr"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-bl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-br"></div>')],info:angular.element('<div class="ta-resizer-handle-info"></div>')}},p.displayElements.popover.append(p.displayElements.popoverArrow),p.displayElements.popover.append(p.displayElements.popoverContainer),p.displayElements.scrollWindow.append(p.displayElements.popover),p.displayElements.popover.on("mousedown",function(e,t){return t&&angular.extend(e,t),e.preventDefault(),!1}),p.showPopover=function(e){p.displayElements.popover.css("display","block"),p.reflowPopover(e),l.addClass(p.displayElements.popover,"in"),T(s.find("body"),"click keyup",function(){p.hidePopover()})},p.reflowPopover=function(e){p.displayElements.text[0].offsetHeight-51>e[0].offsetTop?(p.displayElements.popover.css("top",e[0].offsetTop+e[0].offsetHeight+p.displayElements.scrollWindow[0].scrollTop+"px"),p.displayElements.popover.removeClass("top").addClass("bottom")):(p.displayElements.popover.css("top",e[0].offsetTop-54+p.displayElements.scrollWindow[0].scrollTop+"px"),p.displayElements.popover.removeClass("bottom").addClass("top"));var t=p.displayElements.text[0].offsetWidth-p.displayElements.popover[0].offsetWidth,n=e[0].offsetLeft+e[0].offsetWidth/2-p.displayElements.popover[0].offsetWidth/2;p.displayElements.popover.css("left",Math.max(0,Math.min(t,n))+"px"),p.displayElements.popoverArrow.css("margin-left",Math.min(n,Math.max(0,n-t))-11+"px")},p.hidePopover=function(){p.displayElements.popover.css("display",""),p.displayElements.popoverContainer.attr("style",""),p.displayElements.popoverContainer.attr("class","popover-content"),p.displayElements.popover.removeClass("in")},p.displayElements.resize.overlay.append(p.displayElements.resize.background),angular.forEach(p.displayElements.resize.anchors,function(e){p.displayElements.resize.overlay.append(e)}),p.displayElements.resize.overlay.append(p.displayElements.resize.info),p.displayElements.scrollWindow.append(p.displayElements.resize.overlay),p.reflowResizeOverlay=function(e){e=angular.element(e)[0],p.displayElements.resize.overlay.css({display:"block",left:e.offsetLeft-5+"px",top:e.offsetTop-5+"px",width:e.offsetWidth+10+"px",height:e.offsetHeight+10+"px"}),p.displayElements.resize.info.text(e.offsetWidth+" x "+e.offsetHeight)},p.showResizeOverlay=function(e){var t=s.find("body");$=function(n){var i={width:parseInt(e.attr("width")),height:parseInt(e.attr("height")),x:n.clientX,y:n.clientY};(void 0===i.width||isNaN(i.width))&&(i.width=e[0].offsetWidth),(void 0===i.height||isNaN(i.height))&&(i.height=e[0].offsetHeight),p.hidePopover();var r=i.height/i.width,a=function(t){function n(e){return Math.round(Math.max(0,e))}var a={x:Math.max(0,i.width+(t.clientX-i.x)),y:Math.max(0,i.height+(t.clientY-i.y))},o=void 0!==f.taResizeForceAspectRatio,s=f.taResizeMaintainAspectRatio,l=o||s&&!t.shiftKey;if(l){var c=a.y/a.x;a.x=r>c?a.x:a.y/r,a.y=r>c?a.x*r:a.y}var u=angular.element(e);u.css("height",n(a.y)+"px"),u.css("width",n(a.x)+"px"),p.reflowResizeOverlay(e)};t.on("mousemove",a),T(t,"mouseup",function(n){n.preventDefault(),n.stopPropagation(),t.off("mousemove",a),p.showPopover(e)}),n.stopPropagation(),n.preventDefault()},p.displayElements.resize.anchors[3].off("mousedown"),p.displayElements.resize.anchors[3].on("mousedown",$),p.reflowResizeOverlay(e),T(t,"click",function(){p.hideResizeOverlay()})},p.hideResizeOverlay=function(){p.displayElements.resize.anchors[3].off("mousedown",$),p.displayElements.resize.overlay.css("display","")},p.setup.htmlEditorSetup(p.displayElements.html),p.setup.textEditorSetup(p.displayElements.text),p.displayElements.html.attr({id:"taHtmlElement"+E,"ng-show":"showHtml","ta-bind":"ta-bind","ng-model":"html","ng-model-options":h.attr("ng-model-options")}),p.displayElements.text.attr({id:"taTextElement"+E,contentEditable:"true","ta-bind":"ta-bind","ng-model":"html","ng-model-options":h.attr("ng-model-options")}),p.displayElements.scrollWindow.attr({"ng-hide":"showHtml"}),f.taDefaultWrap&&p.displayElements.text.attr("ta-default-wrap",f.taDefaultWrap),f.taUnsafeSanitizer&&(p.displayElements.text.attr("ta-unsafe-sanitizer",f.taUnsafeSanitizer),p.displayElements.html.attr("ta-unsafe-sanitizer",f.taUnsafeSanitizer)),p.displayElements.scrollWindow.append(p.displayElements.text),h.append(p.displayElements.scrollWindow),h.append(p.displayElements.html),p.displayElements.forminput.attr("name",p._name),h.append(p.displayElements.forminput),f.tabindex&&(h.removeAttr("tabindex"),p.displayElements.text.attr("tabindex",f.tabindex),p.displayElements.html.attr("tabindex",f.tabindex)),f.placeholder&&(p.displayElements.text.attr("placeholder",f.placeholder),p.displayElements.html.attr("placeholder",f.placeholder)),f.taDisabled&&(p.displayElements.text.attr("ta-readonly","disabled"),p.displayElements.html.attr("ta-readonly","disabled"),p.disabled=p.$parent.$eval(f.taDisabled),p.$parent.$watch(f.taDisabled,function(e){p.disabled=e,p.disabled?h.addClass(p.classes.disabled):h.removeClass(p.classes.disabled)})),f.taPaste&&(p._pasteHandler=function(e){return d(f.taPaste)(p.$parent,{$html:e})},p.displayElements.text.attr("ta-paste","_pasteHandler($html)")),e(p.displayElements.scrollWindow)(p),e(p.displayElements.html)(p),p.updateTaBindtaTextElement=p["updateTaBindtaTextElement"+E],p.updateTaBindtaHtmlElement=p["updateTaBindtaHtmlElement"+E],h.addClass("ta-root"),p.displayElements.scrollWindow.addClass("ta-text ta-editor "+p.classes.textEditor),p.displayElements.html.addClass("ta-html ta-editor "+p.classes.htmlEditor),p._actionRunning=!1;var _=!1;if(p.startAction=function(){return p._actionRunning=!0,_=o.rangy.saveSelection(),function(){_&&o.rangy.restoreSelection(_)}},p.endAction=function(){p._actionRunning=!1,_&&(p.showHtml?p.displayElements.html[0].focus():p.displayElements.text[0].focus(),o.rangy.removeMarkers(_)),_=!1,p.updateSelectedStyles(),p.showHtml||p["updateTaBindtaTextElement"+E]()},C=function(){p.focussed=!0,h.addClass(p.classes.focussed),S.focus(),h.triggerHandler("focus")},p.displayElements.html.on("focus",C),p.displayElements.text.on("focus",C),w=function(e){return p._actionRunning||s[0].activeElement===p.displayElements.html[0]||s[0].activeElement===p.displayElements.text[0]||(h.removeClass(p.classes.focussed),S.unfocus(),t(function(){p._bUpdateSelectedStyles=!1,h.triggerHandler("blur"),p.focussed=!1},0)),e.preventDefault(),!1},p.displayElements.html.on("blur",w),p.displayElements.text.on("blur",w),p.displayElements.text.on("paste",function(e){h.triggerHandler("paste",e)}),p.queryFormatBlockState=function(e){return!p.showHtml&&e.toLowerCase()===s[0].queryCommandValue("formatBlock").toLowerCase()},p.queryCommandState=function(e){return p.showHtml?"":s[0].queryCommandState(e)},p.switchView=function(){p.showHtml=!p.showHtml,l.enabled(!1,p.displayElements.html),l.enabled(!1,p.displayElements.text),p.showHtml?t(function(){return l.enabled(!0,p.displayElements.html),l.enabled(!0,p.displayElements.text),p.displayElements.html[0].focus()},100):t(function(){return l.enabled(!0,p.displayElements.html),l.enabled(!0,p.displayElements.text),p.displayElements.text[0].focus()},100)},f.ngModel){var M=!0;m.$render=function(){if(M){M=!1;var e=p.$parent.$eval(f.ngModel);void 0!==e&&null!==e||!x||""===x||m.$setViewValue(x)}p.displayElements.forminput.val(m.$viewValue),p.html=m.$viewValue||""},h.attr("required")&&(m.$validators.required=function(e,t){var n=e||t;return!(!n||""===n.trim())})}else p.displayElements.forminput.val(x),p.html=x;if(p.$watch("html",function(e,t){e!==t&&(f.ngModel&&m.$viewValue!==e&&m.$setViewValue(e),p.displayElements.forminput.val(e))}),f.taTargetToolbars)S=a.registerEditor(p._name,p,f.taTargetToolbars.split(","));else{var R=angular.element('<div text-angular-toolbar name="textAngularToolbar'+E+'">');f.taToolbar&&R.attr("ta-toolbar",f.taToolbar),f.taToolbarClass&&R.attr("ta-toolbar-class",f.taToolbarClass),f.taToolbarGroupClass&&R.attr("ta-toolbar-group-class",f.taToolbarGroupClass),f.taToolbarButtonClass&&R.attr("ta-toolbar-button-class",f.taToolbarButtonClass),f.taToolbarActiveButtonClass&&R.attr("ta-toolbar-active-button-class",f.taToolbarActiveButtonClass),f.taFocussedClass&&R.attr("ta-focussed-class",f.taFocussedClass),h.prepend(R),e(R)(p.$parent),S=a.registerEditor(p._name,p,["textAngularToolbar"+E])}p.$on("$destroy",function(){a.unregisterEditor(p._name),angular.element(window).off("blur")}),p.$on("ta-element-select",function(e,t){S.triggerElementSelect(e,t)&&p["reApplyOnSelectorHandlerstaTextElement"+E]()}),p.$on("ta-drop-event",function(e,n,i,r){p.displayElements.text[0].focus(),r&&r.files&&r.files.length>0?(angular.forEach(r.files,function(e){try{u.when(p.fileDropHandler(e,p.wrapSelection)||p.fileDropHandler!==p.defaultFileDropHandler&&u.when(p.defaultFileDropHandler(e,p.wrapSelection))).then(function(){p["updateTaBindtaTextElement"+E]()})}catch(t){c.error(t)}}),i.preventDefault(),i.stopPropagation()):t(function(){p["updateTaBindtaTextElement"+E]()},0)}),p._bUpdateSelectedStyles=!1,angular.element(window).on("blur",function(){p._bUpdateSelectedStyles=!1,p.focussed=!1}),p.updateSelectedStyles=function(){var e;k&&t.cancel(k),void 0!==(e=i.getSelectionElement())&&e.parentNode!==p.displayElements.text[0]?S.updateSelectedStyles(angular.element(e)):S.updateSelectedStyles(),p._bUpdateSelectedStyles&&(k=t(p.updateSelectedStyles,200))},g=function(){return p.focussed?void(p._bUpdateSelectedStyles||(p._bUpdateSelectedStyles=!0,p.$apply(function(){p.updateSelectedStyles()}))):void(p._bUpdateSelectedStyles=!1)},p.displayElements.html.on("keydown",g),p.displayElements.text.on("keydown",g),v=function(){p._bUpdateSelectedStyles=!1},p.displayElements.html.on("keyup",v),p.displayElements.text.on("keyup",v),b=function(e,t){t&&angular.extend(e,t),p.$apply(function(){return S.sendKeyCommand(e)?(p._bUpdateSelectedStyles||p.updateSelectedStyles(),e.preventDefault(),!1):void 0})},p.displayElements.html.on("keypress",b),p.displayElements.text.on("keypress",b),y=function(){p._bUpdateSelectedStyles=!1,p.$apply(function(){p.updateSelectedStyles()})},p.displayElements.html.on("mouseup",y),p.displayElements.text.on("mouseup",y)}}}]),y.service("textAngularManager",["taToolExecuteAction","taTools","taRegisterTool",function(e,t,n){var i={},r={};return{registerEditor:function(n,a,o){if(!n||""===n)throw"textAngular Error: An editor requires a name";if(!a)throw"textAngular Error: An editor requires a scope";if(r[n])throw'textAngular Error: An Editor with name "'+n+'" already exists';var s=[];return angular.forEach(o,function(e){i[e]&&s.push(i[e])}),r[n]={scope:a,toolbars:o,_registerToolbar:function(e){this.toolbars.indexOf(e.name)>=0&&s.push(e)},editorFunctions:{disable:function(){angular.forEach(s,function(e){e.disabled=!0})},enable:function(){angular.forEach(s,function(e){e.disabled=!1})},focus:function(){angular.forEach(s,function(e){e._parent=a,e.disabled=!1,e.focussed=!0,a.focussed=!0})},unfocus:function(){angular.forEach(s,function(e){e.disabled=!0,e.focussed=!1}),a.focussed=!1},updateSelectedStyles:function(e){angular.forEach(s,function(t){angular.forEach(t.tools,function(n){n.activeState&&(t._parent=a,n.active=n.activeState(e))})})},sendKeyCommand:function(n){var i=!1;return(n.ctrlKey||n.metaKey||n.specialKey)&&angular.forEach(t,function(t,r){if(t.commandKeyCode&&(t.commandKeyCode===n.which||t.commandKeyCode===n.specialKey))for(var o=0;o<s.length;o++)if(void 0!==s[o].tools[r]){e.call(s[o].tools[r],a),i=!0;break}}),i},triggerElementSelect:function(e,n){var i=function(e,t){for(var n=!0,i=0;i<t.length;i++)n=n&&e.attr(t[i]);return n},r=[],o={},l=!1;n=angular.element(n);var c=!1;if(angular.forEach(t,function(e,t){e.onElementSelect&&e.onElementSelect.element&&e.onElementSelect.element.toLowerCase()===n[0].tagName.toLowerCase()&&(!e.onElementSelect.filter||e.onElementSelect.filter(n))&&(c=c||angular.isArray(e.onElementSelect.onlyWithAttrs)&&i(n,e.onElementSelect.onlyWithAttrs),(!e.onElementSelect.onlyWithAttrs||i(n,e.onElementSelect.onlyWithAttrs))&&(o[t]=e))}),c?(angular.forEach(o,function(e,t){e.onElementSelect.onlyWithAttrs&&i(n,e.onElementSelect.onlyWithAttrs)&&r.push({name:t,tool:e})}),r.sort(function(e,t){return t.tool.onElementSelect.onlyWithAttrs.length-e.tool.onElementSelect.onlyWithAttrs.length})):angular.forEach(o,function(e,t){r.push({name:t,tool:e})}),r.length>0)for(var u=0;u<r.length;u++){for(var d=r[u].tool,p=r[u].name,h=0;h<s.length;h++)if(void 0!==s[h].tools[p]){d.onElementSelect.action.call(s[h].tools[p],e,n,a),l=!0;break}if(l)break}return l}}},r[n].editorFunctions},retrieveEditor:function(e){return r[e]},unregisterEditor:function(e){delete r[e]},registerToolbar:function(e){if(!e)throw"textAngular Error: A toolbar requires a scope";if(!e.name||""===e.name)throw"textAngular Error: A toolbar requires a name";if(i[e.name])throw'textAngular Error: A toolbar with name "'+e.name+'" already exists';i[e.name]=e,angular.forEach(r,function(t){t._registerToolbar(e)})},retrieveToolbar:function(e){return i[e]},retrieveToolbarsViaEditor:function(e){var t=[],n=this;return angular.forEach(this.retrieveEditor(e).toolbars,function(e){t.push(n.retrieveToolbar(e))}),t},unregisterToolbar:function(e){delete i[e]},updateToolsDisplay:function(e){var t=this;angular.forEach(e,function(e,n){t.updateToolDisplay(n,e)})},resetToolsDisplay:function(){var e=this;angular.forEach(t,function(t,n){e.resetToolDisplay(n)})},updateToolDisplay:function(e,t){var n=this;angular.forEach(i,function(i,r){n.updateToolbarToolDisplay(r,e,t)})},resetToolDisplay:function(e){var t=this;angular.forEach(i,function(n,i){t.resetToolbarToolDisplay(i,e)})},updateToolbarToolDisplay:function(e,t,n){if(!i[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';i[e].updateToolDisplay(t,n)},resetToolbarToolDisplay:function(e,n){if(!i[e])throw'textAngular Error: No Toolbar with name "'+e+'" exists';i[e].updateToolDisplay(n,t[n],!0)},removeTool:function(e){delete t[e],angular.forEach(i,function(t){delete t.tools[e];for(var n=0;n<t.toolbar.length;n++){for(var i,r=0;r<t.toolbar[n].length;r++){if(t.toolbar[n][r]===e){i={group:n,index:r};break}if(void 0!==i)break}void 0!==i&&(t.toolbar[i.group].slice(i.index,1),t._$element.children().eq(i.group).children().eq(i.index).remove())}})},addTool:function(e,t,r,a){n(e,t),angular.forEach(i,function(n){n.addTool(e,t,r,a)})},addToolToToolbar:function(e,t,r,a,o){n(e,t),i[r].addTool(e,t,a,o)},refreshEditor:function(e){if(!r[e])throw'textAngular Error: No Editor with name "'+e+'" exists';r[e].scope.updateTaBindtaTextElement(),r[e].scope.$$phase||r[e].scope.$digest()},sendKeyCommand:function(e,t){angular.forEach(r,function(n){return n.editorFunctions.sendKeyCommand(t)?(e._bUpdateSelectedStyles||e.updateSelectedStyles(),t.preventDefault(),!1):void 0})}}}]),y.directive("textAngularToolbar",["$compile","textAngularManager","taOptions","taTools","taToolExecuteAction","$window",function(e,t,n,i,r,a){return{scope:{name:"@"},restrict:"EA",link:function(o,s,l){if(!o.name||""===o.name)throw"textAngular Error: A toolbar requires a name";angular.extend(o,angular.copy(n)),l.taToolbar&&(o.toolbar=o.$parent.$eval(l.taToolbar)),l.taToolbarClass&&(o.classes.toolbar=l.taToolbarClass),l.taToolbarGroupClass&&(o.classes.toolbarGroup=l.taToolbarGroupClass),l.taToolbarButtonClass&&(o.classes.toolbarButton=l.taToolbarButtonClass),l.taToolbarActiveButtonClass&&(o.classes.toolbarButtonActive=l.taToolbarActiveButtonClass),l.taFocussedClass&&(o.classes.focussed=l.taFocussedClass),o.disabled=!0,o.focussed=!1,o._$element=s,s[0].innerHTML="",s.addClass("ta-toolbar "+o.classes.toolbar),o.$watch("focussed",function(){o.focussed?s.addClass(o.classes.focussed):s.removeClass(o.classes.focussed)});var c=function(t,n){var i;if(i=t&&t.display?angular.element(t.display):angular.element("<button type='button'>"),t&&t["class"]?i.addClass(t["class"]):i.addClass(o.classes.toolbarButton),i.attr("name",n.name),i.attr("ta-button","ta-button"),i.attr("ng-disabled","isDisabled()"),i.attr("tabindex","-1"),i.attr("ng-click","executeAction()"),i.attr("ng-class","displayActiveToolClass(active)"),t&&t.tooltiptext&&i.attr("title",t.tooltiptext),t&&!t.display&&!n._display&&(i[0].innerHTML="",t.buttontext&&(i[0].innerHTML=t.buttontext),t.iconclass)){var r=angular.element("<i>"),a=i[0].innerHTML;r.addClass(t.iconclass),i[0].innerHTML="",i.append(r),a&&""!==a&&i.append("&nbsp;"+a)}return n._lastToolDefinition=angular.copy(t),e(i)(n)};o.tools={},o._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1},queryCommandState:function(){return!1}};var u={$window:a,$editor:function(){return o._parent},isDisabled:function(){return"function"!=typeof this.$eval("disabled")&&this.$eval("disabled")||this.$eval("disabled()")||"html"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled},displayActiveToolClass:function(e){return e?o.classes.toolbarButtonActive:""},executeAction:r};angular.forEach(o.toolbar,function(e){var t=angular.element("<div>");t.addClass(o.classes.toolbarGroup),angular.forEach(e,function(e){o.tools[e]=angular.extend(o.$new(!0),i[e],u,{name:e}),o.tools[e].$element=c(i[e],o.tools[e]),t.append(o.tools[e].$element)}),s.append(t)}),o.updateToolDisplay=function(e,t,n){var i=o.tools[e];if(i){if(i._lastToolDefinition&&!n&&(t=angular.extend({},i._lastToolDefinition,t)),null===t.buttontext&&null===t.iconclass&&null===t.display)throw'textAngular Error: Tool Definition for updating "'+e+'" does not have a valid display/iconclass/buttontext value';null===t.buttontext&&delete t.buttontext,null===t.iconclass&&delete t.iconclass,null===t.display&&delete t.display;var r=c(t,i);i.$element.replaceWith(r),i.$element=r}},o.addTool=function(e,t,n,r){o.tools[e]=angular.extend(o.$new(!0),i[e],u,{name:e}),o.tools[e].$element=c(i[e],o.tools[e]);var a;void 0===n&&(n=o.toolbar.length-1),a=angular.element(s.children()[n]),void 0===r?(a.append(o.tools[e].$element),o.toolbar[n][o.toolbar[n].length-1]=e):(a.children().eq(r).after(o.tools[e].$element),o.toolbar[n][r]=e)},t.registerToolbar(o),o.$on("$destroy",function(){t.unregisterToolbar(o.name)})}}}])}()}({},function(){return this}())},function(e,t,n){n(9),n(13),n(15)},function(e,t,n){var i=n(10);"string"==typeof i&&(i=[[e.id,i,""]]);n(12)(i,{});i.locals&&(e.exports=i.locals)},function(e,t,n){t=e.exports=n(11)(),t.push([e.id,"/*! =======================================================\r\n                      VERSION  5.1.1\r\n========================================================= */\r\n/*! =========================================================\r\n * bootstrap-slider.js\r\n *\r\n * Maintainers:\r\n *		Kyle Kemp\r\n *			- Twitter: @seiyria\r\n *			- Github:  seiyria\r\n *		Rohit Kalkur\r\n *			- Twitter: @Rovolutionary\r\n *			- Github:  rovolution\r\n *\r\n * =========================================================\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * ========================================================= */.slider{display:inline-block;vertical-align:middle;position:relative}.slider.slider-horizontal{width:210px;height:20px}.slider.slider-horizontal .slider-track{height:10px;width:100%;margin-top:-5px;top:50%;left:0}.slider.slider-horizontal .slider-selection,.slider.slider-horizontal .slider-track-high,.slider.slider-horizontal .slider-track-low{height:100%;top:0;bottom:0}.slider.slider-horizontal .slider-handle,.slider.slider-horizontal .slider-tick{margin-left:-10px;margin-top:-5px}.slider.slider-horizontal .slider-handle.triangle,.slider.slider-horizontal .slider-tick.triangle{border-width:0 10px 10px;width:0;height:0;border-bottom-color:#0480be;margin-top:0}.slider.slider-horizontal .slider-tick-label-container{white-space:nowrap;margin-top:20px}.slider.slider-horizontal .slider-tick-label-container .slider-tick-label{padding-top:4px;display:inline-block;text-align:center}.slider.slider-vertical{height:210px;width:20px}.slider.slider-vertical .slider-track{width:10px;height:100%;margin-left:-5px;left:50%;top:0}.slider.slider-vertical .slider-selection{width:100%;left:0;top:0;bottom:0}.slider.slider-vertical .slider-track-high,.slider.slider-vertical .slider-track-low{width:100%;left:0;right:0}.slider.slider-vertical .slider-handle,.slider.slider-vertical .slider-tick{margin-left:-5px;margin-top:-10px}.slider.slider-vertical .slider-handle.triangle,.slider.slider-vertical .slider-tick.triangle{border-width:10px 0 10px 10px;width:1px;height:1px;border-left-color:#0480be;margin-left:0}.slider.slider-disabled .slider-handle{background-image:-webkit-linear-gradient(top,#dfdfdf 0,#bebebe 100%);background-image:linear-gradient(to bottom,#dfdfdf 0,#bebebe 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffdfdfdf',endColorstr='#ffbebebe',GradientType=0)}.slider.slider-disabled .slider-track{background-image:-webkit-linear-gradient(top,#e5e5e5 0,#e9e9e9 100%);background-image:linear-gradient(to bottom,#e5e5e5 0,#e9e9e9 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffe5e5e5',endColorstr='#ffe9e9e9',GradientType=0);cursor:not-allowed}.slider input{display:none}.slider .tooltip.top{margin-top:-36px}.slider .tooltip-inner{white-space:nowrap}.slider .hide{display:none}.slider-track{cursor:pointer;background-image:-webkit-linear-gradient(top,#f5f5f5 0,#f9f9f9 100%);background-image:linear-gradient(to bottom,#f5f5f5 0,#f9f9f9 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#fff5f5f5',endColorstr='#fff9f9f9',GradientType=0);box-shadow:inset 0 1px 2px rgba(0,0,0,.1)}.slider-selection,.slider-track{position:absolute;background-repeat:repeat-x;border-radius:4px}.slider-selection{background-image:-webkit-linear-gradient(top,#f9f9f9 0,#f5f5f5 100%);background-image:linear-gradient(to bottom,#f9f9f9 0,#f5f5f5 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#fff9f9f9',endColorstr='#fff5f5f5',GradientType=0);box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);box-sizing:border-box}.slider-selection.tick-slider-selection{background-image:-webkit-linear-gradient(top,#89cdef 0,#81bfde 100%);background-image:linear-gradient(to bottom,#89cdef 0,#81bfde 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff89cdef',endColorstr='#ff81bfde',GradientType=0)}.slider-track-high,.slider-track-low{position:absolute;background:transparent;box-sizing:border-box;border-radius:4px}.slider-handle{position:absolute;width:20px;height:20px;background-color:#337ab7;background-image:-webkit-linear-gradient(top,#149bdf 0,#0480be 100%);background-image:linear-gradient(to bottom,#149bdf 0,#0480be 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff149bdf',endColorstr='#ff0480be',GradientType=0);filter:none;box-shadow:inset 0 1px 0 hsla(0,0%,100%,.2),0 1px 2px rgba(0,0,0,.05);border:0 solid transparent}.slider-handle.round{border-radius:50%}.slider-handle.custom,.slider-handle.triangle{background:transparent none}.slider-handle.custom:before{line-height:20px;font-size:20px;content:'\\2605';color:#726204}.slider-tick{position:absolute;width:20px;height:20px;background-image:-webkit-linear-gradient(top,#f9f9f9 0,#f5f5f5 100%);background-image:linear-gradient(to bottom,#f9f9f9 0,#f5f5f5 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#fff9f9f9',endColorstr='#fff5f5f5',GradientType=0);box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);box-sizing:border-box;filter:none;opacity:.8;border:0 solid transparent}.slider-tick.round{border-radius:50%}.slider-tick.custom,.slider-tick.triangle{background:transparent none}.slider-tick.custom:before{line-height:20px;font-size:20px;content:'\\2605';color:#726204}.slider-tick.in-selection{background-image:-webkit-linear-gradient(top,#89cdef 0,#81bfde 100%);background-image:linear-gradient(to bottom,#89cdef 0,#81bfde 100%);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff89cdef',endColorstr='#ff81bfde',GradientType=0);opacity:1}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(i[a]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&i[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=d[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(s(i.parts[a],t))}else{for(var o=[],a=0;a<i.parts.length;a++)o.push(s(i.parts[a],t));d[i.id]={id:i.id,refs:1,parts:o}}}}function r(e){for(var t=[],n={},i=0;i<e.length;i++){var r=e[i],a=r[0],o=r[1],s=r[2],l=r[3],c={css:o,media:s,sourceMap:l};n[a]?n[a].parts.push(c):t.push(n[a]={id:a,parts:[c]})}return t}function a(){var e=document.createElement("style"),t=f();return e.type="text/css",t.appendChild(e),e}function o(){var e=document.createElement("link"),t=f();return e.rel="stylesheet",t.appendChild(e),e}function s(e,t){var n,i,r;if(t.singleton){var s=g++;n=m||(m=a()),i=l.bind(null,n,s,!1),r=l.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=o(),i=u.bind(null,n),r=function(){n.parentNode.removeChild(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(),i=c.bind(null,n),r=function(){n.parentNode.removeChild(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}function l(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=v(t,r);else{var a=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function c(e,t){var n=t.css,i=t.media;t.sourceMap;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function u(e,t){var n=t.css,i=(t.media,t.sourceMap);i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var r=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(r),a&&URL.revokeObjectURL(a)}var d={},p=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},h=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),f=p(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,g=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=h());var n=r(e);return i(n,t),function(e){for(var a=[],o=0;o<n.length;o++){var s=n[o],l=d[s.id];l.refs--,a.push(l)}if(e){var c=r(e);i(c,t)}for(var o=0;o<a.length;o++){var l=a[o];if(0===l.refs){for(var u=0;u<l.parts.length;u++)l.parts[u]();delete d[l.id]}}}};var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){var i,r,a;/*! =======================================================
	                      VERSION  5.1.1
	========================================================= */
/*! =========================================================
	 * bootstrap-slider.js
	 *
	 * Maintainers:
	 *		Kyle Kemp
	 *			- Twitter: @seiyria
	 *			- Github:  seiyria
	 *		Rohit Kalkur
	 *			- Twitter: @Rovolutionary
	 *			- Github:  rovolution
	 *
	 * =========================================================
	 *
	 * Licensed under the Apache License, Version 2.0 (the "License");
	 * you may not use this file except in compliance with the License.
	 * You may obtain a copy of the License at
	 *
	 * http://www.apache.org/licenses/LICENSE-2.0
	 *
	 * Unless required by applicable law or agreed to in writing, software
	 * distributed under the License is distributed on an "AS IS" BASIS,
	 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
	 * See the License for the specific language governing permissions and
	 * limitations under the License.
	 * ========================================================= */
!function(o,s){r=[n(14)],i=s,a="function"==typeof i?i.apply(t,r):i,!(void 0!==a&&(e.exports=a))}(this,function(e){var t;return function(e){"use strict";function t(){}function n(e){function n(t){t.prototype.option||(t.prototype.option=function(t){e.isPlainObject(t)&&(this.options=e.extend(!0,this.options,t))})}function r(t,n){e.fn[t]=function(r){if("string"==typeof r){for(var o=i.call(arguments,1),s=0,l=this.length;l>s;s++){var c=this[s],u=e.data(c,t);if(u)if(e.isFunction(u[r])&&"_"!==r.charAt(0)){var d=u[r].apply(u,o);if(void 0!==d&&d!==u)return d}else a("no such method '"+r+"' for "+t+" instance");else a("cannot call methods on "+t+" prior to initialization; attempted to call '"+r+"'")}return this}var p=this.map(function(){var i=e.data(this,t);return i?(i.option(r),i._init()):(i=new n(this,r),e.data(this,t,i)),e(this)});return!p||p.length>1?p:p[0]}}if(e){var a="undefined"==typeof console?t:function(e){console.error(e)};return e.bridget=function(e,t){n(t),r(e,t)},e.bridget}}var i=Array.prototype.slice;n(e)}(e),function(e){function n(t,n){function i(e,t){var n="data-slider-"+t.replace(/_/g,"-"),i=e.getAttribute(n);try{return JSON.parse(i)}catch(r){return i}}this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},"string"==typeof t?this.element=document.querySelector(t):t instanceof HTMLElement&&(this.element=t),n=n?n:{};for(var a=Object.keys(this.defaultOptions),o=0;o<a.length;o++){var s=a[o],l=n[s];l="undefined"!=typeof l?l:i(this.element,s),l=null!==l?l:this.defaultOptions[s],this.options||(this.options={}),this.options[s]=l}"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.tooltip_position="right";var c,u,d,p,h,f=this.element.style.width,m=!1,g=this.element.parentNode;if(this.sliderElem)m=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var v=document.createElement("div");if(v.className="slider-track",u=document.createElement("div"),u.className="slider-track-low",c=document.createElement("div"),c.className="slider-selection",d=document.createElement("div"),d.className="slider-track-high",p=document.createElement("div"),p.className="slider-handle min-slider-handle",h=document.createElement("div"),h.className="slider-handle max-slider-handle",v.appendChild(u),v.appendChild(c),v.appendChild(d),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(o=0;o<this.options.ticks.length;o++){var b=document.createElement("div");b.className="slider-tick",this.ticks.push(b),v.appendChild(b)}c.className+=" tick-slider-selection"}if(v.appendChild(p),v.appendChild(h),this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",o=0;o<this.options.ticks_labels.length;o++){var y=document.createElement("div");y.className="slider-tick-label",y.innerHTML=this.options.ticks_labels[o],this.tickLabels.push(y),this.tickLabelContainer.appendChild(y)}var C=function(e){var t=document.createElement("div");t.className="tooltip-arrow";var n=document.createElement("div");n.className="tooltip-inner",e.appendChild(t),e.appendChild(n)},w=document.createElement("div");w.className="tooltip tooltip-main",C(w);var x=document.createElement("div");x.className="tooltip tooltip-min",C(x);var S=document.createElement("div");S.className="tooltip tooltip-max",C(S),this.sliderElem.appendChild(v),this.sliderElem.appendChild(w),this.sliderElem.appendChild(x),this.sliderElem.appendChild(S),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),g.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(e&&(this.$element=e(this.element),this.$sliderElem=e(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),r[this.options.scale]&&(this.options.scale=r[this.options.scale]),m===!0&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","top","width","height"].forEach(function(e){this._removeProperty(this.trackLow,e),this._removeProperty(this.trackSelection,e),this._removeProperty(this.trackHigh,e)},this),[this.handle1,this.handle2].forEach(function(e){this._removeProperty(e,"left"),this._removeProperty(e,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(e){this._removeProperty(e,"left"),this._removeProperty(e,"top"),this._removeProperty(e,"margin-left"),this._removeProperty(e,"margin-top"),this._removeClass(e,"right"),this._removeClass(e,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=f,this.options.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this._state.value=this.options.range?[this.options.value,this.options.max]:this.options.value,this.trackLow=u||this.trackLow,this.trackSelection=c||this.trackSelection,this.trackHigh=d||this.trackHigh,"none"===this.options.selection&&(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")),this.handle1=p||this.handle1,this.handle2=h||this.handle2,m===!0)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),o=0;o<this.ticks.length;o++)this._removeClass(this.ticks[o],"round triangle hide");var N=["round","triangle","custom"],$=-1!==N.indexOf(this.options.handle);if($)for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),o=0;o<this.ticks.length;o++)this._addClass(this.ticks[o],this.options.handle);this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchCapable&&this.sliderElem.addEventListener("touchstart",this.mousedown,!1),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),"hide"===this.options.tooltip?(this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide")):"always"===this.options.tooltip?(this._showTooltip(),this._alwaysShowTooltip=!0):(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)),this.options.enabled?this.enable():this.disable()}var i={formatInvalidInputErrorMsg:function(e){return"Invalid input value '"+e+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},r={linear:{toValue:function(e){var t=e/100*(this.options.max-this.options.min);if(this.options.ticks_positions.length>0){for(var n,i,r,a=0,o=0;o<this.options.ticks_positions.length;o++)if(e<=this.options.ticks_positions[o]){n=o>0?this.options.ticks[o-1]:0,r=o>0?this.options.ticks_positions[o-1]:0,i=this.options.ticks[o],a=this.options.ticks_positions[o];break}if(o>0){var s=(e-r)/(a-r);t=n+s*(i-n)}}var l=this.options.min+Math.round(t/this.options.step)*this.options.step;return l<this.options.min?this.options.min:l>this.options.max?this.options.max:l},toPercentage:function(e){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var t,n,i,r=0,a=0;a<this.options.ticks.length;a++)if(e<=this.options.ticks[a]){t=a>0?this.options.ticks[a-1]:0,i=a>0?this.options.ticks_positions[a-1]:0,n=this.options.ticks[a],r=this.options.ticks_positions[a];break}if(a>0){var o=(e-t)/(n-t);return i+o*(r-i)}}return 100*(e-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(e){var t=0===this.options.min?0:Math.log(this.options.min),n=Math.log(this.options.max),i=Math.exp(t+(n-t)*e/100);return i=this.options.min+Math.round((i-this.options.min)/this.options.step)*this.options.step,i<this.options.min?this.options.min:i>this.options.max?this.options.max:i},toPercentage:function(e){if(this.options.max===this.options.min)return 0;var t=Math.log(this.options.max),n=0===this.options.min?0:Math.log(this.options.min),i=0===e?0:Math.log(e);return 100*(i-n)/(t-n)}}};if(t=function(e,t){return n.call(this,e,t),this},t.prototype={_init:function(){},constructor:t,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,enabled:!0,formatter:function(e){return Array.isArray(e)?e[0]+" : "+e[1]:e},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,scale:"linear",focus:!1,tooltip_position:null},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(e,t,n){e||(e=0);var i=this.getValue();this._state.value=this._validateInputValue(e);var r=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=r(this._state.value[0]),this._state.value[1]=r(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=r(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),this._state.value[1]="after"===this.options.selection?this.options.max:this.options.min),this._state.percentage=this.options.max>this.options.min?[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:[0,0,100],this._layout();var a=this.options.range?this._state.value:this._state.value[0];return t===!0&&this._trigger("slide",a),i!==a&&n===!0&&this._trigger("change",{oldValue:i,newValue:a}),this._setDataVal(a),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),e&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(e,t){return this._bindNonQueryEventHandler(e,t),this},off:function(t,n){e?(this.$element.off(t,n),this.$sliderElem.off(t,n)):this._unbindNonQueryEventHandler(t,n)},getAttribute:function(e){return e?this.options[e]:this.options},setAttribute:function(e,t){return this.options[e]=t,this},refresh:function(){return this._removeSliderEventHandlers(),n.call(this,this.element,this.options),e&&e.data(this.element,"slider",this),this},relayout:function(){return this._layout(),this},_removeSliderEventHandlers:function(){this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.handle2.removeEventListener("focus",this.handle2Keydown,!1),this.handle2.removeEventListener("blur",this.handle2Keydown,!1),this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.mousedown,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1)},_bindNonQueryEventHandler:function(e,t){void 0===this.eventToCallbackMap[e]&&(this.eventToCallbackMap[e]=[]),this.eventToCallbackMap[e].push(t)},_unbindNonQueryEventHandler:function(e,t){var n=this.eventToCallbackMap[e];if(void 0!==n)for(var i=0;i<n.length;i++)if(n[i]===t){n.splice(i,1);break}},_cleanUpEventCallbacksMap:function(){for(var e=Object.keys(this.eventToCallbackMap),t=0;t<e.length;t++){var n=e[t];this.eventToCallbackMap[n]=null}},_showTooltip:function(){this.options.tooltip_split===!1?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){this._state.inDrag===!1&&this.alwaysShowTooltip!==!0&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_layout:function(){var e;if(e=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=e[0]+"%",this.handle2.style[this.stylePos]=e[1]+"%",Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var t=Math.max.apply(Math,this.options.ticks),n=Math.min.apply(Math,this.options.ticks),i="vertical"===this.options.orientation?"height":"width",r="vertical"===this.options.orientation?"marginTop":"marginLeft",a=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var o=0;if(0===this.options.ticks_positions.length)this.tickLabelContainer.style[r]=-a/2+"px",o=this.tickLabelContainer.offsetHeight;else for(s=0;s<this.tickLabelContainer.childNodes.length;s++)this.tickLabelContainer.childNodes[s].offsetHeight>o&&(o=this.tickLabelContainer.childNodes[s].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=o+"px")}for(var s=0;s<this.options.ticks.length;s++){var l=this.options.ticks_positions[s]||100*(this.options.ticks[s]-n)/(t-n);this.ticks[s].style[this.stylePos]=l+"%",this._removeClass(this.ticks[s],"in-selection"),this.options.range?l>=e[0]&&l<=e[1]&&this._addClass(this.ticks[s],"in-selection"):"after"===this.options.selection&&l>=e[0]?this._addClass(this.ticks[s],"in-selection"):"before"===this.options.selection&&l<=e[0]&&this._addClass(this.ticks[s],"in-selection"),this.tickLabels[s]&&(this.tickLabels[s].style[i]=a+"px",void 0!==this.options.ticks_positions[s]&&(this.tickLabels[s].style.position="absolute",this.tickLabels[s].style[this.stylePos]=this.options.ticks_positions[s]+"%",this.tickLabels[s].style[r]=-a/2+"px"))}}var c;if(this.options.range){c=this.options.formatter(this._state.value),this._setText(this.tooltipInner,c),this.tooltip.style[this.stylePos]=(e[1]+e[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"),"vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");var u=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,u);var d=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,d),this.tooltip_min.style[this.stylePos]=e[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=e[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")}else c=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,c),this.tooltip.style[this.stylePos]=e[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(e[0],e[1])+"%",this.trackSelection.style.top=Math.min(e[0],e[1])+"%",this.trackSelection.style.height=Math.abs(e[0]-e[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(e[0],e[1])-Math.abs(e[0]-e[1])+"%";else{this.trackLow.style.left="0",this.trackLow.style.width=Math.min(e[0],e[1])+"%",this.trackSelection.style.left=Math.min(e[0],e[1])+"%",this.trackSelection.style.width=Math.abs(e[0]-e[1])+"%",this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(e[0],e[1])-Math.abs(e[0]-e[1])+"%";var p=this.tooltip_min.getBoundingClientRect(),h=this.tooltip_max.getBoundingClientRect();p.right>h.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_removeProperty:function(e,t){e.style.removeProperty?e.style.removeProperty(t):e.style.removeAttribute(t)},_mousedown:function(e){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var t=this._getPercentage(e);if(this.options.range){var n=Math.abs(this._state.percentage[0]-t),i=Math.abs(this._state.percentage[1]-t);this._state.dragged=i>n?0:1}else this._state.dragged=0;this._state.percentage[this._state.dragged]=t,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var r=this._calculateValue();return this._trigger("slideStart",r),this._setDataVal(r),this.setValue(r,!1,!0),this._pauseEvent(e),this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_triggerFocusOnHandle:function(e){0===e&&this.handle1.focus(),1===e&&this.handle2.focus()},_keydown:function(e,t){if(!this._state.enabled)return!1;var n;switch(t.keyCode){case 37:case 40:n=-1;break;case 39:case 38:n=1}if(n){if(this.options.natural_arrow_keys){var i="vertical"===this.options.orientation&&!this.options.reversed,r="horizontal"===this.options.orientation&&this.options.reversed;(i||r)&&(n=-n)}var a=this._state.value[e]+n*this.options.step;return this.options.range&&(a=[e?this._state.value[0]:a,e?a:this._state.value[1]]),this._trigger("slideStart",a),this._setDataVal(a),this.setValue(a,!0,!0),this._setDataVal(a),this._trigger("slideStop",a),this._layout(),this._pauseEvent(t),!1}},_pauseEvent:function(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1},_mousemove:function(e){if(!this._state.enabled)return!1;var t=this._getPercentage(e);this._adjustPercentageForRangeSliders(t),this._state.percentage[this._state.dragged]=t,this._layout();var n=this._calculateValue(!0);return this.setValue(n,!0,!0),!1},_adjustPercentageForRangeSliders:function(e){if(this.options.range){var t=this._getNumDigitsAfterDecimalPlace(e);t=t?t-1:0;var n=this._applyToFixedAndParseFloat(e,t);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],t)<n?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],t)>n&&(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0)}},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,this._state.over===!1&&this._hideTooltip();var e=this._calculateValue(!0);return this._layout(),this._setDataVal(e),this._trigger("slideStop",e),!1},_calculateValue:function(e){var t;if(this.options.range?(t=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(t[0]=this._toValue(this._state.percentage[0]),t[0]=this._applyPrecision(t[0])),100!==this._state.percentage[1]&&(t[1]=this._toValue(this._state.percentage[1]),t[1]=this._applyPrecision(t[1]))):(t=this._toValue(this._state.percentage[0]),t=parseFloat(t),t=this._applyPrecision(t)),e){for(var n=[t,1/0],i=0;i<this.options.ticks.length;i++){var r=Math.abs(this.options.ticks[i]-t);r<=n[1]&&(n=[this.options.ticks[i],r])}if(n[1]<=this.options.ticks_snap_bounds)return n[0]}return t},_applyPrecision:function(e){var t=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(e,t)},_getNumDigitsAfterDecimalPlace:function(e){var t=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},_applyToFixedAndParseFloat:function(e,t){var n=e.toFixed(t);return parseFloat(n)},_getPercentage:function(e){!this.touchCapable||"touchstart"!==e.type&&"touchmove"!==e.type||(e=e.touches[0]);var t=e[this.mousePos],n=this._state.offset[this.stylePos],i=t-n,r=i/this._state.size*100;return r=Math.round(r/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(r=100-r),Math.max(0,Math.min(100,r))},_validateInputValue:function(e){if("number"==typeof e)return e;if(Array.isArray(e))return this._validateArray(e),e;throw new Error(i.formatInvalidInputErrorMsg(e))},_validateArray:function(e){for(var t=0;t<e.length;t++){var n=e[t];if("number"!=typeof n)throw new Error(i.formatInvalidInputErrorMsg(n))}},_setDataVal:function(e){this.element.setAttribute("data-value",e),this.element.setAttribute("value",e),this.element.value=e},_trigger:function(t,n){n=n||0===n?n:void 0;var i=this.eventToCallbackMap[t];if(i&&i.length)for(var r=0;r<i.length;r++){var a=i[r];a(n)}e&&this._triggerJQueryEvent(t,n)},_triggerJQueryEvent:function(e,t){var n={type:e,value:t};this.$element.trigger(n),this.$sliderElem.trigger(n)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(e,t){"undefined"!=typeof e.innerText?e.innerText=t:"undefined"!=typeof e.textContent&&(e.textContent=t)},_removeClass:function(e,t){for(var n=t.split(" "),i=e.className,r=0;r<n.length;r++){var a=n[r],o=new RegExp("(?:\\s|^)"+a+"(?:\\s|$)");i=i.replace(o," ")}e.className=i.trim()},_addClass:function(e,t){for(var n=t.split(" "),i=e.className,r=0;r<n.length;r++){var a=n[r],o=new RegExp("(?:\\s|^)"+a+"(?:\\s|$)"),s=o.test(i);s||(i+=" "+a)}e.className=i.trim()},_offsetLeft:function(e){return e.getBoundingClientRect().left},_offsetTop:function(e){for(var t=e.offsetTop;(e=e.offsetParent)&&!isNaN(e.offsetTop);)t+=e.offsetTop;return t},_offset:function(e){return{left:this._offsetLeft(e),top:this._offsetTop(e)}},_css:function(t,n,i){if(e)e.style(t,n,i);else{var r=n.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()});t.style[r]=i}},_toValue:function(e){return this.options.scale.toValue.apply(this,[e])},_toPercentage:function(e){return this.options.scale.toPercentage.apply(this,[e])},_setTooltipPosition:function(){var e=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var t=this.options.tooltip_position||"right",n="left"===t?"right":"left";e.forEach(function(e){this._addClass(e,t),e.style[n]="100%"}.bind(this))}else e.forEach("bottom"===this.options.tooltip_position?function(e){this._addClass(e,"bottom"),e.style.top="22px"}.bind(this):function(e){this._addClass(e,"top"),e.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},e){var a=e.fn.slider?"bootstrapSlider":"slider";e.bridget(a,t)}}(e),t})},function(e,t){!function(){e.exports=this.$}()},function(e,t){angular.module("ui.bootstrap-slider",[]).directive("slider",["$parse","$timeout","$rootScope",function(e,t,n){return{restrict:"AE",replace:!0,template:'<div><input class="slider-input" type="text" style="width:100%" /></div>',require:"ngModel",scope:{max:"=",min:"=",step:"=",value:"=",ngModel:"=",ngDisabled:"=",range:"=",sliderid:"=",ticks:"=",ticksLabels:"=",ticksSnapBounds:"=",ticksPositions:"=",scale:"=",formatter:"&",onStartSlide:"&",onStopSlide:"&",onSlide:"&"},link:function(i,r,a,o,s){function l(){function s(e,t,n){h[e]=t||n}function l(e,t,n){h[e]=t||0===t?parseFloat(t):n}function d(e,t,n){h[e]=t?t+""=="true":n}function p(e){return angular.isString(e)&&0===e.indexOf("[")?angular.fromJson(e):e}var h={};s("id",i.sliderid),s("orientation",a.orientation,"horizontal"),s("selection",a.selection,"before"),s("handle",a.handle,"round"),s("tooltip",a.sliderTooltip||a.tooltip,"show"),s("tooltip_position",a.sliderTooltipPosition,"top"),s("tooltipseparator",a.tooltipseparator,":"),s("ticks",i.ticks),s("ticks_labels",i.ticksLabels),s("ticks_snap_bounds",i.ticksSnapBounds),s("ticks_positions",i.ticksPositions),s("scale",i.scale,"linear"),l("min",i.min,0),l("max",i.max,10),l("step",i.step,1);var f=h.step+"",m=f.substring(f.lastIndexOf(".")+1);if(l("precision",a.precision,m),d("tooltip_split",a.tooltipsplit,!1),d("enabled",a.enabled,!0),d("naturalarrowkeys",a.naturalarrowkeys,!1),d("reversed",a.reversed,!1),d("range",i.range,!1),h.range){if(angular.isArray(i.value))h.value=i.value;else if(angular.isString(i.value)){if(h.value=p(i.value),!angular.isArray(h.value)){var g=parseFloat(i.value);isNaN(g)&&(g=5),g<i.min?(g=i.min,h.value=[g,h.max]):g>i.max?(g=i.max,h.value=[h.min,g]):h.value=[h.min,h.max]}}else h.value=[h.min,h.max];i.ngModel=h.value}else l("value",i.value,5);i.formatter&&(h.formatter=i.$eval(i.formatter)),"$"in window&&$.fn.slider&&($.fn.slider.constructor.prototype.disable=function(){this.picker.off()},$.fn.slider.constructor.prototype.enable=function(){this.picker.on()}),r[0].__slider&&r[0].__slider.destroy();var v=new Slider(r[0].getElementsByClassName("slider-input")[0],h);r[0].__slider=v;var b=p(a.updateevent);b=angular.isString(b)?[b]:["slide"],angular.forEach(b,function(e){v.on(e,function(e){o.$setViewValue(e),t(function(){i.$apply()})})}),v.on("change",function(e){o.$setViewValue(e.newValue),t(function(){i.$apply()})});var y={slideStart:"onStartSlide",slide:"onSlide",slideStop:"onStopSlide"};angular.forEach(y,function(t,r){var o=e(a[t]);v.on(r,function(e){if(i[t]){var r=function(){o(i.$parent,{$event:e,value:e})};n.$$phase?i.$evalAsync(r):i.$apply(r)}})}),angular.isFunction(u)&&(u(),u=null),u=i.$watch("ngDisabled",function(e){e?v.disable():v.enable()}),angular.isFunction(c)&&c(),c=i.$watch("ngModel",function(e){i.range?v.setValue(e):v.setValue(parseFloat(e))},!0)}var c,u;l();var d=["min","max","step","range","scale"];angular.forEach(d,function(e){i.$watch(e,function(){l()})})}}}])},function(e,t,n){var i,r;!function(n,a){i=[],r=function(){return n.SignaturePad=a()}.apply(t,i),!(void 0!==r&&(e.exports=r))}(this,function(){/*!
	 * Signature Pad v1.4.0
	 * https://github.com/szimek/signature_pad
	 *
	 * Copyright 2015 Szymon Nowak
	 * Released under the MIT license
	 *
	 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
	 * http://corner.squareup.com/2012/07/smoother-signatures.html
	 *
	 * Implementation of interpolation using cubic Bézier curves is taken from:
	 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
	 *
	 * Algorithm for approximated length of a Bézier curve is taken from:
	 * http://www.lemoda.net/maths/bezier-length/index.html
	 *
	 */
var e=function(e){"use strict";var t=function(e,t){var n=this,i=t||{};this.velocityFilterWeight=i.velocityFilterWeight||.7,this.minWidth=i.minWidth||.5,this.maxWidth=i.maxWidth||2.5,this.dotSize=i.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=i.penColor||"black",this.backgroundColor=i.backgroundColor||"rgba(0,0,0,0)",this.onEnd=i.onEnd,this.onBegin=i.onBegin,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(n._mouseButtonDown=!0,n._strokeBegin(e))},this._handleMouseMove=function(e){n._mouseButtonDown&&n._strokeUpdate(e)},this._handleMouseUp=function(e){1===e.which&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(e))},this._handleTouchStart=function(e){var t=e.changedTouches[0];n._strokeBegin(t)},this._handleTouchMove=function(e){e.preventDefault();var t=e.changedTouches[0];n._strokeUpdate(t)},this._handleTouchEnd=function(e){var t=e.target===n._canvas;t&&n._strokeEnd(e)},this._handleMouseEvents(),this._handleTouchEvents()};t.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._reset()},t.prototype.toDataURL=function(e,t){var n=this._canvas;return n.toDataURL.apply(n,arguments)},t.prototype.fromDataURL=function(e){var t=this,n=new Image,i=window.devicePixelRatio||1,r=this._canvas.width/i,a=this._canvas.height/i;this._reset(),n.src=e,n.onload=function(){t._ctx.drawImage(n,0,0,r,a)},this._isEmpty=!1},t.prototype._strokeUpdate=function(e){var t=this._createPoint(e);this._addPoint(t)},t.prototype._strokeBegin=function(e){this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)},t.prototype._strokeDraw=function(e){var t=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,n),t.closePath(),t.fill()},t.prototype._strokeEnd=function(e){var t=this.points.length>2,n=this.points[0];!t&&n&&this._strokeDraw(n),"function"==typeof this.onEnd&&this.onEnd(e)},t.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),e.addEventListener("mouseup",this._handleMouseUp)},t.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),e.addEventListener("touchend",this._handleTouchEnd)},t.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),e.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),e.removeEventListener("touchend",this._handleTouchEnd)},t.prototype.isEmpty=function(){return this._isEmpty},t.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._isEmpty=!0,this._ctx.fillStyle=this.penColor},t.prototype._createPoint=function(e){var t=this._canvas.getBoundingClientRect();return new n(e.clientX-t.left,e.clientY-t.top)},t.prototype._addPoint=function(e){var t,n,r,a,o=this.points;o.push(e),o.length>2&&(3===o.length&&o.unshift(o[0]),a=this._calculateCurveControlPoints(o[0],o[1],o[2]),t=a.c2,a=this._calculateCurveControlPoints(o[1],o[2],o[3]),n=a.c1,r=new i(o[1],t,n,o[2]),this._addCurve(r),o.shift())},t.prototype._calculateCurveControlPoints=function(e,t,i){var r=e.x-t.x,a=e.y-t.y,o=t.x-i.x,s=t.y-i.y,l={x:(e.x+t.x)/2,y:(e.y+t.y)/2},c={x:(t.x+i.x)/2,y:(t.y+i.y)/2},u=Math.sqrt(r*r+a*a),d=Math.sqrt(o*o+s*s),p=l.x-c.x,h=l.y-c.y,f=d/(u+d),m={x:c.x+p*f,y:c.y+h*f},g=t.x-m.x,v=t.y-m.y;return{c1:new n(l.x+g,l.y+v),c2:new n(c.x+g,c.y+v)}},t.prototype._addCurve=function(e){var t,n,i=e.startPoint,r=e.endPoint;t=r.velocityFrom(i),t=this.velocityFilterWeight*t+(1-this.velocityFilterWeight)*this._lastVelocity,n=this._strokeWidth(t),this._drawCurve(e,this._lastWidth,n),this._lastVelocity=t,this._lastWidth=n},t.prototype._drawPoint=function(e,t,n){var i=this._ctx;i.moveTo(e,t),i.arc(e,t,n,0,2*Math.PI,!1),this._isEmpty=!1},t.prototype._drawCurve=function(e,t,n){var i,r,a,o,s,l,c,u,d,p,h,f=this._ctx,m=n-t;for(i=Math.floor(e.length()),f.beginPath(),a=0;i>a;a++)o=a/i,s=o*o,l=s*o,c=1-o,u=c*c,d=u*c,p=d*e.startPoint.x,p+=3*u*o*e.control1.x,p+=3*c*s*e.control2.x,p+=l*e.endPoint.x,h=d*e.startPoint.y,h+=3*u*o*e.control1.y,h+=3*c*s*e.control2.y,h+=l*e.endPoint.y,r=t+l*m,this._drawPoint(p,h,r);f.closePath(),f.fill()},t.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)};var n=function(e,t,n){this.x=e,this.y=t,this.time=n||(new Date).getTime()};n.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},n.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))};var i=function(e,t,n,i){this.startPoint=e,this.control1=t,this.control2=n,this.endPoint=i};return i.prototype.length=function(){var e,t,n,i,r,a,o,s,l=10,c=0;for(e=0;l>=e;e++)t=e/l,n=this._point(t,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),i=this._point(t,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y),e>0&&(o=n-r,s=i-a,c+=Math.sqrt(o*o+s*s)),r=n,a=i;return c},i.prototype._point=function(e,t,n,i,r){return t*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*i*(1-e)*e*e+r*e*e*e},t}(document);return e})},function(e,t,n){var i=n(1),r=n(18);t.autosave=r,t.moduleName="rl.ui.behaviors",i.module(t.moduleName,[r.moduleName])},function(e,t,n){"use strict";function i(){return{restrict:"A",require:"?ngForm",controller:t.controllerName}}var r=n(1),a=n(19);t.moduleName="rl.ui.behaviors.autosave",t.directiveName="rlAutosave",t.controllerName="AutosaveController";var o=a.services.autosave,s=a.services.parentChildBehavior,l=a.services.object,c=a.services.autosaveAction,u=function(){function e(e,t,n,i,r,a,o){this.$scope=e;var s,l=i.controller("form"),c=o.isNullOrWhitespace(t.validate)===!1,u=n(t.validate);c&&(s=function(){return u(e)});var d=n(t.save),p=function(){return d(e)},h=r.getInstance(p,l,s),f={autosave:h.autosave},m=n(t.rlAutosave)(e);a.registerChildBehavior(m,f)}return e.$inject=["$scope","$attrs","$parse","$element",o.factoryName,s.serviceName,l.serviceName,c.serviceName],e}();t.AutosaveController=u,t.autosave=i,r.module(t.moduleName,[o.moduleName,c.moduleName,l.moduleName,s.moduleName]).directive(t.directiveName,i).controller(t.controllerName,u)},function(e,t){!function(){e.exports=this.rl_utilities}()},function(e,t,n){"use strict";var i=n(1),r=n(21);t.autosaveDialogFooter=r;var a=n(23);t.busy=a;var o=n(24);t.button=o;var s=n(27);t.buttonToggle=s;var l=n(29);t.cardContainer=l;var c=n(73);t.commaList=c;var u=n(74);t.dateTime=u;var d=n(75);t.genericContainer=d;var p=n(77);t.lazyLoad=p;var h=n(78);t.longClickButton=h;var f=n(79);t.messageLog=f;var m=n(82);t.multiStepIndicator=m;var g=n(83);t.ratingBar=g;var v=n(86);t.responsiveCardGrid=v;var b=n(93);t.richTextEditor=b;var y=n(94);t.signaturePad=y;var C=n(95);t.simpleCardList=C;var w=n(98);t.spinner=w;var x=n(99);t.stringWithWatermark=x;var S=n(100);t.typeahead=S;var N=n(101);t.userRating=N,t.moduleName="rl.ui.components",i.module(t.moduleName,[r.moduleName,a.moduleName,o.moduleName,s.moduleName,l.moduleName,c.moduleName,u.moduleName,d.moduleName,p.moduleName,h.moduleName,f.moduleName,m.moduleName,g.moduleName,v.moduleName,b.moduleName,y.moduleName,C.moduleName,w.moduleName,x.moduleName,S.moduleName,N.moduleName])},function(e,t,n){"use strict";function i(){return{restrict:"E",template:n(22)}}var r=n(1);t.moduleName="rl.ui.components.autosaveDialogFooter",t.directiveName="rlAutosaveDialogFooter",r.module(t.moduleName,[]).directive(t.directiveName,i)},function(e,t){e.exports='<div class="modal-footer">\r\n	<button class="btn btn-default" type="button" ng-click="$close()">Cancel</button>\r\n	<button class="btn btn-primary" type="button" ng-click="$dismiss()">Save</button>\r\n</div>'},function(e,t,n){"use strict";function i(){return{restrict:"E",template:'<i class="fa fa-spin fa-spinner fa-{{size}}" ng-show="loading"></i>',scope:{loading:"=",size:"@"}}}var r=n(1);t.moduleName="rl.ui.components.busy",t.directiveName="rlBusy",r.module(t.moduleName,[]).directive(t.directiveName,i)},function(e,t,n){"use strict";function i(){return{restrict:"E",transclude:!0,template:n(26),scope:{busy:"=",action:"&",type:"@",ngDisabled:"=",buttonRightAligned:"=",size:"@"},controller:t.controllerName,controllerAs:"button"}}var r=n(1),a=n(25),o=n(19),s=o.services.promise;t.moduleName="rl.ui.components.button",t.directiveName="rlButton",t.controllerName="ButtonController";var l=function(){function e(e,t){var n=this;this.$scope=e,this.promiseUtility=t,this.busy=e.busy,this.sizeClass=null!=e.size?"btn-"+e.size:null,a.isUndefined(e.busy)||(e.$watch("busy",function(e){e!==n.busy&&(n.busy=e)}),e.$watch(function(){return n.busy},function(t){t!==e.busy&&(e.busy=t)}))}return e.prototype.trigger=function(){var e=this;if(!this.busy){this.busy=!0;var t=this.$scope.action();this.promiseUtility.isPromise(t)&&a.isFunction(t["finally"])&&t["finally"](function(){e.busy=!1})}},e.$inject=["$scope",s.serviceName],e}();r.module(t.moduleName,[s.moduleName]).directive(t.directiveName,i).controller(t.controllerName,l)},function(e,t){!function(){e.exports=this._}()},function(e,t){e.exports='<button type="button" class="btn btn-{{type}} {{button.sizeClass}}" ng-click="button.trigger()" ng-disabled="button.busy || ngDisabled">\r\n	<rl-busy ng-show="buttonRightAligned" loading="button.busy"></rl-busy>\r\n	<span ng-transclude></span>\r\n	<rl-busy ng-hide="buttonRightAligned" loading="button.busy"></rl-busy>\r\n</button>'},function(e,t,n){"use strict";function i(){return{restrict:"E",require:"^ngModel",transclude:!0,templateUrl:n(28),controller:t.controllerName,controllerAs:"buttonToggle",scope:{type:"@",size:"@",onToggle:"&",disabled:"=ngDisabled"},link:function(e,t,n,i){e.ngModel=i}}}var r=n(1),a=n(19),o=a.services["boolean"];t.moduleName="rl.ui.components.buttonToggle",t.directiveName="rlButtonToggle",t.controllerName="ButtonToggleController";var s=function(){function e(e,t){var n=this;this.$scope=e,this.buttonClass=null!=e.type?e.type:"default",this.buttonSize=null!=e.size?"btn-"+e.size:null,e.$watch("ngModel.$modelValue",function(i){n.isActive=t.toBool(i),null!=i&&_.isFunction(e.onToggle)&&e.onToggle({value:i})})}return e.prototype.clicked=function(){this.$scope.ngModel.$setViewValue(!this.$scope.ngModel.$viewValue)},e.$inject=["$scope",o.serviceName],e}();r.module(t.moduleName,[o.moduleName]).directive(t.directiveName,i).controller(t.controllerName,s)},function(e,t){e.exports='<button type="button" class="btn btn-{{buttonToggle.buttonClass}} {{buttonToggle.buttonSize}}" \r\n		ng-class="{ active : buttonToggle.isActive }" ng-click="buttonToggle.clicked()" ng-disabled="disabled">\r\n	<i ng-show="buttonToggle.isActive" class="fa fa-check completed"></i> <span ng-transclude></span>\r\n</button>'},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var r=n(1),a=n(19),o=a.services.object,s=a.services.array,l=a.services.parentChildBehavior,c=n(30);t.card=c;var u=n(36);t.cardSearch=u;var d=n(38);t.columnHeader=d;var p=n(40);t.dataSources=p;var h=n(51);t.filters=h;var f=n(61);t.itemCount=f;var m=n(62);t.pager=m;var g=n(64);t.pageSize=g;var v=n(66);t.selectionControl=v;var b=n(41);t.sorts=b;var y=n(68);i(n(68)),i(n(72)),t.moduleName="rl.ui.components.cardContainer",r.module(t.moduleName,[p.dataPager.moduleName,o.moduleName,s.moduleName,l.moduleName,c.moduleName,u.moduleName,d.moduleName,f.moduleName,m.moduleName,g.moduleName,v.moduleName,p.moduleName,h.moduleName,b.moduleName]).directive(y.directiveName,y.cardContainer).controller(y.controllerName,y.CardContainerController)},function(e,t,n){"use strict";function i(){return{restrict:"E",template:n(35),require:"^^rlCardContainer",controller:t.controllerName,controllerAs:"card",scope:{},bindToController:{columns:"=",item:"=",clickable:"=",source:"=",containerData:"=",cardController:"=",cardControllerAs:"=",cardAs:"=",permanentFooter:"=",selectable:"=",selectionChanged:"&"},compile:function(){var e,t;return{pre:function(n,i,r,a){n.rlCardContainer=a,a.makeCard(n,function(n){e=n.filter("rl-card-content"),t=n.filter("rl-card-footer")})},post:function(n,i){var r=i.find(".content-template");r.append(e);var a=e.length>0,o=t.length>0;if(o){var s=i.find(".footer-template");s.append(t)}n.initContents(a,o)}}}}}var r=n(1),a=n(25),o=n(19),s=o.services.parentChildBehavior,l=o.services.object,c=n(31);t.moduleName="rl.ui.components.cardContainer.card",t.directiveName="rlCard",t.controllerName="CardController";var u=function(){function e(e,t,n,i,r){var a=this;if(this.$scope=e,this.$q=n,this.parentChild=i,this.showContent=!1,this.dirty=!1,this.autosaveLink={},this.autosave=function(){return a.showContent===!1?!0:a.parentChild.triggerChildBehavior(a.autosaveLink,function(e){return e.autosave()?(a.showContent=!1,!0):!1})},this.cardAs&&(e[this.cardAs]=this.item),r.isNullOrWhitespace(this.cardController)===!1){var o=t(this.cardController,{$scope:e});r.isNullOrWhitespace(this.cardControllerAs)===!1&&(e[this.cardControllerAs]=o)}i.registerChildBehavior(this.item,{close:this.autosave}),e.initContents=function(e,t){a.hasBody=e,a.hasFooter=t}}return e.prototype.toggleContent=function(){this.showContent?this.autosave():this.open()},e.prototype.setSelected=function(e){a.isUndefined(this.item.viewData)&&(this.item.viewData={}),this.item.viewData.selected=e,this.selectionChanged()},e.prototype.validateCard=function(){var e=this.parentChild.getChildBehavior(this.item);return a.isFunction(e.validateCard)?e.validateCard():!0},e.prototype.saveCard=function(){var e=this.parentChild.getChildBehavior(this.item);return a.isFunction(e.saveCard)?e.saveCard():this.$q.when()},e.prototype.clickCard=function(){this.parentChild.triggerChildBehavior(this.item,function(e){return a.isFunction(e.clickCard)?e.clickCard():void 0})},e.prototype.open=function(){this.parentChild.triggerChildBehavior(this.item,function(e){a.isFunction(e.initCard)&&e.initCard()}),this.$scope.rlCardContainer.openCard()&&(this.showContent=!0)},e.$inject=["$scope","$controller","$q",s.serviceName,l.serviceName],e}();t.CardController=u,t.card=i,r.module(t.moduleName,[s.moduleName,l.moduleName,c.moduleName]).directive(t.directiveName,i).controller(t.controllerName,u)},function(e,t,n){"use strict";var i=n(1),r=n(19),a=n(32),o=n(33);t.moduleName="rl.ui.components.cardContainer.card.headerColumn",i.module(t.moduleName,[r.services.string.moduleName]).directive(o.sizeForBreakpointsName,o.sizeForBreakpoints).directive(a.directiveName,a.headerColumn).controller(a.controllerName,a.HeaderColumnController)},function(e,t){"use strict";function n(e){return{restrict:"E",template:'\n			<div size-for-breakpoints="column.size" title="{{::header.column.description}}">\n				<div class="template-container" style="display: inline-block"></div>\n			</div>\n		',controller:t.controllerName,controllerAs:"header",scope:{},bindToController:{column:"=",item:"="},compile:function(){return{pre:function(t,n,i,r){var a=r.column;null!=a.templateUrl?r.renderedTemplate=e("<div ng-include=\"'"+a.templateUrl+"'\"></div>")(t):null!=a.template?r.renderedTemplate=e(a.template)(t):r.renderedTemplate=e("<span>{{header.value}}</span>")(t)},post:function(e,t,n,i){var r=t.find(".template-container");r.append(i.renderedTemplate)}}}}}t.directiveName="rlCardHeaderColumn",t.controllerName="CardHeaderColumnController";var i=function(){function e(e){var t=this;this.$scope=e,this.update=function(){t.value=t.column.getValue(t.item)},this.update(),e.$on("card.refresh",this.update)}return e.$inject=["$scope"],e}();t.HeaderColumnController=i,n.$inject=["$compile"],t.headerColumn=n},function(e,t,n){"use strict";function i(e,t){function n(t,n,r){var a=e(r.sizeForBreakpoints)(t),s=[];s.push(i(a,o.xs)),s.push(i(a,o.sm)),s.push(i(a,o.md)),s.push(i(a,o.lg)),n.addClass(s.join(" "))}function i(e,n){var i=e[n];return i>0&&"hidden"!==i?t.substitute("col-{0}-{1}",n,i):"hidden-"+n}return{restrict:"A",link:n}}var r=n(19),a=r.services.string,o=n(34);t.sizeForBreakpointsName="sizeForBreakpoints",i.$inject=["$parse",a.serviceName],t.sizeForBreakpoints=i},function(e,t){"use strict";t.lg="lg",t.md="md",t.sm="sm",t.xs="xs"},function(e,t){e.exports='<rl-generic-container selector="card.selectable">\r\n	<template when-selector="false" default>\r\n		<div class="card" ng-class="{ \'selected\': card.item.viewData.selected }">\r\n			<div class="header" ng-click="card.toggleContent()" ng-class="{ \'active\': card.hasBody || !card.permanentFooter }">\r\n				<div class="row">\r\n					<div ng-repeat="column in card.columns">\r\n						<rl-card-header-column column="column" item="card.item"></rl-card-header-column>\r\n					</div>\r\n				</div>\r\n			</div>\r\n\r\n			<div ng-show="card.showContent">\r\n				<ng-form rl-autosave="card.autosaveLink" save="card.saveCard()" validate="card.validateCard()">\r\n					<div class="body" ng-class="{ \'active\': card.clickable }" ng-click="card.clickCard()">\r\n						<div class="content-template"></div>\r\n						<div class="clearfix"></div>\r\n					</div>\r\n				</ng-form>\r\n			</div>\r\n			<div ng-show="card.hasFooter && (card.showContent || card.permanentFooter)">\r\n				<div class="footer">\r\n					<div class="footer-template"></div>\r\n					<div class="clearfix"></div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</template>\r\n	<template when-selector="true">\r\n		<div class="select-group">\r\n			<div class="select-column">\r\n				<input type="checkbox" class="stand-alone-checkbox" ng-model="card.item.viewData.selected" ng-change="card.selectionChanged()"\r\n					   ng-disabled="card.item.viewData.disabledSelection" title="{{card.item.viewData.selectionTitle}}" />\r\n			</div>\r\n			<div class="select-content">\r\n\r\n				<div class="card selectable" ng-class="{ \'selected\': card.item.viewData.selected }">\r\n					<div class="header active" ng-click="card.toggleContent()">\r\n						<div class="row">\r\n							<div ng-repeat="column in card.columns">\r\n								<rl-card-header-column column="column" item="card.item"></rl-card-header-column>\r\n							</div>\r\n						</div>\r\n					</div>\r\n\r\n					<div ng-show="card.showContent">\r\n						<ng-form rl-autosave="card.autosaveLink" save="card.saveCard()" validate="card.validateCard()">\r\n							<div class="body" ng-class="{ \'active\': card.clickable }" ng-click="card.clickCard()">\r\n								<div class="content-template"></div>\r\n								<div class="clearfix"></div>\r\n							</div>\r\n						</ng-form>\r\n					</div>\r\n					<div ng-show="card.hasFooter && (card.showContent || card.permanentFooter)">\r\n						<div class="footer">\r\n							<div class="footer-template"></div>\r\n							<div class="clearfix"></div>\r\n						</div>\r\n					</div>\r\n				</div>\r\n			</div>\r\n		</div>\r\n	</template>\r\n</rl-generic-container>'},function(e,t,n){"use strict";function i(){return{restrict:"E",require:"^^rlCardContainer",template:n(37),controller:t.controllerName,controllerAs:"cardSearch",scope:{},bindToController:{delay:"=searchDelay"}}}var r=n(1),a=n(19),o=a.services.genericSearchFilter;t.moduleName="rl.ui.components.cardContainer.cardSearch",t.directiveName="rlCardSearch",t.controllerName="CardSearchController",t.defaultSearchPlaceholder="Search",t.defaultSearchDelay=1e3;var s=function(){function e(e,n,i){var r=this;if(this.searchLengthError=!1,this.hasSearchFilter=!0,this.cardContainerController=i.controller("rlCardContainer"),this.searchFilter=this.cardContainerController.lookupFilter(o.filterName),null==this.searchFilter)this.hasSearchFilter=!1;else{this.searchPlaceholder=t.defaultSearchPlaceholder;var a,s=this.cardContainerController.dataSource,l=null!=this.delay?this.delay:t.defaultSearchDelay;e.$watch(function(){return r.searchText},function(e){r.searchFilter.searchText=e,r.minSearchLength=r.searchFilter.minSearchLength,r.validateSearchLength(e,r.minSearchLength),null!=a&&n.cancel(a),a=n(s.refresh,l)})}}return e.prototype.validateSearchLength=function(e,t){this.searchLengthError=null!=e&&e.length>0&&e.length<t},e.$inject=["$scope","$timeout","$element"],e}();t.CardSearchController=s,t.cardSearch=i,r.module(t.moduleName,[]).directive(t.directiveName,i).controller(t.controllerName,s)},function(e,t){e.exports='<div class="input-group" ng-show="cardSearch.hasSearchFilter">\r\n	<input class="form-control" type="text" placeholder="{{cardSearch.searchPlaceholder}}" ng-model="cardSearch.searchText"\r\n			popover="You must enter at least {{cardSearch.minSearchLength}} characters to perform a search" popover-trigger="mouseenter" popover-enable="cardSearch.searchLengthError" />\r\n	<div class="input-group-btn">\r\n		<button type="button" class="btn btn-default" ng-disabled="cardSearch.searchText | isEmpty" ng-click="cardSearch.searchText = null">\r\n			<i class="fa fa-times"></i>\r\n		</button>\r\n	</div>\r\n</div>'},function(e,t,n){"use strict";function i(e){return{restrict:"E",require:"^^rlCardContainer",template:'\n			<div size-for-breakpoints="column.size" ng-click="sort()" title="{{::column.description}}"\n					class="column-header">\n				<div class="template-container" style="display: inline-block"></div>\n				<i ng-show="sorting === sortDirection.ascending" class="fa fa-sort-asc"></i>\n				<i ng-show="sorting === sortDirection.descending" class="fa fa-sort-desc"></i>\n			</div>\n		',scope:{column:"=",sorting:"=",sort:"&"},compile:function(){return{pre:function(t){var n=t.column;null!=n.headerTemplateUrl?t.renderedTemplate=e("<div ng-include=\"'"+n.headerTemplateUrl+"'\"></div>")(t):null!=n.headerTemplate?t.renderedTemplate=e(n.headerTemplate)(t):t.renderedTemplate="<h5>"+n.label+"</h5"},post:function(e,t){var n=t.find(".template-container");n.append(e.renderedTemplate),e.sortDirection=a.SortDirection}}}}}var r=n(1),a=n(39);t.moduleName="rl.ui.components.cardContainer.columnHeader",t.directiveName="rlColumnHeader",i.$inject=["$compile"],t.cardColumnHeader=i,r.module(t.moduleName,[]).directive(t.directiveName,i)},function(e,t){"use strict";var n=function(){function e(e){this.value=e}return e.toggle=function(t){return t===e.ascending?e.descending:t===e.descending?e.none:e.ascending},e.getFullName=function(t){return t===e.ascending?"ascending":t===e.descending?"descending":"none"},e.none=new e(0),e.ascending=new e(1),e.descending=new e(2),e}();t.SortDirection=n},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var r=n(1),a=n(19),o=n(41),s=n(45);t.dataPager=s;var l=n(46);t.dataServiceDataSource=l;var c=n(49);t.simpleDataSource=c;var u=n(48);t.dataSourceProcessor=u;var d=n(47);t.dataSourceBase=d,i(n(50)),t.moduleName="rl.ui.components.cardContainer.dataSources",r.module(t.moduleName,[a.services.object.moduleName,o.moduleName,s.moduleName,l.moduleName,c.moduleName]).service(u.processorServiceName,u.DataSourceProcessor)},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var r=n(1),a=n(42);t.mergeSort=a;var o=n(43);t.sorter=o,i(n(44)),i(n(39)),t.moduleName="rl.ui.components.cardContainer.sorts",r.module(t.moduleName,[a.moduleName,o.moduleName])},function(e,t,n){"use strict";var i=n(1),r=n(19);t.moduleName="rl.ui.components.cardContainer.sorts.mergeSort",t.serviceName="mergeSort";var a=function(){function e(){}return e.prototype.sort=function(e,t){if(e.length<2)return e;null==t&&(t=this.defaultCompare);var n,i,r;return n=e.length/2,i=this.sort(e.slice(0,n),t),r=this.sort(e.slice(n,e.length),t),this.merge(i,r,t)},e.prototype.defaultCompare=function(e,t){return t>e?r.types.CompareResult.less:e>t?r.types.CompareResult.greater:r.types.CompareResult.equal},e.prototype.merge=function(e,t,n){for(var i=[];e.length&&t.length;)n(e[0],t[0])===r.types.CompareResult.greater?i.push(t.shift()):i.push(e.shift());return e.length&&i.push.apply(i,e),t.length&&i.push.apply(i,t),i},e}();t.MergeSort=a,i.module(t.moduleName,[]).service(t.serviceName,a)},function(e,t,n){"use strict";var i=n(1),r=n(25),a=n(19),o=n(39),s=n(42);t.moduleName="rl.ui.components.cardContainer.sorts.sorter",t.serviceName="sorter";var l=function(){function e(e){this.mergeSort=e}return e.prototype.sort=function(e,t){var n=this;if(null===t)return e;if(r.isArray(t)){var i=r.clone(t);return i.reverse(),r.reduce(i,function(e,t){return n.singleSort(e,t)},e)}return this.singleSort(e,t)},e.prototype.singleSort=function(e,t){var n=this.buildSortFunction(t);return this.mergeSort.sort(e,n)},e.prototype.buildSortFunction=function(e){return function(t,n){if(e.direction===o.SortDirection.none)return a.types.CompareResult.equal;var i=e.column.getValue(t),r=e.column.getValue(n),s=a.types.CompareResult.greater,l=a.types.CompareResult.less,c=e.direction===o.SortDirection.descending,u=e.column.flipSort;return!c&&!u||c&&u||(s=a.types.CompareResult.less,l=a.types.CompareResult.greater),i>r?s:r>i?l:a.types.CompareResult.equal}},e.$inject=[s.serviceName],e}();t.Sorter=l,i.module(t.moduleName,[]).service(t.serviceName,l)},function(e,t){"use strict"},function(e,t,n){"use strict";function i(){return{getInstance:function(){return new o}}}var r=n(1),a=n(25);t.moduleName="rl.ui.components.cardContainer.dataSources.dataPager",t.factoryName="dataPager",t.defaultPageSize=10;var o=function(){function e(){this.pageNumber=1,this.pageSize=t.defaultPageSize}return e.prototype.filter=function(e){var t=this.pageSize,n=(this.pageNumber-1)*t;return a(e).drop(n).take(t).value()},e}();t.DataPager=o,t.dataPagerFactory=i,r.module(t.moduleName,[]).factory(t.factoryName,i)},function(e,t,n){"use strict";function i(e,t,n,i){return{getInstance:function(r){return new p(r,i,e,t,n)}}}var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=n(1),o=n(25),s=n(19),l=s.services.observable,c=s.services.array,u=n(47),d=n(48);t.moduleName="rl.ui.components.cardContainer.dataSources.dataServiceDataSource",t.factoryName="dataServiceDataSource";var p=function(e){function t(t,n,i,r,a){e.call(this,i,r,a),this.getDataSet=t,this.$q=n,this.countFilterGroups=!0,o.isFunction(this.getDataSet)&&this.reload()}return r(t,e),t.prototype.reload=function(){var e=this;this.dataSet=null,this.rawDataSet=null,this.loadingDataSet=!0,this.$q.when(this.getDataSet()).then(function(t){e.loadingDataSet=!1,e.rawDataSet=t,e.refresh(),e.observable.fire("reloaded"),e.observable.fire("changed")})},t}(u.DataSourceBase);t.DataServiceDataSource=p,i.$inject=[l.factoryName,d.processorServiceName,c.serviceName,"$q"],t.dataServiceDataSourceFactory=i,a.module(t.moduleName,[l.moduleName,c.moduleName]).factory(t.factoryName,i)},function(e,t){"use strict";var n=function(){function e(e,t,n){var i=this;this.dataSourceProcessor=t,this.array=n,this.sorts=[],this.filters={},this.count=0,this.countFilterGroups=!1,this.loadingDataSet=!1,this.refresh=function(){i.loadingDataSet||(i.processData(),i.observable.fire("redrawing"))},this.observable=e.getInstance()}return e.prototype.watch=function(e,t){return this.observable.register(e,t)},e.prototype.processData=function(){var e;e=this.countFilterGroups?this.dataSourceProcessor.processAndCount(this.sorts,this.filters,this.pager,this.rawDataSet):this.dataSourceProcessor.process(this.sorts,this.filters,this.pager,this.rawDataSet),this.count=e.count,this.dataSet=e.dataSet,this.filteredDataSet=e.filteredDataSet},e.prototype.remove=function(e){var t=this.array.remove(this.rawDataSet,e);null!=t&&(this.observable.fire("removed"),this.observable.fire("changed"),this.pager&&this.refresh())},e.prototype.push=function(e){this.rawDataSet.push(e),this.observable.fire("added"),this.observable.fire("changed"),this.refresh()},e.prototype.replace=function(e,t){var n=this.rawDataSet.indexOf(e);n>=0&&(this.array.replace(this.rawDataSet,e,t),this.observable.fire("replaced"),this.observable.fire("changed"),this.refresh())},e}();t.DataSourceBase=n},function(e,t,n){"use strict";var i=n(25),r=n(19),a=r.services.object,o=n(43);t.processorServiceName="dataSourceProcessor";var s=function(){function e(e,t){this.object=e,this.sorter=t}return e.prototype.process=function(e,t,n,r){var a=r;this.object.isNullOrEmpty(e)===!1&&(a=this.sorter.sort(a,e)),this.object.isNullOrEmpty(t)===!1&&(a=i.reduce(t,function(e,t){return i.filter(e,t.filter,t)},a));var o={count:null!=a?a.length:0,filteredDataSet:a,dataSet:a};return null!=n&&(o.dataSet=n.filter(a)),o},e.prototype.processAndCount=function(e,t,n,r){var a=this;if(this.object.isNullOrEmpty(t)||i.any(t,function(e){return i.isFunction(e.updateOptionCounts)})===!1)return this.process(e,t,n,r);var o=r;this.object.isNullOrEmpty(e)===!1&&(o=this.sorter.sort(o,e));var s=this.wrapData(o);i.each(t,function(e){i.each(s,function(t){t.filterData[e.type]=e.filter(t.data)})}),i.each(t,function(e){if(i.isFunction(e.updateOptionCounts)){var t=i.filter(s,function(t){var n=i.omit(t.filterData,e.type);return i.all(i.values(n))});e.updateOptionCounts(a.unwrapData(t))}}),s=i.filter(s,function(e){return i.all(i.values(e.filterData))}),o=this.unwrapData(s);var l={count:o.length,filteredDataSet:o,dataSet:o};return null!=n&&(l.dataSet=n.filter(o)),l},e.prototype.wrapData=function(e){return i.map(e,function(e){return{data:e,filterData:{}}})},e.prototype.unwrapData=function(e){return i.map(e,function(e){return e.data})},e.$inject=[a.serviceName,o.serviceName],e}();t.DataSourceProcessor=s},function(e,t,n){"use strict";function i(e,t,n){return{getInstance:function(i){return new d(i,e,t,n)}}}var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=n(1),o=n(19),s=o.services.observable,l=o.services.array,c=n(47),u=n(48);t.moduleName="rl.ui.components.cardContainer.dataSources.simpleDataSource",t.factoryName="simpleDataSource";var d=function(e){function t(t,n,i,r){e.call(this,n,i,r),this.countFilterGroups=!1,this.rawDataSet=t,this.processData()}return r(t,e),t}(c.DataSourceBase);t.SimpleDataSource=d,i.$inject=[s.factoryName,u.processorServiceName,l.serviceName],t.simpleDataSourceFactory=i,a.module(t.moduleName,[s.moduleName,l.moduleName]).factory(t.factoryName,i)},function(e,t){"use strict"},function(e,t,n){"use strict";var i=n(1),r=n(52);t.columnSearchFilter=r;var a=n(53);t.filterGroup=a,t.moduleName="rl.ui.components.cardContainer.filters",i.module(t.moduleName,[r.moduleName,a.moduleName])},function(e,t,n){"use strict";function i(e,t){return{getInstance:function(){return new l(e,t)}}}var r=n(1),a=n(19),o=a.services.object,s=a.services.string;t.moduleName="rl.ui.components.cardContainer.filters.columnSearchFilter",t.factoryName="columnSearchFilter",t.filterName="column-search";var l=function(){function e(e,n){this.object=e,this.string=n,this.type=t.filterName}return e.prototype.filter=function(e){if(null==this.column)return!0;var t=this.object.toString(this.column.getValue(e)),n=this.searchText;return this.caseSensitive||(n=n.toLowerCase(),t=t.toLowerCase()),this.string.contains(t,n)},e}();t.ColumnSearchFilter=l,i.$inject=[o.serviceName,s.serviceName],t.columnSearchFilterFactory=i,r.module(t.moduleName,[o.moduleName,s.moduleName]).factory(t.factoryName,i)},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var r=n(1),a=n(19),o=n(54);t.filterOption=o;var s=n(56);t.modeFilterGroup=s;var l=n(58);t.rangeFilterGroup=l;var c=n(57),u=n(59);i(n(59)),i(n(57)),t.moduleName="rl.ui.components.cardContainer.filters.filterGroup",r.module(t.moduleName,[a.services.object.moduleName,o.moduleName,s.moduleName,l.moduleName]).factory(c.factoryName,c.filterGroupFactory).directive(u.directiveName,u.filterGroup).controller(u.controllerName,u.FilterGroupController);
},function(e,t,n){"use strict";function i(){return{restrict:"E",template:n(55),scope:{activate:"&",isActive:"=active",option:"="}}}var r=n(1);t.moduleName="rl.ui.components.cardContainer.filters.filterGroup.filterOption",t.directiveName="rlFilterOption",t.filterOption=i,r.module(t.moduleName,[]).directive(t.directiveName,i)},function(e,t){e.exports='<div class="row filter-option" ng-class="{ \'active\': isActive }" ng-click="activate()">\r\n	<div class="col-sm-1">\r\n		<i class=\'fa fa-arrow-right\' ng-show="isActive == true"></i>\r\n	</div>\r\n	<div class="col-sm-1" ng-if="hasIcon" ng-bind-html="option.icon"></div>\r\n	<div ng-class="{ \'col-sm-6\': hasIcon, \'col-sm-7\': !hasIcon }">\r\n		{{option.label}}\r\n	</div>\r\n	<div class="col-sm-3 text-right" ng-show="option.count != null">\r\n		({{option.count}})\r\n	</div>\r\n</div>'},function(e,t,n){"use strict";function i(e){return{getInstance:function(t){return new u(t,e)}}}var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=n(1),o=n(25),s=n(19),l=s.services.object,c=n(57);t.moduleName="rl.ui.components.cardContainer.filters.filterGroup.modeFilterGroup",t.factoryName="modeFilterGroup";var u=function(e){function t(t,n){this.getValue=t.getValue,t.options=o.map(t.options,this.buildModeOption,this),e.call(this,t,n)}return r(t,e),t.prototype.buildModeOption=function(e){var t=this,n=e;return n.filter=function(e){return n.displayAll?!0:t.getValue(e)===n.value},n},t}(c.FilterGroup);t.ModeFilterGroup=u,i.$inject=[l.serviceName],t.modeFilterGroupFactory=i,a.module(t.moduleName,[l.moduleName]).factory(t.factoryName,i)},function(e,t,n){"use strict";function i(e){return{getInstance:function(t){return new s(t,e)}}}var r=n(25),a=n(19),o=a.services.object;t.factoryName="filterGroup";var s=function(){function e(e,t){this.label=e.label,this.type=null!=e.type?e.type:e.label,this.options=e.options,this.activeOption=this.options[0],r.each(this.options,function(e){r.isUndefined(e.type)&&(e.type=e.label),e.type=t.toString(e.type).toLowerCase()})}return e.prototype.filter=function(e){return this.activeOption.filter(e)},e.prototype.setActiveOption=function(e){e>=0&&e<this.options.length&&(this.activeOption=this.options[e])},e.prototype.setOptionCounts=function(e){r.each(this.options,function(t){r.has(e,t.type)&&(t.count=e[t.type])})},e.prototype.updateOptionCounts=function(e){r.each(this.options,function(t){t.count=r.filter(e,t.filter,t).length})},e}();t.FilterGroup=s,i.$inject=[o.serviceName],t.filterGroupFactory=i},function(e,t,n){"use strict";function i(e){return{getInstance:function(t){return new u(t,e)}}}var r=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},a=n(1),o=n(25),s=n(19),l=s.services.object,c=n(57);t.moduleName="rl.ui.components.cardContainer.filters.filterGroup.rangeFilterGroup",t.factoryName="rangeFilterGroup";var u=function(e){function t(t,n){this.getValue=t.getValue,t.options=o.map(t.options,this.buildRangeOption,this),e.call(this,t,n)}return r(t,e),t.prototype.buildRangeOption=function(e){var t=this,n=e;return n.filter=function(n){var i=t.getValue(n),r=!0;return o.isUndefined(e.highExclusive)===!1?r=i<e.highExclusive:o.isUndefined(e.highInclusive)===!1&&(r=i<=e.highInclusive),o.isUndefined(e.lowExclusive)===!1?r=r&&i>e.lowExclusive:o.isUndefined(e.lowInclusive)===!1&&(r=r&&i>=e.lowInclusive),r},n},t}(c.FilterGroup);i.$inject=[l.serviceName],t.rangeFilterGroupFactory=i,a.module(t.moduleName,[l.moduleName]).factory(t.factoryName,i)},function(e,t,n){"use strict";function i(){return{restrict:"E",template:n(60),controller:t.controllerName,controllerAs:"controller",scope:{},bindToController:{icon:"=",filterGroup:"=",source:"="}}}t.directiveName="rlFilterGroup",t.controllerName="FilterGroupController";var r=function(){function e(e){this.$scope=e,this.hasIcon=null!=e.icon&&""!==e.icon,this.showChildren=!0}return e.prototype.toggleChildren=function(){this.showChildren=!this.showChildren},e.prototype.selectOption=function(e){this.$scope.filterGroup.activeOption=e,this.showChildren=!1,null!=this.$scope.source?this.$scope.source.refresh():this.$scope.$emit("dataSource.requestRefresh")},e.$inject=["$scope"],e}();t.FilterGroupController=r,t.filterGroup=i},function(e,t){e.exports='<div class="filter-group">\r\n	<div class="row filter-header" ng-click="controller.toggleChildren()">\r\n		<div class="col-sm-12">\r\n			<i class="collapse-icon fa fa-caret-down fa-2x" ng-show="controller.showChildren" title="Hide filter list"></i>\r\n			<i class="collapse-icon fa fa-caret-right fa-2x" ng-hide="controller.showChildren" title="Show filter list"></i>\r\n			<div class="filter-option">\r\n				<div style="display:inline-block" ng-show="controller.hasIcon" ng-bind-html="controller.icon"></div>\r\n				<h4 style="display: inline-block">{{controller.filterGroup.label}}: {{controller.filterGroup.activeOption.label}}</h4>\r\n			</div>\r\n		</div>\r\n	</div>\r\n	<div ng-show="controller.showChildren" ng-repeat="filterOption in controller.filterGroup.options">\r\n		<rl-filter-option option="filterOption" active="filterGroup.activeOption === filterOption" activate="controller.selectOption(filterOption)"></rl-filter-option>\r\n	</div>\r\n</div>\r\n'},function(e,t,n){"use strict";function i(){return{restrict:"E",require:"^^rlCardContainer",template:'\n<p ng-show="!source.loadingDataSet">\n	Showing <strong>{{source.dataSet.length}} of {{source.count}}</strong> total items\n</p>',scope:!0,link:function(e,t,n,i){e.source=i.dataSource}}}var r=n(1);t.moduleName="rl.ui.components.cardContainer.itemCount",t.directiveName="rlItemCount",t.itemCount=i,r.module(t.moduleName,[]).directive(t.directiveName,i)},function(e,t,n){"use strict";function i(){return{restrict:"E",require:"^^rlCardContainer",template:n(63),scope:{},bindToController:{pageCount:"=visiblePages"}}}var r=n(1),a=n(25);t.moduleName="rl.ui.components.cardContainer.pager",t.directiveName="rlPager",t.controllerName="PagerController",t.defaultVisiblePageCount=5;var o=function(){function e(e,n){var r=this;this.canGoBack=!1,this.canGoForward=!1,this.hasPageFilter=!0,this.updatePageCount=function(){var e=r.dataSource.count,t=Math.ceil(e/r.pager.pageSize);t!==r.lastPage&&(r.lastPage=t,r.currentPage=1),r.updatePaging()};var a=n.controller("rlCardContainer");this.pager=a.pager,null==i?this.hasPageFilter=!1:(this.visiblePageCount=null!=this.pageCount?this.pageCount:t.defaultVisiblePageCount,this.lastPage=1,this.dataSource=a.dataSource,e.$watch(function(){return r.dataSource.count},this.updatePageCount),e.$watch(function(){return r.pager.pageSize},this.updatePageCount),e.$watch(function(){return r.currentPage},function(e){r.updatePaging(),r.pager.pageNumber=e,r.dataSource.refresh()}))}return e.prototype.updatePaging=function(){var e=this.currentPage;this.canGoBack=e>1,this.canGoForward=e<this.lastPage;var t=this.visiblePageCount-1,n=Math.floor(t/2),i=Math.ceil(t/2),r=e-n,o=e+i;1>r?(r=1,o=Math.min(this.visiblePageCount,this.lastPage)):o>this.lastPage&&(o=this.lastPage,r=Math.max(this.lastPage-t,1)),this.pages=a.range(r,o+1)},e.prototype.first=function(){this.currentPage=1},e.prototype.previous=function(){this.currentPage>1&&this.currentPage--},e.prototype["goto"]=function(e){e>=1&&e<=this.lastPage&&(this.currentPage=e)},e.prototype.next=function(){this.currentPage<this.lastPage&&this.currentPage++},e.prototype.last=function(){this.currentPage=this.lastPage},e.$inject=["$scope","$element"],e}();t.PagerController=o,t.pager=i,r.module(t.moduleName,[]).directive(t.directiveName,i).controller(t.controllerName,o)},function(e,t){e.exports='<nav ng-if="pager.hasPageFilter">\r\n	<ul class="pagination">\r\n		<li title="Go to first page" ng-click="pager.first()"\r\n			ng-class="{ \'disabled\': !pager.canGoBack }">\r\n			<a><i class="fa fa-angle-double-left"></i></a>\r\n		</li>\r\n		<li title="Go to previous page" ng-click="pager.previous()"\r\n			ng-class="{ \'disabled\': !pager.canGoBack }">\r\n			<a><i class="fa fa-angle-left"></i></a>\r\n		</li>\r\n		<li title="Go to page {{pager.page}}" ng-click="pager.goto(page)"\r\n			ng-repeat="page in pager.pages"\r\n			ng-class="{ \'active\': pager.currentPage == page }">\r\n			<a>{{page}}</a>\r\n		</li>\r\n		<li title="Go to next page" ng-click="pager.next()"\r\n			ng-class="{ \'disabled\': !pager.canGoForward }">\r\n			<a><i class="fa fa-angle-right"></i></a>\r\n		</li>\r\n		<li title="Go to last page" ng-click="pager.last()"\r\n			ng-class="{ \'disabled\': !pager.canGoForward }">\r\n			<a><i class="fa fa-angle-double-right"></i></a>\r\n		</li>\r\n	</ul>\r\n</nav>\r\n'},function(e,t,n){"use strict";function i(){return{restrict:"E",require:"^^rlCardContainer",template:n(65),controller:t.controllerName,controllerAs:"controller"}}var r=n(1);t.moduleName="rl.ui.components.cardContainer.pageSize",t.directiveName="rlPageSize",t.controllerName="PageSizeController",t.availablePageSizes=[10,25,50,100],t.defaultPageSize=10;var a=function(){function e(e,n){var i=this;this.selectedPageSize=t.defaultPageSize,this.pageSizes=t.availablePageSizes,this.hasPageFilter=!0,this.cardContainerController=n.controller("rlCardContainer");var r=this.cardContainerController.pager;null==r?this.hasPageFilter=!1:e.$watch(function(){return i.selectedPageSize},function(e){null!=r&&(r.pageSize=e,i.cardContainerController.dataSource.refresh())})}return e.$inject=["$scope","$element"],e}();t.PageSizeController=a,t.pageSize=i,r.module(t.moduleName,[]).directive(t.directiveName,i).controller(t.controllerName,a)},function(e,t){e.exports='<div ng-show="controller.hasPageFilter">\r\n	<select class="form-control" title="Cards per page" ng-model="controller.selectedPageSize"\r\n			ng-options="pageSize for pageSize in controller.pageSizes"></select>\r\n</div>\r\n'},function(e,t,n){"use strict";function i(){return{restrict:"E",require:"^^rlCardContainer",template:n(67),controller:t.controllerName,controllerAs:"selection"}}var r=n(1),a=n(25),o=n(19),s=o.services["boolean"];t.moduleName="rl.ui.components.cardContainer.selectionControl",t.directiveName="rlSelectionControl",t.controllerName="SelectionControlController";var l=function(){function e(e,t,n){var i=this;this.$scope=e,this.cardContainerController=t.controller("rlCardContainer"),this.selectedItems=this.cardContainerController.numberSelected,this.pagingEnabled=n.toBool(this.cardContainerController.pager),this.dataSource=this.cardContainerController.dataSource,e.$watch(function(){return i.cardContainerController.numberSelected},function(e){i.selectedItems=e})}return e.prototype.selectPage=function(){a.each(this.dataSource.dataSet,function(e){e.viewData.selected=!0}),this.$scope.$emit("selectionChanged")},e.prototype.selectAll=function(){a.each(this.dataSource.filteredDataSet,function(e){e.viewData.selected=!0}),this.$scope.$emit("selectionChanged")},e.prototype.clearPage=function(){a.each(this.dataSource.dataSet,function(e){e.viewData.selected=!1}),this.$scope.$emit("selectionChanged")},e.prototype.clearAll=function(){a.each(this.dataSource.filteredDataSet,function(e){e.viewData.selected=!1}),this.$scope.$emit("selectionChanged")},e.$inject=["$scope","$element",s.serviceName],e}();t.SelectionControlController=l,t.selectionControl=i,r.module(t.moduleName,[s.moduleName]).directive(t.directiveName,i).controller(t.controllerName,l)},function(e,t){e.exports='<div>\r\n	<div style="margin-bottom: 5px">\r\n		<span><strong>{{selection.selectedItems}}</strong> items selected</span>\r\n	</div>\r\n	<div style="margin-bottom: 5px" ng-if="selection.pagingEnabled">\r\n		<button type="button" class="btn btn-default" ng-click="selection.selectPage()">Select page</button>\r\n		<button type="button" class="btn btn-default" ng-click="selection.clearPage()">Clear page</button>\r\n	</div>\r\n	<div>\r\n		<button type="button" class="btn btn-default" ng-click="selection.selectAll()">Select all</button>\r\n		<button type="button" class="btn btn-default" ng-click="selection.clearAll()">Clear all</button>\r\n	</div>\r\n</div>\r\n'},function(e,t,n){"use strict";function i(e){return{restrict:"E",transclude:!0,template:n(69),controller:t.controllerName,controllerAs:"cardContainer",scope:{},bindToController:{source:"=",filters:"=",paging:"=",columns:"=",containerData:"=",cardController:"@",cardControllerAs:"@",cardAs:"@",clickableCards:"=",maxColumnSorts:"=",permanentFooters:"=",selectableCards:"=",disableSelection:"&"},link:function(t,i,r,a,o){var s=i.find(".container-header-template"),l=i.find(".container-footer-template");a.makeCard=o,o(t,function(i){var r=i.filter("container-header");if(0===r.length){var a=n(70);r=e(a)(t)}s.append(r);var o=i.filter("container-footer");if(0===o.length){var c=n(71);o=e(c)(t)}l.append(o)})}}}var r=n(25),a=n(19),o=a.services.object,s=a.services.array,l=a.services.parentChildBehavior,c=n(40),u=n(41),d=n(34);t.directiveName="rlCardContainer",t.controllerName="CardContainerController",t.defaultMaxColumnSorts=2,t.defaultSelectionTitle="Select card";var p=function(){function e(e,n,i,a,o,s){var l=this;this.$scope=e,this.object=i,this.array=a,this.dataPagerFactory=o,this.parentChild=s,this.numberSelected=0,this.addViewData=function(){r.each(l.dataSource.rawDataSet,function(e){r.isUndefined(e.viewData)&&(e.viewData={selected:!1})}),l.updateDisabledSelections()},this.clearFilteredSelections=function(){var e=r.difference(l.dataSource.rawDataSet,l.dataSource.filteredDataSet);r.each(e,function(e){r.isUndefined(e.viewData)&&(e.viewData={selected:!1}),e.viewData.selected=!1,e.viewData.selectionTitle=t.defaultSelectionTitle}),l.updateSelected()},this.updateSelected=function(){l.numberSelected=r.filter(l.dataSource.filteredDataSet,function(e){return e.viewData.selected}).length},this.updateDisabledSelections=function(){l.disablingSelections&&r.each(l.dataSource.rawDataSet,function(e){var n=l.disableSelection({item:e});e.viewData.disabledSelection=null!=n,e.viewData.selectionTitle=e.viewData.disabledSelection?n:t.defaultSelectionTitle})},this.dataSource=this.source,this.permanentFooters=r.isUndefined(this.permanentFooters)?!1:this.permanentFooters,this.maxColSorts=null!=this.maxColumnSorts?this.maxColumnSorts:t.defaultMaxColumnSorts,this.disablingSelections=i.isNullOrWhitespace(n.disableSelection)===!1,this.sortDirection=u.SortDirection,this.syncFilters(),this.setupPaging(),this.buildColumnSizes(),this.selectableCards&&(e.$on("selectionChanged",this.updateSelected),e.$on("updateDisabledSelections",this.updateDisabledSelections),this.dataSource.watch(this.addViewData,"changed"),this.dataSource.watch(this.clearFilteredSelections,"redrawing"),this.addViewData(),this.selectionColumn={label:null,size:null,getValue:function(e){return e.viewData.selected},flipSort:!0}),null==this.dataSource.sorts&&(this.dataSource.sorts=[])}return e.prototype.lookupFilter=function(e){return this.filters[e]},e.prototype.sortSelected=function(){this.sort(this.selectionColumn)},e.prototype.openCard=function(){var e=this.parentChild.getAllChildBehaviors(this.dataSource.dataSet);return r.all(r.map(e,function(e){return e.close()}))},e.prototype.sort=function(e){var t=this.dataSource.sorts,n=t[0];if(null!=n&&n.column===e)n.direction=u.SortDirection.toggle(n.direction),n.direction===u.SortDirection.none&&(this.clearVisualSortIndicator(n),n=null,null!=e.secondarySorts?t.length=0:t.shift());else{this.array.remove(t,function(t){return e===t.column});var i={column:e,direction:u.SortDirection.ascending};t.unshift(i),n=i}if(this.updateVisualColumnSorting(),null!=n&&null!=e.secondarySorts){t.length=0;var a=this.buildSecondarySorts(n.direction,e.secondarySorts);t.push(n),t.push.apply(t,a)}else this.dataSource.sorts=r.take(t,this.maxColSorts);this.dataSource.refresh()},e.prototype.selectionChanged=function(){this.updateSelected(),this.$scope.$emit("selectionChanged")},e.prototype.syncFilters=function(){null!=this.filters?(r.isArray(this.filters)&&(this.filters=this.array.toDictionary(this.filters,function(e){return e.type})),this.dataSource.filters=this.filters,this.dataSource.refresh()):null!=this.dataSource.filters&&(this.filters=this.dataSource.filters)},e.prototype.setupPaging=function(){null!=this.paging?this.paging===!1?this.dataSource.pager=null:(this.pager=this.dataPagerFactory.getInstance(),this.dataSource.pager=this.pager):this.dataSource.pager&&(this.pager=this.dataSource.pager)},e.prototype.buildColumnSizes=function(){var e=this;r.each(this.columns,function(t){var n=t.size;r.isObject(n)?(n[d.xs]=e.object.valueOrDefault(n[d.xs],0),n[d.sm]=e.object.valueOrDefault(n[d.sm],n[d.xs]),n[d.md]=e.object.valueOrDefault(n[d.md],n[d.sm]),n[d.lg]=e.object.valueOrDefault(n[d.lg],n[d.md])):t.size={xs:n,sm:n,md:n,lg:n}})},e.prototype.lookupColumn=function(e){return r.find(this.columns,function(t){return t.label===e})},e.prototype.buildSecondarySorts=function(e,t){var n=this,i=t[u.SortDirection.getFullName(e)];return r.map(i,function(e){return{direction:e.direction,column:n.lookupColumn(e.column)}})},e.prototype.updateVisualColumnSorting=function(){var e=this;r.each(this.dataSource.sorts,function(t,n){0===n?e.updateVisualSortIndicator(t):e.clearVisualSortIndicator(t)})},e.prototype.updateVisualSortIndicator=function(e){e.column.sortDirection=e.direction},e.prototype.clearVisualSortIndicator=function(e){e.column.sortDirection=null},e.$inject=["$scope","$attrs",o.serviceName,s.serviceName,c.dataPager.factoryName,l.serviceName],e}();t.CardContainerController=p,i.$inject=["$compile"],t.cardContainer=i},function(e,t){e.exports='<div class="card-container">\r\n	<div>\r\n		<div class="card-container-header">\r\n			<div class="container-header-template"></div>\r\n		</div>\r\n\r\n		<rl-generic-container selector="cardContainer.selectableCards">\r\n			<template when-selector="false" default>\r\n				<div class="card-columns-header">\r\n					<div ng-repeat="column in cardContainer.columns">\r\n						<rl-column-header sort="cardContainer.sort(column)" sorting="column.sortDirection" column="column"></rl-column-header>\r\n					</div>\r\n					<div class="clearfix"></div>\r\n				</div>\r\n			</template>\r\n			<template when-selector="true">\r\n				<div class="card-columns-header">\r\n					<div class="select-group">\r\n						<div class="select-column">\r\n							<i class="fa fa-check" style="margin-left: 6px; cursor: pointer" ng-click="cardContainer.sortSelected()"></i>\r\n							<i ng-show="cardContainer.sortColumn.sortDirection === cardContainer.sortDirection.ascending" class="fa fa-sort-asc"></i>\r\n							<i ng-show="cardContainer.sortColumn.sortDirection === cardContainer.sortDirection.descending" class="fa fa-sort-desc"></i>\r\n						</div>\r\n						<div class="select-content">\r\n							<div ng-repeat="column in cardContainer.columns">\r\n								<rl-column-header sort="cardContainer.sort(column)" sorting="column.sortDirection" column="column"></rl-column-header>\r\n							</div>\r\n						</div>\r\n					</div>\r\n					<div class="clearfix"></div>\r\n				</div>\r\n			</template>\r\n		</rl-generic-container>\r\n\r\n		<div ng-repeat="card in cardContainer.dataSource.dataSet">\r\n			<rl-card columns="cardContainer.columns" item="card"\r\n					 clickable="cardContainer.clickableCards"\r\n					 selectable="cardContainer.selectableCards"\r\n					 selection-changed="cardContainer.selectionChanged()"\r\n					 container-data="cardContainer.containerData"\r\n					 source="cardContainer.dataSource"\r\n					 permanent-footer="cardContainer.permanentFooters"\r\n					 card-controller="cardContainer.cardController"\r\n					 card-controller-as="cardContainer.cardControllerAs"\r\n					 card-as="cardContainer.cardAs"></rl-card>\r\n		</div>\r\n\r\n		<div>\r\n			<rl-busy loading="cardContainer.dataSource.loadingDataSet" size="2x"></rl-busy>\r\n		</div>\r\n\r\n		<div class="card-container-footer">\r\n			<div class="container-footer-template"></div>\r\n		</div>\r\n	</div>\r\n</div>'},function(e,t){e.exports='<div class="row">\r\n	<div class="col-sm-9">\r\n		<rl-card-search></rl-card-search>\r\n	</div>\r\n	<div class="col-sm-3">\r\n		<rl-page-size></rl-page-size>\r\n	</div>\r\n</div>\r\n'},function(e,t){e.exports='<div class="row">\r\n	<div ng-if="!cardContainer.selectableCards" class="col-sm-6">\r\n		<rl-item-count></rl-item-count>\r\n	</div>\r\n	<span ng-if="cardContainer.selectableCards">\r\n		<div class="col-sm-3">\r\n			<rl-selection-control></rl-selection-control>\r\n		</div>\r\n		<div class="col-sm-3">\r\n			<rl-item-count></rl-item-count>\r\n		</div>\r\n	</span>\r\n	<div class="col-sm-6">\r\n		<rl-pager class="pull-right"></rl-pager>\r\n	</div>\r\n</div>\r\n'},function(e,t){"use strict"},function(e,t,n){"use strict";function i(){return{restrict:"E",template:'\n			<span>\n				<span ng-repeat="item in commaList.list track by $index">\n					<span>{{item}}</span><span ng-hide="$last">, </span>\n				</span>\n				<span ng-show="commaList.remainingItems > 0">... {{commaList.remainingItems}} more items</span>\n			</span>\n		',controller:t.controllerName,controllerAs:"commaList",scope:{},bindToController:{inList:"=list",max:"=",transform:"&"}}}var r=n(1),a=n(25),o=n(19),s=o.services.object;t.moduleName="rl.ui.components.commaList",t.directiveName="rlCommaList",t.controllerName="CommaListController";var l=function(){function e(e,t){this.remainingItems=0,this.hasTransform=t.isNullOrWhitespace(e.transform)===!1,this.list=this.getFirstItems(this.inList)}return e.prototype.getFirstItems=function(e){var t=this;this.hasTransform&&(e=a.map(e,function(e){return t.transform({item:e})}));var n;return null!=this.max?(n=a.take(e,this.max),this.remainingItems=e.length-this.max):n=a.clone(e),n},e.$inject=["$attrs",s.serviceName],e}();t.CommaListController=l,r.module(t.moduleName,[s.moduleName]).directive(t.directiveName,i).controller(t.controllerName,l)},function(e,t,n){"use strict";function i(e,t){return{restrict:"E",template:'\n			<div class="input-group" ng-class="{ \'has-warning\': !validFormat}" id="{{inputId}}">\n				<input type="text" class="form-control" ng-model="ngModel" />\n				<span class="input-group-btn">\n					<button class="btn btn-default show-date-picker" ng-click="toggle()"><i class="fa fa-calendar"></i></button>\n				</span>\n			</div>\n		',require:"?^ngModel",scope:{minuteStepping:"=",ngModel:"=",useDate:"=",useTime:"=",min:"=",max:"="},link:function(n,i,r,o){function s(e,n){return e&&n?t.dateTimeFormat:e?t.dateFormat:n?t.timeFormat:!1}var l=null!=n.useDate?n.useDate:!0,c=null!=n.useTime?n.useTime:!0,u=i.datetimepicker.defaults,d=null!=n.min?n.min:u.minDate,p=null!=n.max?n.max:u.maxDate;n.$watch("ngModel",function(t){""!==t&&(n.validFormat=e(t).isValid())}),i.datetimepicker({stepping:n.minuteStepping||1,format:n.format||s(l,c),direction:"bottom",elementHeight:32,pickDate:l,pickTime:c,minDate:d,maxDate:p}).on("change.dp",function(){var e=a(this).find("input").val();o.$setViewValue(e),n.$apply()})}}}var r=n(1),a=n(14),o=n(19);t.moduleName="rl.ui.components.dateTime",t.directiveName="rlDateTime";var s=o.services.date;i.$inject=[o.services.moment.serviceName,s.dateTimeFormatServiceName],r.module(t.moduleName,[]).directive(t.directiveName,i)},function(e,t,n){"use strict";function i(e,n,i,o){return{restrict:"E",template:'<div id="container"></div>',transclude:!0,controller:t.controllerName,controllerAs:"genericContainer",scope:{},bindToController:{selector:"=",configuredTemplates:"=templates",defaultTemplate:"="},link:function(t,s,l,c,u){function d(e){e["default"]=e.defaultTemplate,e.templates=e.configuredTemplates?e.configuredTemplates:{},e.swapTemplates=p}function p(t){var n=e(t)(h);i.replaceContent(f,n)}d(c);var h,f=s.find("#container");u(function(e,t){var i=e.filter("template");i.each(function(e,i){var s=r.element(i),l=s.html(),u=s.attr("when-selector");if(!o.isNullOrWhitespace(u)){var d=n(u)(t);c.templates[d]=l}var p=s.attr("default");a.isUndefined(p)||"false"===p.toLowerCase()||(c["default"]=l)}),h=t}),c["default"]||(c["default"]={template:"<div></div>"}),c.refresh()}}}var r=n(1),a=n(25),o=n(19),s=n(76);t.moduleName="rl.ui.components.genericContainer",t.directiveName="rlGenericContainer",t.controllerName="GenericContainerController";var l=o.services.object,c=function(){function e(e,t){var n=this;this.object=t,e.$watch(function(){return n.selector},function(e,t){if(!n.object.areEqual(e,t)){var i=n.resolveTemplate(e);n.swapTemplates(i)}})}return e.prototype.refresh=function(){var e=this.resolveTemplate(this.selector);this.swapTemplates(e)},e.prototype.resolveTemplate=function(e){var t;t=a.has(this.templates,e)?this.templates[e]:this["default"];var n=t;return a.isUndefined(n.templateUrl)?a.isUndefined(n.template)?t:n.template:"<ng-include src=\"'"+n.templateUrl+"'\"></ng-include>"},e.$inject=["$scope",l.serviceName],e}();t.GenericContainerController=c,i.$inject=["$compile","$interpolate",s.serviceName,l.serviceName],r.module(t.moduleName,[s.moduleName,l.moduleName]).directive(t.directiveName,i).controller(t.controllerName,c)},function(e,t,n){"use strict";var i=n(1);t.moduleName="rl.utilities.services.jquery",t.serviceName="jqueryUtility";var r=function(){function e(){}return e.prototype.replaceContent=function(e,t){e.empty(),e.append(t)},e}();i.module(t.moduleName,[]).service(t.serviceName,r)},function(e,t,n){"use strict";function i(){return{restrict:"E",transclude:!0,template:'\n			<div ng-if="lazyLoad.init">\n				<div ng-show="lazyLoad.show">\n					<div ng-transclude></div>\n				</div>\n			</div>\n		',controller:t.controllerName,controllerAs:"lazyLoad",scope:{},bindToController:{show:"="}}}var r=n(1);t.moduleName="rl.ui.components.lazyLoad",t.directiveName="rlLazyLoad",t.controllerName="LazyLoadController";var a=function(){function e(e){var t=this;this.init=!1;var n=e.$watch(function(){return t.show},function(e){e&&(t.init=!0,n())})}return e.$inject=["$scope"],e}();t.LazyLoadController=a,r.module(t.moduleName,[]).directive(t.directiveName,i).controller(t.controllerName,a)},function(e,t,n){"use strict";function i(){return{restrict:"E",template:'\n			<div class="long-click-button">\n				<button id="actionButton" class="btn btn-{{button.buttonClass}}" ng-mousedown="button.startAction()" ng-mouseleave="button.stopAction()">\n					<rl-busy loading="button.spinner" ng-if="button.rightAligned"></rl-busy>\n					<i ng-show="button.buttonIcon != null" class="fa fa-{{button.buttonIcon}}"></i> {{button.buttonText}}\n					<rl-busy loading="button.spinner" ng-if="!button.rightAligned"></rl-busy>\n				</button>\n				<rl-rating-bar ng-if="button.active" width="button.width" height="5" min="0" max="button.duration"\n							value="button.actionProgress" background="transparent"></rl-rating-bar>\n			</div>\n		',controller:t.controllerName,controllerAs:"button",scope:{},bindToController:{onTriggered:"&",text:"@",onShortClickText:"@",buttonIcon:"@",spinner:"=",rightAligned:"=",type:"@"}}}var r=n(1),a=n(14),o=n(19);t.moduleName="rl.ui.components.longClickButton",t.directiveName="rlLongClickButton",t.controllerName="LongClickButtonController";var s=o.services.object,l=function(){function e(e,t,n,i){var r=this;this.$interval=t,this.$timeout=n,this.objectUtility=i,this.interval=25,this.duration=1500,this.buttonText=this.text,null!=this.buttonType?this.buttonClass=this.buttonType:this.buttonClass="default",e.$watch(function(){return r.buttonText},function(){n(function(){r.width=a("#actionButton").outerWidth()})})}return e.prototype.startAction=function(){var e=this;this.active||(this.actionProgress=0,this.active=!0,this.actionInterval=this.$interval(function(){e.actionProgress+=e.interval,e.actionProgress>=e.duration&&(e.cleanup(),e.buttonText=e.text,e.onTriggered())},this.interval))},e.prototype.stopAction=function(){this.active&&(this.actionProgress<this.duration&&this.warn(),this.cleanup())},e.prototype.cleanup=function(){this.$interval.cancel(this.actionInterval),this.actionProgress=0,this.active=!1},e.prototype.warn=function(){this.objectUtility.isNullOrEmpty(this.onShortClickText)===!1&&(this.buttonText=this.onShortClickText)},e.$inject=["$scope","$interval","$timeout",s.serviceName],e}();t.LongClickButtonController=l,r.module(t.moduleName,[s.moduleName]).directive(t.directiveName,i).controller(t.controllerName,l)},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var r=n(1),a=n(80),o=n(81);i(n(80)),i(n(81)),t.moduleName="rl.ui.components.messageLog",r.module(t.moduleName,[]).factory(a.factoryName,a.messageLogFactory).directive(o.directiveName,o.messageLog).controller(o.controllerName,o.MessageLogController)},function(e,t){"use strict";function n(){return{getInstance:function(){return new i}}}t.factoryName="messageLog",t.defaultPageSize=10;var i=function(){function e(){this.currentStartingMessage=0,this._hasForwardMessages=!1,this._hasBackwardMessages=!1,this._pageSize=t.defaultPageSize}return Object.defineProperty(e.prototype,"pageSize",{get:function(){return this._pageSize},set:function(e){this._pageSize=e,this.updateCurrentPage()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasForwardMessages",{get:function(){return this._hasForwardMessages},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasBackwardMessages",{get:function(){return this._hasBackwardMessages},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataService",{get:function(){return this._dataService},set:function(e){this._dataService=e,null!=e&&this.updateCurrentPage()},enumerable:!0,configurable:!0}),e.prototype.addMessage=function(e){var t=this;return this.dataService.saveMessage(e).then(function(){t.getTopPage()})},e.prototype.getNextPage=function(){return this.hasForwardMessages?(this.currentStartingMessage+=this.pageSize,this.updateCurrentPage()):void 0},e.prototype.getPreviousPage=function(){return this.hasBackwardMessages?(this.currentStartingMessage-=this.pageSize,this.currentStartingMessage<0&&(this.currentStartingMessage=0),this.updateCurrentPage()):void 0},e.prototype.getTopPage=function(){return this.currentStartingMessage=0,this.updateCurrentPage()},e.prototype.refresh=function(){return this.updateCurrentPage()},e.prototype.updateCurrentPage=function(){var e=this;return null==this.dataService?null:(this.busy=!0,this.dataService.getMessages(this.currentStartingMessage,this.pageSize).then(function(t){e.visibleMessages=t.messages,e._hasForwardMessages=t.hasMoreMessages,e._hasBackwardMessages=e.currentStartingMessage>0,e.busy=!1}))},e}();t.MessageLog=i,t.messageLogFactory=n},function(e,t,n){"use strict";function i(){return{restrict:"E",template:'\n			<div>\n				<rl-busy loading="log.loadingInitial" size="2x"></rl-busy>\n				<div class="content-group" ng-repeat="entry in log.messages">\n					<div ng-bind-html="entry.message"></div>\n					<div class="byline">{{entry.createdBy}}</div>\n					<div class="byline">{{entry.createdDate}} {{entry.createdTime}} UTC</div>\n				</div>\n				<div class="row">\n					<div class="col-xs-12">\n						<div class="text-center">\n							<rl-button type="default" action="log.getTopPage()" ng-disabled="log.loading" button-right-aligned="true">\n								<span ng-show="log.hasPreviousPage">Top</span>\n								<span ng-hide="log.hasPreviousPage">Refresh</span>\n							</rl-button>\n							<rl-button type="default" ng-disabled="log.hasNextPage == false || log.loading" action="log.getNextPage()">\n								Older <i class="fa fa-chevron-right"></i>\n							</rl-button>\n						</div>\n					</div>\n				</div>\n			</div>\n		',controller:t.controllerName,controllerAs:"log",scope:{},bindToController:{service:"=",pageSize:"=",messageLogBinding:"=messageLog"}}}var r=n(80);t.directiveName="rlMessageLog",t.controllerName="MessageLogController";var a=function(){function e(e,t){var n=this;this.messageLog=null!=this.messageLogBinding?this.messageLogBinding:t.getInstance(),this.loadingInitial=!0,e.$watch(function(){return n.messageLog.visibleMessages;
},function(e){n.messages=e}),e.$watch(function(){return n.messageLog.hasForwardMessages},function(e){n.hasNextPage=e}),e.$watch(function(){return n.messageLog.hasBackwardMessages},function(e){n.hasPreviousPage=e}),e.$watch(function(){return n.messageLog.busy},function(e){e?n.loading=!0:(n.loading=!1,n.loadingInitial=!1)}),this.messageLog.pageSize=null!=this.pageSize?this.pageSize:8,this.messageLog.dataService=this.service}return e.prototype.getOlder=function(){return this.messageLog.getNextPage()},e.prototype.getTop=function(){return this.messageLog.getTopPage()},e.$inject=["$scope",r.factoryName],e}();t.MessageLogController=a,t.messageLog=i},function(e,t,n){"use strict";function i(){return{restrict:"E",template:'\n			<div class="multi-step" ng-class="{ \'numbered\': breadcrumb.numbered }">\n				<ol>\n					<li ng-repeat="step in breadcrumb.steps" ng-click="step.onClick()"\n						ng-class="{ \'completed\': step.isCompleted, \'current\': step.isCurrent, \'active\': !step.inactive }">\n						<div class="wrap">\n							<p class="title">{{step.title}}</p>\n							<p class="subtitle">{{step.subtitle}}</p>\n						</div>\n					</li>\n				</ol>\n			</div>\n		',controller:t.controllerName,controllerAs:"breadcrumb",scope:{},bindToController:{steps:"=",numbered:"="}}}var r=n(1),a=n(25),o=n(19);t.moduleName="rl.ui.components.multiStepIndicator",t.directiveName="rlMultiStepIndicator",t.controllerName="MultiStepIndicatorController";var s=o.services.object,l=function(){function e(e,t){var n=this;this.$state=e,this.object=t,this.redirectToState=function(e){n.clearCurrentState(),n.$state.go(e.stateName),e.isCurrent=!0},this.configureSteps()}return e.prototype.configureSteps=function(){var e=this;a.each(this.steps,function(t){a.isFunction(t.onClick)||(e.object.isNullOrWhitespace(t.stateName)?t.inactive=!0:(t.onClick=function(){e.redirectToState(t)},e.$state.includes(t.stateName)&&(t.isCurrent=!0)))})},e.prototype.clearCurrentState=function(){a.each(this.steps,function(e){e.isCurrent=!1})},e.$inject=["$state",s.serviceName],e}();t.MultiStepIndicatorController=l,r.module(t.moduleName,[s.moduleName]).directive(t.directiveName,i).controller(t.controllerName,l)},function(e,t,n){"use strict";function i(){return{restrict:"E",template:'\n			<div class="rating-bar">\n				<div class="{{ratingBar.backgroundClass}}" ng-class="{ empty: ratingBar.value == min }" ng-style="ratingBar.dimensions">\n					<div ng-class="ratingBar.barClass" ng-style="{ width: ratingBar.width, height: ratingBar.height }"></div>\n				</div>\n			</div>\n		',controller:t.controllerName,controllerAs:"ratingBar",scope:{},bindToController:{totalWidth:"=width",height:"=",value:"=",min:"=",max:"=",background:"="}}}var r=n(1),a=n(84),o=n(85);t.moduleName="rl.ui.components.ratingBar",t.directiveName="rlRatingBar",t.controllerName="RatingBarController";var s=function(){function e(e){var t=this;this.$scope=e;var n=new a.RatingBarBackgroundService;this.ratingBarClass=new o.RatingBarClassService,this.backgroundClass=n.getBackground(this.background),null==this.value&&(this.value=0),e.$watch(function(){return t.value},function(e){t.updateValue(e)}),e.$watch(function(){return t.totalWidth},function(e){t.dimensions={width:e+2,height:t.height+2},t.updateValue(t.value)})}return e.prototype.updateValue=function(e){var t=(e-this.min)/(this.max-this.min);this.barClass=this.ratingBarClass.getClass(t),this.width=Math.round(t*this.totalWidth)},e.$inject=["$scope"],e}();t.RatingBarController=s,t.ratingBar=i,r.module(t.moduleName,[]).directive(t.directiveName,i).controller(t.controllerName,s)},function(e,t){"use strict";var n=function(){function e(){this.standard={type:"standard","class":"background"},this.dark={type:"dark","class":"background-dark"},this.transparent={type:"transparent","class":"background-transparent"}}return e.prototype.getBackground=function(e){return e===this.dark.type?this.dark["class"]:e===this.transparent.type?this.transparent["class"]:this.standard["class"]},e}();t.RatingBarBackgroundService=n},function(e,t){"use strict";var n=function(){function e(){}return e.prototype.getClass=function(e){return e>=.8?"very-high":e>=.6?"high":e>=.4?"medium":e>=.2?"low":"very-low"},e}();t.RatingBarClassService=n},function(e,t,n){"use strict";var i=n(1),r=n(19),a=r.services.parentChildBehavior,o=r.services.observable,s=r.services.promise,l=r.services.number,c=n(76),u=n(87);t.responsiveCardGrid=u;var d=n(92);t.responsiveCard=d,t.moduleName="rl.ui.components.responsiveCardGrid",i.module(t.moduleName,[c.moduleName,a.moduleName,o.moduleName,s.moduleName,l.moduleName]).directive(u.directiveName,u.responsiveCardGrid).controller(u.controllerName,u.ResponsiveCardGridController).directive(d.directiveName,d.responsiveCard).controller(d.controllerName,d.ResponsiveCardController)},function(e,t,n){"use strict";function i(){return{restrict:"E",transclude:!0,template:'\n			<div>\n				<div class="col-lg-4 col-md-6 col-sm-12 smallCardsList" ng-repeat="emptyCard in grid.emptyCards" ng-if="grid.fillEmptySpace"></div>\n				<div ng-transclude></div>\n			</div>\n		',controller:t.controllerName,controllerAs:"grid",scope:{},bindToController:{startingIndex:"=",fillEmptySpace:"="},link:{pre:function(e,t,n,i){i.findPosition=function(e){var n,i=t.find("rl-responsive-card");return i.each(function(t,i){return e[0]===i?(n=t,!1):void 0}),n}}}}}var r=n(25),a=n(19),o=n(88);t.directiveName="rlResponsiveCardGrid",t.controllerName="ResponsiveCardGridController";var s=a.services.observable,l=a.services.number,c=function(){function e(e,t,n,i){var a=this;this.$q=t,this.breakpoints=n,this.numberUtility=i,this.emptyCards=[],this.behaviors=[],this.updateCardEndOfRowStatus=function(){a.observable.fire("updateEndOfRowStatus")},this.observable=e.getInstance(),null!=this.startingIndex&&(this.emptyCards=r.range(this.startingIndex)),n.register(this.updateCardEndOfRowStatus)}return e.prototype.registerCard=function(e,t){var n=this.findPosition(t);n=null!=this.startingIndex?n+this.startingIndex:n;var i=[];i.push(this.observable.register(e.autosave,"autosave")),i.push(this.observable.register(e.close,"close")),i.push(this.observable.register(e.hoverOut,"hoverOut")),i.push(this.observable.register(e.updateEndOfRowStatus,"updateEndOfRowStatus"));var a=e;return a.index=n,this.behaviors.push(a),function(){r.each(i,function(e){e()})}},e.prototype.openCard=function(e){this.autosaveCard()&&r.each(this.getCurrentRow(e.index),function(e){e.open()})},e.prototype.closeCard=function(){this.autosaveCard()},e.prototype.autosaveCard=function(){var e=this.observable.fire("autosave");return r.all(e)?(this.observable.fire("close"),!0):!1},e.prototype.hoverIn=function(e){r.each(this.getCurrentRow(e.index),function(e){e.hoverIn()})},e.prototype.hoverOut=function(){this.observable.fire("hoverOut")},e.prototype.cardIsEndOfRow=function(e){return(e.index+1)%this.cardsPerRow===0},e.prototype.getCurrentRow=function(e){var t=this,n=this.cardsPerRow,i=this.numberUtility.integerDivide(e,n);return r.filter(this.behaviors,function(e){return i===t.numberUtility.integerDivide(e.index,n)})},Object.defineProperty(e.prototype,"cardsPerRow",{get:function(){var e=this.breakpoints.currentBreakpoint;return this.breakpointRowDictionary[e]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"breakpointRowDictionary",{get:function(){var e=[];return e[o.xs]=1,e[o.sm]=1,e[o.md]=2,e[o.lg]=3,e},enumerable:!0,configurable:!0}),e.$inject=[s.factoryName,"$q",o.breakpointServiceName,l.serviceName],e}();t.ResponsiveCardGridController=c,t.responsiveCardGrid=i},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var r=n(1),a=n(19),o=n(89),s=n(90),l=n(91);i(n(34)),i(n(90)),i(n(91)),t.moduleName="rl.ui.services.breakpoints",r.module(t.moduleName,[a.services.observable.moduleName,o.moduleName]).constant("resizeDebounceMilliseconds",500).service(s.visibleBreakpointServiceName,s.VisibleBreakpointService).service(l.breakpointServiceName,l.BreakpointService)},function(e,t,n){"use strict";var i=n(1),r=n(14);t.moduleName="rl.ui.services.windowWrapper",t.serviceName="windowWrapper";var a=function(){function e(){this.windowControl=r(window)}return e.prototype.resize=function(e){this.windowControl.resize(e)},e}();i.module(t.moduleName,[]).service(t.serviceName,a)},function(e,t,n){"use strict";var i=n(14);t.visibleBreakpointServiceName="visibleBreakpoint";var r=function(){function e(){}return e.prototype.isVisible=function(e){return i(".device-"+e).is(":visible")},e}();t.VisibleBreakpointService=r},function(e,t,n){"use strict";var i=n(25),r=n(19),a=n(89),o=n(90),s=n(34);t.breakpointServiceName="breakpoints";var l=r.services.observable,c=function(){function e(e,t,n,r){var a=this;this.visibleBreakpoints=e,this.updateBreakpoint=function(){var e=a.getBreakpoint();e!==a.currentBreakpoint&&(a.currentBreakpoint=e,a.observable.fire("window.breakpointChanged",a.currentBreakpoint))},this.currentBreakpoint=this.getBreakpoint(),this.observable=r.getInstance();var o=i.debounce(this.updateBreakpoint,t,{leading:!0,trailing:!0,maxWait:t});n.resize(o)}return e.prototype.getBreakpoint=function(){return this.visibleBreakpoints.isVisible(s.lg)?s.lg:this.visibleBreakpoints.isVisible(s.md)?s.md:this.visibleBreakpoints.isVisible(s.sm)?s.sm:s.xs},e.prototype.isBreakpoint=function(e){return this.currentBreakpoint===e},e.prototype.register=function(e){return this.observable.register(e,"window.breakpointChanged")},e.$inject=[o.visibleBreakpointServiceName,"resizeDebounceMilliseconds",a.serviceName,l.factoryName],e}();t.BreakpointService=c},function(e,t,n){"use strict";function i(e){return{restrict:"E",transclude:!0,require:"^^rlResponsiveCardGrid",template:'\n			<div class="smallCardsList col-lg-4 col-md-6 col-sm-12">\n				<div class="small-card">\n					<div class="small-card-header" ng-class="{ \'smallCardHeaderHover\': card.isHovering }"\n						ng-click="card.toggle()" ng-mouseover="card.triggerHoverIn()" ng-mouseleave="card.triggerHoverOut()">\n						<div class="small-card-header-card-name">\n							<span ng-bind-html="card.header.name"></span>\n							<span ng-if="card.summary() | isEmpty:false"> - </span>\n						</div>\n						<div class="small-card-header-summary-text" ng-bind-html="card.summary()|truncate:card.summaryLength:true"></div>\n						<span class="small-card-header-item-count" ng-if="card.header.count != null"><span class="badge">{{card.header.count()}}</span></span>\n						<span class="small-card-header-item-count" ng-if="card.header.status != null"><span class="badge">{{card.header.status()}}</span></span>\n						<span class="small-card-header-icon" ng-if="card.showIcon()"> <i class="small-card-indicator fa fa-2x fa-{{card.header.icon}}" title="{{card.header.iconTooltip}}" /></span>\n					</div>\n					<ng-form rl-autosave="card.autosaveLink" validate="card.validate()" save="card.save()">\n						<div ng-if="card.showDetails">\n							<div class="small-card-content">\n								<div ng-transclude></div>\n								<div class="clearfix"></div>\n							</div>\n						</div>\n					</ng-form>\n				</div>\n			</div>\n			<div class="clearfix" ng-if="card.isEndOfRow"></div>\n		',controller:t.controllerName,controllerAs:"card",scope:{},bindToController:{header:"=",validate:"&",save:"&"}}}var r=n(19),a=n(76);t.directiveName="rlResponsiveCard",t.controllerName="ResponsiveCardController";var o=r.services.parentChildBehavior,s=r.services.promise,l=function(){function e(e,t,n,i,r){var a=this;this.$scope=e,this.$q=t,this.$element=n,this.parentChildBehavior=i,this.promiseUtility=r,this.autosaveLink={viewData:null},this.autosave=function(){if(a.showDetails===!1)return!0;var e=a.parentChildBehavior.getChildBehavior(a.autosaveLink);return e.autosave()},this.close=function(){a.showDetails=!1},this.open=function(){a.showDetails=!0},this.hoverIn=function(){a.isHovering=!0},this.hoverOut=function(){a.isHovering=!1},this.updateEndOfRowStatus=function(){a.isEndOfRow=a.cardGridController.cardIsEndOfRow(a.behavior)},this.behavior={autosave:this.autosave,close:this.close,open:this.open,hoverIn:this.hoverIn,hoverOut:this.hoverOut,updateEndOfRowStatus:this.updateEndOfRowStatus},this.summary=null!=this.header.summary?this.header.summary:function(){return""},this.summaryLength=null!=this.header.summaryLength?this.header.summaryLength:25,this.showIcon=null!=this.header.showIcon?this.header.showIcon:function(){return!1},this.cardGridController=n.controller("rlResponsiveCardGrid"),this.unregister=this.cardGridController.registerCard(this.behavior,n),this.isEndOfRow=this.cardGridController.cardIsEndOfRow(this.behavior),e.$on("$destroy",function(){a.unregister()})}return e.prototype.toggle=function(){this.showDetails?this.cardGridController.closeCard():this.cardGridController.openCard(this.behavior)},e.prototype.triggerHoverIn=function(){this.cardGridController.hoverIn(this.behavior)},e.prototype.triggerHoverOut=function(){this.cardGridController.hoverOut()},e.$inject=["$scope","$q","$element",o.serviceName,s.serviceName],e}();t.ResponsiveCardController=l,i.$inject=[a.serviceName],t.responsiveCard=i},function(e,t,n){"use strict";function i(){return{restrict:"E",template:'\n			<div class="rich-text-editor">\n				<text-angular ng-model="editor.ngModel" ta-toolbar="editor.toolbar"></text-angular>\n			</div>\n		',controller:t.controllerName,controllerAs:"editor",scope:{},bindToController:{ngModel:"=",customButtons:"="}}}var r=n(1),a=n(25);t.moduleName="rl.ui.components.richTextEditor",t.directiveName="rlRichTextEditor",t.controllerName="RichTextEditorController";var o=function(){function e(){var e=this;this.toolbar=[["h1","bold","italics","underline","ul","ol","indent","outdent"],["html"]],a.each(this.customButtons,function(t){e.toolbar[1].push(t)})}return e}();t.RichTextEditorController=o,t.richTextEditor=i,r.module(t.moduleName,[]).directive(t.directiveName,i).controller(t.controllerName,o)},function(e,t,n){"use strict";function i(){return{restrict:"E",template:'\n			<canvas class="signature-pad"></canvas>\n		',scope:{signature:"=",initial:"=",height:"=",width:"="},link:function(e,t){var n=t.find(".signature-pad").get(0),i={backgroundColor:"rgb(255, 255, 255)"};e.signature=new SignaturePad(n,i),n.height=null!=e.height?e.height:100,n.width=null!=e.width?e.width:200,null!=e.initial&&e.signature.fromDataURL(e.initial)}}}var r=n(1);t.moduleName="rl.ui.components.signaturePad",t.directiveName="rlSignaturePad",t.signaturePad=i,r.module(t.moduleName,[]).directive(t.directiveName,i)},function(e,t,n){"use strict";var i=n(1),r=n(19),a=r.services.observable,o=r.services.parentChildBehavior,s=n(96);t.simpleCard=s;var l=n(97);t.simpleCardList=l,t.moduleName="rl.ui.components.simpleCardList",i.module(t.moduleName,[a.moduleName,o.moduleName]).directive(l.directiveName,l.simpleCardList).controller(l.controllerName,l.SimpleCardListController).directive(s.directiveName,s.simpleCard).controller(s.controllerName,s.SimpleCardController)},function(e,t,n){"use strict";function i(){return{restrict:"E",transclude:!0,require:"?^^rlSimpleCardList",template:'\n			<div class="card col-xs-12">\n				<div class="header row" ng-class="{ \'active\': card.canOpen }" ng-click="card.toggleContent()">\n					<div class="header-template"></div>\n					<div class="clearfix"></div>\n				</div>\n\n				<ng-form rl-autosave="card.autosaveLink" validate="card.validate()" save="card.save()">\n					<div ng-show="card.showContent">\n						<div class="body row">\n							<div class="content-template"></div>\n							<div class="clearfix"></div>\n						</div>\n					</div>\n				</ng-form>\n				<div ng-show="hasFooter && card.showContent">\n					<div class="footer row">\n						<div class="footer-template"></div>\n						<div class="clearfix"></div>\n					</div>\n				</div>\n			</div>\n		',controller:t.controllerName,controllerAs:"card",scope:{},bindToController:{onOpen:"&",canOpen:"=",childLink:"=",validate:"&",save:"&"},compile:function(){var e,t,n;return{pre:function(i,r,a,o,s){s(function(i){e=i.filter("rl-card-header"),t=i.filter("rl-card-content"),n=i.filter("rl-card-footer")})},post:function(i,r){var a=r.find(".header-template");a.append(e);var o=r.find(".content-template");if(o.append(t),i.hasFooter=n.length>0,i.hasFooter){var s=r.find(".footer-template");s.append(n)}}}}}}var r=n(19),a=r.services.parentChildBehavior;t.directiveName="rlSimpleCard",t.controllerName="SimpleCardController";var o=function(){function e(e,t,n){var i=this;this.$scope=e,this.parentChild=n,this.showContent=!1,this.autosaveLink={},this.close=function(){return i.showContent===!1?!0:i.parentChild.triggerChildBehavior(i.autosaveLink,function(e){var t=e.autosave();return t&&(i.showContent=!1),t})},null==this.canOpen&&(this.canOpen=!0),this.listController=t.controller("rlSimpleCardList"),null==this.listController&&(this.listController=this.noList());var r={close:this.close};this.listController.registerCard(r),n.registerChildBehavior(this.childLink,r)}return e.prototype.toggleContent=function(){this.showContent?this.close():this.open()},e.prototype.open=function(){this.canOpen&&this.listController.openCard()&&(this.showContent=!0,this.onOpen())},e.prototype.noList=function(){return{openCard:function(){return!0},registerCard:function(e){return null}}},e.$inject=["$scope","$element",a.serviceName],e}();t.SimpleCardController=o,t.simpleCard=i},function(e,t,n){"use strict";function i(){return{restrict:"AE",controller:t.controllerName}}var r=n(25),a=n(19),o=a.services.observable;t.directiveName="rlSimpleCardList",t.controllerName="SimpleCardListController";var s=function(){function e(e){this.observable=e.getInstance()}return e.prototype.registerCard=function(e){return this.observable.register(e.close,"close")},e.prototype.openCard=function(){return r.all(this.observable.fire("close"))},e.$inject=[o.factoryName],e}();t.SimpleCardListController=s,t.simpleCardList=i},function(e,t,n){"use strict";function i(e,t,n){return{restrict:"E",template:'\n			<rl-generic-container selector="ngDisabled">\n				<template default>\n					<input name="{{name}}" class="spinner" ng-hide="ngDisabled" id="{{spinnerId}}" type="text" />\n				</template>\n				<template when-selector="true">\n					<div class="input-group" ng-show="prefix != null && postfix != null">\n						<span class="input-group-addon">{{prefix}}</span>\n						<input ng-disabled="ngDisabled" type="text" ng-model="ngModel" class="form-control" />\n						<span class="input-group-addon">{{postfix}}</span>\n					</div>\n					<div class="input-group" ng-show="prefix != null && postfix == null">\n						<span class="input-group-addon">{{prefix}}</span>\n						<input ng-disabled="ngDisabled" type="text" ng-model="ngModel" class="form-control" />\n					</div>\n					<div class="input-group" ng-show="prefix == null && postfix != null">\n						<input ng-disabled="ngDisabled" type="text" ng-model="ngModel" class="form-control" />\n						<span class="input-group-addon">{{postfix}}</span>\n					</div>\n					<div ng-show="prefix == null && postfix == null">\n						<input ng-disabled="ngDisabled" type="text" ng-model="ngModel" class="form-control" />\n					</div>\n				</template>\n			</rl-generic-container>\n		',require:"?^ngModel",scope:{min:"=",max:"=",step:"=",decimals:"=",prefix:"@",postfix:"@",roundToStep:"=",ngDisabled:"=",ngModel:"=",spinnerId:"@",name:"@"},link:function(i,r,a,o){function s(e){return null!=e&&i.roundToStep&&(e=n.roundToStep(e,i.step),e=n.preciseRound(e,i.decimals)),e}var l;i.$watch("ngDisabled",function(n){n?_.isFunction(l)&&l():e(function(){var e=r.find("input.spinner").TouchSpin({min:null!=i.min?i.min:Number.MIN_VALUE,max:null!=i.max?i.max:Number.MAX_VALUE,step:i.step,prefix:i.prefix,postfix:i.postfix,decimals:i.decimals,initval:o.$viewValue,forcestepdivisibility:i.roundToStep?"round":"none"});e.on("change",function(){i.$apply(function(){var n=e.val();o.$setViewValue(t.toNumber(n))})});var n=i.$watch(function(){return o.$viewValue},function(t){e.val(null!=t?t.toString():"")}),a=i.$watch(function(){return o.$modelValue},function(e){i.ngModel=s(e)});l=function(){n(),a()}})})}}}var r=n(1),a=n(19),o=a.services.string,s=a.services.number;t.moduleName="rl.ui.components.spinner",t.directiveName="rlSpinner",t.controllerName="SpinnerController",i.$inject=["$timeout",o.serviceName,s.serviceName],r.module(t.moduleName,[o.moduleName]).directive(t.directiveName,i)},function(e,t,n){"use strict";function i(){return{restrict:"E",template:'\n			<span>\n				<span ng-show="controller.hasString">{{controller.string}}</span>\n				<span ng-hide="controller.hasString" class="watermark">{{controller.watermark}}</span>\n			</span>\n		',controller:t.controllerName,controllerAs:"controller",scope:{},bindToController:{string:"@",watermark:"@"}}}var r=n(1),a=n(19),o=a.services.object;t.moduleName="rl.ui.components.stringWithWatermark",t.directiveName="rlStringWithWatermark",t.controllerName="StringWithWatermarkController";var s=function(){function e(e,t){var n=this;e.$watch(function(){return n.string},function(e){n.hasString=t.isNullOrEmpty(e)===!1})}return e.$inject=["$scope",o.serviceName],e}();t.StringWithWatermarkController=s,t.stringWithWatermark=i,r.module(t.moduleName,[o.moduleName]).directive(t.directiveName,i).controller(t.controllerName,s)},function(e,t,n){"use strict";function i(){return{restrict:"E",template:'\n			<div class="input-group" ng-class="{ \'has-error\': typeahead.hasError }">\n				<input type="text" ng-model="typeahead.selection" class="form-control"\n					placeholder="{{typeahead.placeholder}}" typeahead="object as typeahead.transform(object) for object in typeahead.getItems($viewValue)"\n					typeahead-loading="typeahead.loading" typeahead-wait-ms="typeahead.loadDelay" />\n				<div class="input-group-addon" ng-if="typeahead.showSearch">\n					<rl-busy loading="typeahead.loading"></rl-busy>\n					<span ng-hide="typeahead.loading">\n						<i class="fa fa-search" ng-hide="typeahead.hasSelection"></i>\n						<i class="fa fa-check" ng-show="typeahead.hasSelection"></i>\n					</span>\n				</div>\n				<div class="input-group-btn" ng-if="typeahead.useApply">\n					<rl-button type="default" action="typeahead.applyItem()" button-right-aligned="true" ng-disabled="!typeahead.hasSelection">\n						<i class="fa fa-plus new"></i>\n					</rl-button>\n				</div>\n			</div>\n		',controller:t.controllerName,controllerAs:"typeahead",scope:{},bindToController:{childLink:"=",selectionBinding:"=selection",hasSelection:"=",select:"&",transformInParent:"&transform",getItemsInParent:"&getItems",placeholder:"@",useClientSearching:"=",hasError:"=",showSearch:"=",apply:"&"}}}var r=n(1),a=n(25),o=n(19),s=o.services.parentChildBehavior,l=o.services.genericSearchFilter,c=o.services.object,u=o.services.array,d=o.services.promise;t.moduleName="rl.ui.components.typeahead",t.directiveName="rlTypeahead",t.controllerName="TypeaheadController";var p=function(){function e(e,t,n,i,r,o,s,l){var c=this;this.$scope=e,this.$q=n,this.parentChild=i,this.array=s,this.promise=l,this.loading=!1,this.addItem=function(e){null!=c.cachedItems&&c.cachedItems.push(e)},this.removeItem=function(e){null!=c.cachedItems&&c.array.remove(c.cachedItems,e)},this.searchFilter=r.getInstance(),this.loadDelay=this.useClientSearching?100:500,this.selection=this.selectionBinding,null==this.hasSelection&&(this.hasSelection=!1),null==this.placeholder&&(this.placeholder="Search"),null==this.showSearch&&(this.showSearch=!0),this.useScopeSelection=o.isNullOrEmpty(t.selection)===!1,this.hasTransform=o.isNullOrEmpty(t.transform)===!1,this.useApply=o.isNullOrEmpty(t.apply)===!1,this.parentChild.registerChildBehavior(this.childLink,{add:this.addItem,remove:this.removeItem}),e.$watch(function(){return c.selection},function(e){c.hasSelection=a.isObject(e),c.setSelection(e)}),e.$watch(function(){return c.selectionBinding},function(e){null==e&&(c.selection=null)})}return e.prototype.setSelection=function(e){null!=this.hasSelection&&(this.hasSelection=this.hasSelection),this.useScopeSelection&&(this.selection=e),a.isFunction(this.select)&&this.select({value:e,hasSelection:this.hasSelection})},e.prototype.transform=function(e){return this.hasTransform&&null!=e?this.transformInParent({value:e}):e},e.prototype.getItems=function(e){var t=this;return this.useClientSearching?(this.searchFilter.searchText=e,null!=this.cachedItems?this.$q.when(this.filter(this.cachedItems)):this.$q.when(this.getItemsInParent()).then(function(e){return t.cachedItems=e,t.filter(e)})):this.getItemsInParent({search:e})},e.prototype.applyItem=function(){var e=this;if(this.useApply&&this.hasSelection){var t=this.apply({value:this.selection});if(this.promise.isPromise(t))return t.then(function(){e.removeItem(e.selection),e.selection=null});a.isUndefined(t)||(this.removeItem(this.selection),this.selection=null)}return this.$q.when()},e.prototype.filter=function(e){var t=this;return a.filter(e,function(e){return t.searchFilter.filter(e)})},e.$inject=["$scope","$attrs","$q",s.serviceName,l.factoryName,c.serviceName,u.serviceName,d.serviceName],e}();t.TypeaheadController=p,t.typeahead=i,r.module(t.moduleName,[s.moduleName,l.moduleName,c.moduleName,u.moduleName,d.moduleName]).directive(t.directiveName,i).controller(t.controllerName,p)},function(e,t,n){"use strict";function i(){return{restrict:"E",require:"ngModel",template:'\n			<span class="rating">\n				<span class="star" ng-repeat="star in userRating.stars" ng-class="{ \'filled\': star.filled }" ng-click="userRating.setRating(star.value)"></span>\n			</span>\n		',controller:t.controllerName,controllerAs:"userRating",scope:{range:"="},link:function(e,t,n,i){e.ngModel=i}}}var r=n(1),a=n(25);t.moduleName="rl.components.userRating",t.directiveName="rlUserRating",t.controllerName="UserRatingController";var o=function(){function e(e){var t=this;this.$scope=e,this.stars=[];var n=null!=this.$scope.range?this.$scope.range:5,i=a.range(1,n+1).reverse();a.each(i,function(e){t.stars.push({value:e,filled:!1})});var r=this.$scope.$watch("ngModel",function(e){t.updateStarView(t.$scope.ngModel.$viewValue),r()})}return e.prototype.setRating=function(e){this.$scope.ngModel.$setViewValue(e),this.updateStarView(e)},e.prototype.updateStarView=function(e){a.each(this.stars,function(t){t.value<=e?t.filled=!0:t.filled=!1})},e.$inject=["$scope"],e}();t.UserRatingController=o,t.userRating=i,r.module(t.moduleName,[]).directive(t.directiveName,i).controller(t.controllerName,o)},function(e,t,n){"use strict";var i=n(1),r=n(103);t.autosaveDialog=r;var a=n(88);t.breakpoints=a;var o=n(110);t.contentProvider=o;var s=n(105);t.dialog=s;var l=n(76);t.jquery=l;var c=n(89);t.windowWrapper=c,t.moduleName="rl.ui.services",i.module(t.moduleName,[r.moduleName,a.moduleName,o.moduleName,s.moduleName,l.moduleName,c.moduleName])},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var r=n(1),a=n(104),o=n(109);i(n(104)),i(n(109)),t.moduleName="rl.ui.services.autosaveDialog",r.module(t.moduleName,[]).service(a.serviceName,a.AutosaveDialogService).controller(o.controllerName,o.AutosaveDialogController)},function(e,t,n){"use strict";var i=n(19),r=n(105),a=n(109);t.serviceName="autosaveDialog";var o=i.services.autosave,s=function(){function e(e,t,n){var i=this;this.$rootScope=e,this.dialog=t,this.autosaveFactory=n,this.autosaveCloseHandler=function(e){return e?!0:i.autosave.autosave(i.data)},this.setForm=function(e){i.autosave.contentForm=e}}return e.prototype.open=function(e){var t=e.scope;null==t&&(t=this.$rootScope.$new(),e.scope=t),this.autosave=this.autosaveFactory.getInstance(e.save,null,e.validate),t.form=e.form,t.formGetter=e.formGetter,t.setForm=this.setForm,this.data=e.data,t.dialog=e.data;var n=e;return n.controller=a.controllerName,n.controllerAs="controller",this.dialog.open(e,this.autosaveCloseHandler)},e.$inject=["$rootScope",r.serviceName,o.factoryName],e}();t.AutosaveDialogService=s},function(e,t,n){"use strict";function i(){var e=this,t={setImplementation:function(t){e.dialogImplementation=t},$get:function(t){var n=null!=e.dialogImplementation?e.dialogImplementation:t;return new o(n)}};return t.$get.$inject=[a.serviceName],t}var r=n(1),a=n(106);t.moduleName="rl.ui.services.dialog",t.serviceName="dialog";var o=function(){function e(e){this.dialog=e}return e.prototype.open=function(e,t){this.dialog.open(e,t)},e}();t.DialogService=o,t.dialogServiceProvider=i,r.module(t.moduleName,[a.moduleName]).provider(t.serviceName,i)},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var r=n(1),a=n(107),o=n(108);i(n(107)),i(n(108)),t.moduleName="rl.ui.services.dialog.baseDialog",r.module(t.moduleName,[]).controller(a.controllerName,a.BaseDialogController).service(o.serviceName,o.BaseDialogService)},function(e,t,n){"use strict";var i=n(108);t.controllerName="BaseDialogController";var r=function(){function e(e,t,n){var i;return null!=e.modalController&&(i=t(e.modalController,{$scope:e})),e.$on("modal.closing",n.modalClosing),i}return e.$inject=["$scope","$controller",i.serviceName],e}();t.BaseDialogController=r},function(e,t,n){"use strict";var i=n(25),r=n(107);t.serviceName="baseDialog";var a=function(){function e(e,t){var n=this;this.$modal=e,this.$rootScope=t,this.modalClosing=function(e,t,r){var a=!0;i.isFunction(n.closeHandler)&&(a=n.closeHandler(r)),a||e.preventDefault()}}return e.prototype.open=function(e,t){this.closeHandler=t,e=this.configureModalSettings(e),this.$modal.open(e)},e.prototype.configureModalSettings=function(e){null==e&&(e={});var t=e.scope;return null==t&&(t=this.$rootScope.$new()),t.modalController=e.controller,e.controller=r.controllerName,e.scope=t,e},e.$inject=["$modal","$rootScope"],e}();t.BaseDialogService=a},function(e,t){"use strict";t.controllerName="AutosaveDialogController";var n=function(){function e(e){if(this.$scope=e,null!=e.form)var t=e.$watch(e.form,function(n){null!=n&&(e.setForm(n),t())});else if(null!=e.formGetter)var t=e.$watch(function(){return e.formGetter(e)},function(n){null!=n&&(e.setForm(n),t())})}return e.$inject=["$scope"],e}();t.AutosaveDialogController=n},function(e,t,n){"use strict";function i(e){return{getInstance:function(){return new l(e)}}}var r=n(1),a=n(25),o=n(19),s=o.services.observable;t.moduleName="rl.utilities.services.contentProvider",t.serviceName="contentProviderFactory";var l=function(){function e(e){var t=this;this.setTranscludeContent=function(e){a.isFunction(e)?e(function(e){t.setContent(e)}):t.setContent(null)},this.observable=e.getInstance()}return e.prototype.setContent=function(e){this.content=e,this.observable.fire("contentChanged")},e.prototype.register=function(e,t){var n=this;return null!=this.content&&e(this.getContent(t)),this.observable.register(function(){e(n.getContent(t))},"contentChanged")},e.prototype.getContent=function(e){return null!=e?this.content.filter(e):this.content},e}();i.$inject=[s.factoryName],r.module(t.moduleName,[s.moduleName]).factory(t.serviceName,i)}]);